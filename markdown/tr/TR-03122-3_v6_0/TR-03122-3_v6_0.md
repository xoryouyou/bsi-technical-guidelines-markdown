![](_page_0_Picture_0.jpeg)

Technical Guideline TR-03122-3

# Conformance Test Specification for BSI TR-03121 Biometrics for Public Sector Applications

Part 3: Test Cases for Function Modules and Processes

| Version 6.0 |
|-------------|
|             |
|             |
|             |
|             |
|             |
|             |
|             |
|             |
|             |
|             |
|             |
|             |

Federal Office for Information Security PO Box 20 03 63 53133 Bonn E-Mail: [trbiometrics@bsi.bund.de](mailto:trbiometrics@bsi.bund.de) Internet:<https://bsi.bund.de> © Federal Office for Information Security 2023

# Table of Content

| 2<br>Test Cases Function Modules<br><br>2.1<br>Test Cases Acquisition Hardware<br><br>2.2<br>Test Cases Acquisition Software<br><br>2.3<br>Test Cases Biometric Image Processing<br><br>2.4<br>Test Cases Quality Assessment<br> | 2<br>2<br>25<br>44<br>56<br>74<br>85<br>92 |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|                                                                                                                                                                                                                                  |                                            |
|                                                                                                                                                                                                                                  |                                            |
|                                                                                                                                                                                                                                  |                                            |
|                                                                                                                                                                                                                                  |                                            |
|                                                                                                                                                                                                                                  |                                            |
| 2.5<br>Test Cases Presentation Attack Detection<br>                                                                                                                                                                              |                                            |
| 2.6<br>Test Cases Compression<br>                                                                                                                                                                                                |                                            |
| 2.7<br>Test Cases User Interface<br>                                                                                                                                                                                             |                                            |
| 2.8<br>Test Cases Biometric Comparison<br>                                                                                                                                                                                       | 97                                         |
| 2.9<br>Test Cases Logging<br>                                                                                                                                                                                                    | 101                                        |
| 2.10<br>Test Cases Coding<br>                                                                                                                                                                                                    | 111                                        |
| 3<br>Test Cases Partial Application Processes<br>                                                                                                                                                                                | 121                                        |
| 3.1<br>Test Cases PAP ACQ-FI-SV-5: Supervised Facial Image Acquisition System<br>                                                                                                                                                | 121                                        |
| 3.2<br>Test Cases PAP ACQ-FI-AUTO-1: Automated Facial Image Acquisition<br>                                                                                                                                                      | 126                                        |
| 3.3<br>Test Cases PAP ACQ-FI-SV-2: Supervised Facial Image Acquisition with CIR Lookup<br>                                                                                                                                       | 128                                        |
| 3.4<br>Test Cases PAP ACQ-FI-SV-4: Supervised Facial Image Acquisition<br>                                                                                                                                                       | 132                                        |
| 3.5<br>Test Cases PAP ACQ-FPS-SV-1: Supervised Acquisition Single Slap<br>                                                                                                                                                       | 134                                        |
| 3.6<br>Test Cases PAP ACQ-FP442-SV-1: Supervised Acquisition 4-4-2 for Enrolment<br>                                                                                                                                             | 139                                        |
| 3.7<br>Test Cases PAP ACQ-FP4141-SV-1: Supervised Acquisition 4-1-4-1 for Enrolment<br>                                                                                                                                          | 140                                        |
| 3.8<br>Test Cases PAP ACQ-FP2P-SV-1: Supervised Acquisition of Two Plain Fingers on Multi-Finger<br>Hardware for Enrolment<br>                                                                                                   | 141                                        |
| 3.9<br>Test Cases PAP ACQ-FP2P-SV-2: Supervised Acquisition of Two Plain Fingers on Single-Finger                                                                                                                                |                                            |
| Hardware for Enrolment<br>                                                                                                                                                                                                       | 146                                        |
| 3.10<br>Test Cases PAP ACQ-FP10R-SV-1: Ten Finger Rolled Supervised Acquisition for Enrolment                                                                                                                                    | <br>149                                    |
| 3.11<br>Test Cases PAP ACQ-FPS-USV-1: Unsupervised Acquisition Single Slap<br>                                                                                                                                                   | 153                                        |
| 3.12<br>Test Cases PAP ACQ-FP2P-USV-1: Unsupervised Acquisition of Two Plain Fingerprints on Mul<br>ti-Finger Hardware for Enrolment<br>                                                                                         | 155                                        |
| 3.13<br>Test Cases PAP ACQ-FP2P-USV-2: Unsupervised Acquisition of Two Plain Fingerprints on Sing<br>le-Finger Hardware for Enrolment<br>                                                                                        | 157                                        |
| List of Abbreviations<br>                                                                                                                                                                                                        | 160                                        |
| Bibliography<br>                                                                                                                                                                                                                 | 161                                        |

# <span id="page-4-0"></span>1 Introduction

This document is part three of the Conformance Test Specification (TR-03122). It is the counterpart of TR-03121-3 describing the test cases for the defined Function Modules.

Not all Function Modules have test cases associated with them.

# <span id="page-5-0"></span>2 Test Cases Function Modules

The following sections define test cases for Function Modules.

### <span id="page-5-1"></span>2.1 Test Cases Acquisition Hardware

### 2.1.1 Test Cases FM AH-ALL-SSS

| Test Case ID: TC-AH-ALL-SSS-001 |                                                                                                      |                                                                                                                                                                                                                            |  |  |
|---------------------------------|------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                           |                                                                                                      | Examination of the surveillance camera systems of the self-service system (SSS) used for to obtain<br>digitised facial images and fingerprints.                                                                            |  |  |
| Preconditions                   | •                                                                                                    | The Implementation Under Test (IUT)'s SSS is ready for operation.                                                                                                                                                          |  |  |
|                                 | A environment surveillance camera system which supervises the area around SSS is avail<br>•<br>able. |                                                                                                                                                                                                                            |  |  |
|                                 | •                                                                                                    | A environment surveillance camera system which supervises the fingerprint capture system of<br>the SSS is available.                                                                                                       |  |  |
|                                 | •                                                                                                    | The IUT implements a graphical user interface.                                                                                                                                                                             |  |  |
|                                 | •                                                                                                    | The IUT implements a user interface of fingerprint acquisition shown to the biometric subject.                                                                                                                             |  |  |
|                                 | •<br>Two test subjects are available to test the IUT's behaviour.                                    |                                                                                                                                                                                                                            |  |  |
| CTS Mode                        | •<br>interactive                                                                                     |                                                                                                                                                                                                                            |  |  |
|                                 | •                                                                                                    | no provision of pre-defined input data                                                                                                                                                                                     |  |  |
|                                 | •                                                                                                    | HTTP method: GET                                                                                                                                                                                                           |  |  |
|                                 | test case variants:<br>•                                                                             |                                                                                                                                                                                                                            |  |  |
|                                 |                                                                                                      |                                                                                                                                                                                                                            |  |  |
|                                 |                                                                                                      | /TR03122/TC-AH-ALL-SSS-001/1                                                                                                                                                                                               |  |  |
|                                 |                                                                                                      | Table 2.2 TC-AH-ALL-SSS-001 Test Case Variants                                                                                                                                                                             |  |  |
| Description                     | Step                                                                                                 | Description / Expected Result                                                                                                                                                                                              |  |  |
|                                 | 1                                                                                                    | Description:                                                                                                                                                                                                               |  |  |
|                                 |                                                                                                      | •<br>A single biometric subject initiates the SSS process of the IUT.                                                                                                                                                      |  |  |
|                                 |                                                                                                      | Perform a bona fide fingerprint presentation on the fingerprint scanner of<br>•<br>the IUT.                                                                                                                                |  |  |
|                                 |                                                                                                      | Interact with the graphical user interface of the IUT.<br>•                                                                                                                                                                |  |  |
|                                 |                                                                                                      | Expected Result:                                                                                                                                                                                                           |  |  |
|                                 |                                                                                                      | •<br>The IUT delivers a response that is conformant to the schema file<br>trbio5v1.xsd.                                                                                                                                    |  |  |
|                                 |                                                                                                      | •<br>A fingerprint image is captured.                                                                                                                                                                                      |  |  |
|                                 |                                                                                                      | •<br>The surveillance camera system captures a colour image of the surrounding<br>area at the moment of the finger capture attempt in which the face of the<br>biometric subject using the fingerprint scanner is visible. |  |  |
|                                 |                                                                                                      | •<br>The surveillance camera system captures a colour image of the fingerprint<br>acquisition area at the moment of the finger capture attempt.                                                                            |  |  |
|                                 |                                                                                                      | •<br>The images captured by the surveillance camera systems are cached locally.                                                                                                                                            |  |  |
|                                 |                                                                                                      | The image captured by the surveillance camera system has a resolution of at<br>•<br>least 1280 x 720.                                                                                                                      |  |  |
|                                 |                                                                                                      | The differences of capture times between the images captured by sur<br>•<br>veillance camera systems and the fingerprint capture attempt image are<br>logged and below 100 ms.                                             |  |  |
|                                 | 2                                                                                                    | Description:                                                                                                                                                                                                               |  |  |

**•** A single biometric subject initiates the SSS process of the IUT.

### **Test Case ID: TC-AH-ALL-SSS-001** *Expected Result:* **•** The IUT starts the SSS process and enables interaction via the graphical user interface. *Description:* **•** A second biometric subject moves into the corridor of the SSS (distance of 100cm in front the SSS). 3 *Expected Result:* **•** The image captured by the surveillance camera system of the surrounding area allows to identify whether that more than one person is in range of the SSS. *Description:* **•** Both biometric subjects leave the corridor of the SSS. 4

- *Expected Result:*
- **•** The IUT stops the SSS process.

**Table 2.1** Test Case ID: TC-AH-ALL-SSS-001

## 2.1.2 Test Cases FM AH-FI-BCL

| Test Case ID: TC-AH-FI-BCL-001 |                                                                                                 |                                                                                                                                                        |  |  |  |  |
|--------------------------------|-------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|
| Scope                          | Examination of technical specifications of the digital camera used to obtain facial biometrics. |                                                                                                                                                        |  |  |  |  |
| Preconditions                  | •<br>The camera used in the specific application profile is at hand and ready for operation.    |                                                                                                                                                        |  |  |  |  |
|                                | •<br>Product documentation of the camera model is at hand (e.g. data sheet, manual).            |                                                                                                                                                        |  |  |  |  |
| CTS Mode                       | Not supported                                                                                   |                                                                                                                                                        |  |  |  |  |
| Description                    | Step                                                                                            | Description / Expected Result                                                                                                                          |  |  |  |  |
|                                | 1                                                                                               | Description:                                                                                                                                           |  |  |  |  |
|                                |                                                                                                 | Consult product documentation of the camera system.                                                                                                    |  |  |  |  |
|                                |                                                                                                 | Expected Result:                                                                                                                                       |  |  |  |  |
|                                |                                                                                                 | The product documentation states that the camera system supports captu<br>re of color images.                                                          |  |  |  |  |
|                                | 2                                                                                               | Description:                                                                                                                                           |  |  |  |  |
|                                |                                                                                                 | Consult the product documentation of the camera system.                                                                                                |  |  |  |  |
|                                |                                                                                                 | Expected Result:                                                                                                                                       |  |  |  |  |
|                                |                                                                                                 | The product documentation states the support of capturing facial images of a<br>biometric subject with a body height in the range of 140 cm to 200 cm. |  |  |  |  |

### **Table 2.3** Test Case ID: TC-AH-FI-BCL-001

| Test Case ID: TC-AH-FI-BCL-002 |                                                                                                                  |  |  |  |  |  |
|--------------------------------|------------------------------------------------------------------------------------------------------------------|--|--|--|--|--|
| Scope                          | Examination of image resolution and cropping features of the digital camera used to obtain facial<br>biometrics. |  |  |  |  |  |
| Preconditions                  | •<br>The camera used in the specific application profile is at hand and ready for operation.                     |  |  |  |  |  |
|                                | The IUT implements an interface for conformance testing where a single image can be captured.<br>•               |  |  |  |  |  |
|                                | The IUT is able to return the results for every captured image via the test interface.<br>•                      |  |  |  |  |  |
|                                | •<br>One test subject is available to test the Implementation Under Test (IUT)'s behaviour.                      |  |  |  |  |  |

### **Test Case ID: TC-AH-FI-BCL-002**

*CTS Mode* **•** interactive

1

- **•** no provision of pre-defined input data
- **•** HTTP method: GET
- **•** test case variants:

/TR03122/TC-AH-FI-BCL-002/1

*Description*

### **Table 2.5** TC-AH-FI-BCL-002 Test Case Variants **Step Description / Expected Result**

- *Description:*
	- **•** Position the biometric subject in a distance of 60 cm towards the camera system.
	- **•** Acquire an image with the camera system via the CTS interface.

*Expected Result:*

- **•** A message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).
- **•** The CTS verifies that the image returned by the IUT has a resolution of 1600 x 1200 pixels with a maximal deviation of -10%.

**Table 2.4** Test Case ID: TC-AH-FI-BCL-002

| Test Case ID: TC-AH-FI-BCL-003 |                                                                                                                                     |                                                                                                                                                                                          |  |  |  |  |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|
| Scope                          | Examination of image processing features of the digital camera or provided/integrated software<br>used to obtain facial biometrics. |                                                                                                                                                                                          |  |  |  |  |
| Preconditions                  | •                                                                                                                                   | The camera used in the specific application profile is at hand and ready for operation.                                                                                                  |  |  |  |  |
|                                | •                                                                                                                                   | The IUT implements an interface for conformance testing where a single image can be captured.                                                                                            |  |  |  |  |
|                                | •<br>The IUT is able to return the results for every captured image via the test interface.                                         |                                                                                                                                                                                          |  |  |  |  |
|                                | •<br>Two biometric test subjects are available to test the IUT's behaviour.                                                         |                                                                                                                                                                                          |  |  |  |  |
| CTS Mode                       | •<br>interactive                                                                                                                    |                                                                                                                                                                                          |  |  |  |  |
|                                | no provision of pre-defined input data<br>•                                                                                         |                                                                                                                                                                                          |  |  |  |  |
|                                | •<br>HTTP method: GET                                                                                                               |                                                                                                                                                                                          |  |  |  |  |
|                                | •<br>test case variants:                                                                                                            |                                                                                                                                                                                          |  |  |  |  |
|                                |                                                                                                                                     |                                                                                                                                                                                          |  |  |  |  |
|                                |                                                                                                                                     | /TR03122/TC-AH-FI-BCL-003/1                                                                                                                                                              |  |  |  |  |
|                                |                                                                                                                                     | Table 2.7 TC-AH-FI-BCL-003 Test Case Variants                                                                                                                                            |  |  |  |  |
| Description                    | Step                                                                                                                                | Description / Expected Result                                                                                                                                                            |  |  |  |  |
|                                | 1                                                                                                                                   | Description:                                                                                                                                                                             |  |  |  |  |
|                                |                                                                                                                                     | •<br>Position one biometric subject in front of the camera system. Verify that<br>this biometric subject is standing in a distance above 40 cm and below 100<br>cm to the camera system. |  |  |  |  |
|                                |                                                                                                                                     | Position the second biometric subject in front of camera system. Veri<br>•<br>fy that the biometric subject is standing in a distance below 40 cm to ca<br>mera system.                  |  |  |  |  |
|                                |                                                                                                                                     | Attempt to acquire an image with the camera system by using the CTS.<br>•                                                                                                                |  |  |  |  |

### **Test Case ID: TC-AH-FI-BCL-003**

*Expected Result:*

- **•** The camera system does not acquire an image.
- **•** A message conforming to TR-03121 XML but not containing facial image data is returned via the test interface (bio:FaceAcquisition).

### **Table 2.6** Test Case ID: TC-AH-FI-BCL-003

| Test Case ID: TC-AH-FI-BCL-004 |                                                                                                                                     |                                                                                                                                                                                          |  |  |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of image processing features of the digital camera or provided/integrated software<br>used to obtain facial biometrics. |                                                                                                                                                                                          |  |  |
| Preconditions                  | •<br>The camera used in the specific application profile is at hand and ready for operation.                                        |                                                                                                                                                                                          |  |  |
|                                | •<br>The IUT implements an interface for conformance testing where a single image can be captured.                                  |                                                                                                                                                                                          |  |  |
|                                | •<br>The IUT is able to return the results for every captured image via the test interface.                                         |                                                                                                                                                                                          |  |  |
|                                | Two biometric test subjects are available to test the IUT's behaviour.<br>•                                                         |                                                                                                                                                                                          |  |  |
| CTS Mode                       | interactive<br>•                                                                                                                    |                                                                                                                                                                                          |  |  |
|                                | •<br>no provision of pre-defined input data                                                                                         |                                                                                                                                                                                          |  |  |
|                                | •<br>HTTP method: GET                                                                                                               |                                                                                                                                                                                          |  |  |
|                                | •<br>test case variants:                                                                                                            |                                                                                                                                                                                          |  |  |
|                                |                                                                                                                                     |                                                                                                                                                                                          |  |  |
|                                |                                                                                                                                     | /TR03122/TC-AH-FI-BCL-004/1                                                                                                                                                              |  |  |
|                                |                                                                                                                                     | Table 2.9 TC-AH-FI-BCL-004 Test Case Variants                                                                                                                                            |  |  |
| Description                    | Step                                                                                                                                | Description / Expected Result                                                                                                                                                            |  |  |
|                                | 1                                                                                                                                   | Description:                                                                                                                                                                             |  |  |
|                                |                                                                                                                                     | •<br>Position one biometric subject in front of the camera system. Verify that<br>this biometric subject is standing in a distance above 40 cm and below 100<br>cm to the camera system. |  |  |
|                                |                                                                                                                                     | •<br>Position the second biometric subject in front of the camera system. Verify<br>that the biometric subject is standing in a distance above 100 cm to ca<br>mera system.              |  |  |
|                                |                                                                                                                                     | •<br>Acquire an image with the camera system by using the CTS.                                                                                                                           |  |  |
|                                |                                                                                                                                     | Expected Result:                                                                                                                                                                         |  |  |
|                                |                                                                                                                                     | •<br>A message conforming to TR-03121 XML containing the encoded facial<br>image is returned via the test interface (bio:FaceAcquisition).                                               |  |  |
|                                |                                                                                                                                     | •<br>The returned image depicts the biometric subject which was positioned in a<br>distance above 40 cm and below 100 cm to the camera system.                                           |  |  |

**Table 2.8** Test Case ID: TC-AH-FI-BCL-004

### 2.1.3 Test Cases FM AH-FI-DC

| Test Case ID: TC-AH-FI-DC-001 |                                                                                                                                                                                                         |                               |  |
|-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|--|
| Scope                         | Examination of technical specifications of the facial image camera used to obtain facial biometrics.<br>Note, this requirement is OPTIONAL for scenarios where only a facial verification is performed. |                               |  |
| Preconditions                 | •<br>The camera used in the specific application profile is at hand                                                                                                                                     |                               |  |
|                               | •<br>Product documentation of the camera model is at hand (e.g. data sheet, manual)                                                                                                                     |                               |  |
| CTS Mode                      | Not supported                                                                                                                                                                                           |                               |  |
| Description                   | Step                                                                                                                                                                                                    | Description / Expected Result |  |

| Test Case ID: TC-AH-FI-DC-001 |                                                                                                                                                                                    |
|-------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1                             | Description:                                                                                                                                                                       |
|                               | Verify that the sensor of the camera provides a physical resolution of at least<br>1200 x 1600 pixels.                                                                             |
|                               | Consult product documentation of the camera.                                                                                                                                       |
|                               | Expected Result:                                                                                                                                                                   |
|                               | The product documentation states that the physical, native resolution is at<br>least 1200 x 1600 pixels.                                                                           |
| 2                             | Description:                                                                                                                                                                       |
|                               | Verify that the active camera setting (e.g. configurable via camera firmware)<br>used for the specific application provides an image resolution of at least<br>1200 x 1600 pixels. |
|                               | Consult product documentation of the camera or options in cameras firm<br>ware.                                                                                                    |
|                               | Expected Result:                                                                                                                                                                   |
|                               | •<br>The setting provides a native image resolution of at least 1200 x 1600 pixels.                                                                                                |

**•** This setting is the active setting for the application profile

**Table 2.10** Test Case ID: TC-AH-FI-DC-001

| Test Case ID: TC-AH-FI-DC-002 |                                                                                                                                                                                                                                                                               |                                                                                                       |
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
| Scope                         | Examination of technical specifications of the digital camera used to obtain digitised facial images.<br>This test case covers the colour space of captured facial image. Note, this requirement is OP<br>TIONAL for scenarios where only a facial verification is performed. |                                                                                                       |
| Preconditions                 | Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                |                                                                                                       |
| CTS Mode                      | Not supported                                                                                                                                                                                                                                                                 |                                                                                                       |
| Description                   | Step                                                                                                                                                                                                                                                                          | Description / Expected Result                                                                         |
|                               | 1                                                                                                                                                                                                                                                                             | Description:                                                                                          |
|                               |                                                                                                                                                                                                                                                                               | •<br>Verify that the digital camera provides a 24 bit sRGB mode.                                      |
|                               |                                                                                                                                                                                                                                                                               | •<br>Consult product documentation of the digital camera.                                             |
|                               |                                                                                                                                                                                                                                                                               | Expected Result:                                                                                      |
|                               |                                                                                                                                                                                                                                                                               | The product documentation states that the digital camera is able to capture<br>images in 24 bit sRGB. |

**Table 2.11** Test Case ID: TC-AH-FI-DC-002

### 2.1.4 Test Cases FM AH-FI-DC2

| Test Case ID: TC-AH-FI-DC2-001 |                                                                                                                                                                                                    |                                                                                                        |
|--------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| Scope                          | Examination of technical specifications of the digital camera used to obtain facial biometrics. Note,<br>this requirement is OPTIONAL for scenarios where only a facial verification is performed. |                                                                                                        |
| Preconditions                  | •<br>The camera used in the specific application profile is at hand                                                                                                                                |                                                                                                        |
|                                | Product documentation of the camera model is at hand (e.g. data sheet, manual)<br>•                                                                                                                |                                                                                                        |
| CTS Mode                       | Not supported                                                                                                                                                                                      |                                                                                                        |
| Description                    | Step                                                                                                                                                                                               | Description / Expected Result                                                                          |
|                                | 1                                                                                                                                                                                                  | Description:                                                                                           |
|                                |                                                                                                                                                                                                    | Verify that the sensor of the camera provides a physical resolution of at least<br>1244 x 1600 pixels. |
|                                |                                                                                                                                                                                                    | Consult product documentation of the camera.                                                           |

### **Test Case ID: TC-AH-FI-DC2-001**

2

### *Expected Result:*

The product documentation states that the physical, native resolution is at least 1244 x 1600 pixels.

*Description:*

Verify that the active camera setting (e.g. configurable via camera firmware) used for the specific application provides an image resolution of at least 1244 x 1600 pixels.

Consult product documentation of the camera or options in cameras firm ware.

*Expected Result:*

- **•** The setting provides a native image resolution of at least 1244 x 1600 pixels.
- **•** This setting is the active setting for the application profile

### **Table 2.12** Test Case ID: TC-AH-FI-DC2-001

| Test Case ID: TC-AH-FI-DC2-002 |                                                                                                                                                                                                                                                                               |                                                                                                       |  |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|--|
| Scope                          | Examination of technical specifications of the digital camera used to obtain digitised facial images.<br>This test case covers the colour space of captured facial image. Note, this requirement is OP<br>TIONAL for scenarios where only a facial verification is performed. |                                                                                                       |  |
| Preconditions                  | Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                |                                                                                                       |  |
| CTS Mode                       | Not supported                                                                                                                                                                                                                                                                 |                                                                                                       |  |
| Description                    | Step                                                                                                                                                                                                                                                                          | Description / Expected Result                                                                         |  |
|                                | 1                                                                                                                                                                                                                                                                             | Description:                                                                                          |  |
|                                |                                                                                                                                                                                                                                                                               | Verify that the digital camera provides a 24 bit sRGB mode.<br>•                                      |  |
|                                |                                                                                                                                                                                                                                                                               | •<br>Consult product documentation of the digital camera.                                             |  |
|                                |                                                                                                                                                                                                                                                                               | Expected Result:                                                                                      |  |
|                                |                                                                                                                                                                                                                                                                               | The product documentation states that the digital camera is able to capture<br>images in 24 bit sRGB. |  |

**Table 2.13** Test Case ID: TC-AH-FI-DC2-002

### 2.1.5 Test Cases FM AH-FI-EGT

| Test Case ID: TC-AH-FI-EGT-001 |                                                                                                                               |  |  |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of technical specifications of the camera system used to obtain digitised facial images<br>in an e-gate scenario. |  |  |
| Preconditions                  | •<br>The camera system used in the specific application profile is at hand and ready for operation.                           |  |  |
|                                | •<br>Product documentation of the camera system is at hand (e.g. data sheet, manual).                                         |  |  |
| CTS Mode                       | Not supported                                                                                                                 |  |  |

| Test Case ID: TC-AH-FI-EGT-001            |                                         |                                                                                                                                                                                                     |  |  |  |
|-------------------------------------------|-----------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Description                               | Step                                    | Description / Expected Result                                                                                                                                                                       |  |  |  |
|                                           | 1                                       | Description:                                                                                                                                                                                        |  |  |  |
|                                           |                                         | Consult product documentation of the camera system.                                                                                                                                                 |  |  |  |
|                                           |                                         | Expected Result:                                                                                                                                                                                    |  |  |  |
|                                           |                                         | •<br>The product documentation states the support of capturing facial images a bio<br>metric subject with a body height in the range of 140 cm to 200 cm standing in front<br>of the camera system. |  |  |  |
|                                           |                                         | •<br>The product documentation states a physical resolution of at least 600x800 pixels wi<br>thout application of upscaling.                                                                        |  |  |  |
|                                           | 2                                       | Description:                                                                                                                                                                                        |  |  |  |
|                                           |                                         | Assess the design of the camera system.                                                                                                                                                             |  |  |  |
|                                           |                                         | Expected Result:                                                                                                                                                                                    |  |  |  |
|                                           |                                         | The camera system is designed to be placed in the moving direction of the biometric<br>•<br>subject.                                                                                                |  |  |  |
|                                           |                                         | The camera system obviously does not require a rotation of the biometric subject for<br>•<br>acquisition.                                                                                           |  |  |  |
|                                           | Table 2.15 TC-AH-FI-EGT-001 Description |                                                                                                                                                                                                     |  |  |  |
| Table 2.14 Test Case ID: TC-AH-FI-EGT-001 |                                         |                                                                                                                                                                                                     |  |  |  |

| Test Case ID: TC-AH-FI-EGT-002 |                                                                                                              |  |  |
|--------------------------------|--------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of properties of digitised facial images captured by the camera system in an e-gate<br>scenario. |  |  |
| Preconditions                  | •<br>The camera system used in the specific application profile is at hand and ready for operation.          |  |  |
|                                | •<br>The IUT implements an interface for conformance testing where a single image can be captured.           |  |  |
|                                | •<br>The IUT is able to return the results for every captured image via the test interface.                  |  |  |
|                                | •<br>One test subject is available to test the IUT's behaviour.                                              |  |  |
| CTS Mode                       | interactive<br>•                                                                                             |  |  |
|                                | •<br>no provision of pre-defined input data                                                                  |  |  |
|                                | •<br>HTTP method: GET                                                                                        |  |  |
|                                | •<br>test case variants:                                                                                     |  |  |
|                                |                                                                                                              |  |  |

/TR03122/TC-AH-FI-EGT-002/1

**Table 2.17** TC-AH-FI-EGT-002 Test Case Variants

| Test Case ID: TC-AH-FI-EGT-002            |      |                                                                                                                                             |  |  |  |
|-------------------------------------------|------|---------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Description                               | Step | Description / Expected Result                                                                                                               |  |  |  |
|                                           | 1    | Description:                                                                                                                                |  |  |  |
|                                           |      | •<br>Position the biometric subject in a distance of 50 cm towards the camera system.                                                       |  |  |  |
|                                           |      | Acquire an image with the camera system via the CTS interface.<br>•                                                                         |  |  |  |
|                                           |      | Expected Result:                                                                                                                            |  |  |  |
|                                           |      | •<br>A message conforming to TR-03121 XML containing the encoded facial image is re<br>turned via the test interface (bio:FaceAcquisition). |  |  |  |
|                                           |      | •<br>The CTS verifies that the image returned by the IUT has a resolution of at least<br>600x800 pixels.                                    |  |  |  |
|                                           |      | •<br>The image has sufficient sharpness for visual identification of the subject and does<br>not obviously distort the captured face.       |  |  |  |
|                                           | 2    | Description:                                                                                                                                |  |  |  |
|                                           |      | •<br>Position the biometric subject in a distance of 100 cm towards the camera system.                                                      |  |  |  |
|                                           |      | •<br>Acquire an image with the camera system via the CTS interface.                                                                         |  |  |  |
|                                           |      | Expected Result:                                                                                                                            |  |  |  |
|                                           |      | •<br>A message conforming to TR-03121 XML containing the encoded facial image is re<br>turned via the test interface (bio:FaceAcquisition). |  |  |  |
|                                           |      | •<br>The CTS verifies that the image returned by the IUT has a resolution of at least<br>600x800 pixels.                                    |  |  |  |
|                                           |      | •<br>The image has sufficient sharpness for visual identification of the subject and does<br>not obviously distort the captured face.       |  |  |  |
|                                           | 3    | Description:                                                                                                                                |  |  |  |
|                                           |      | •<br>Position the biometric subject in a distance of 200 cm towards the camera system.                                                      |  |  |  |
|                                           |      | •<br>Acquire an image with the camera system via the CTS interface.                                                                         |  |  |  |
|                                           |      | Expected Result:                                                                                                                            |  |  |  |
|                                           |      | A message conforming to TR-03121 XML containing the encoded facial image is re<br>•<br>turned via the test interface (bio:FaceAcquisition). |  |  |  |
|                                           |      | •<br>The CTS verifies that the image returned by the IUT has a resolution of at least<br>600x800 pixels.                                    |  |  |  |
|                                           |      | •<br>The image has sufficient sharpness for visual identification of the subject and does<br>not obviously distort the captured face.       |  |  |  |
|                                           |      | Table 2.18 TC-AH-FI-EGT-002 Description                                                                                                     |  |  |  |
| Table 2.16 Test Case ID: TC-AH-FI-EGT-002 |      |                                                                                                                                             |  |  |  |
| 2.1.6 Test Cases FM AH-FI-FBS             |      |                                                                                                                                             |  |  |  |

| Test Case ID: TC-AH-FI-FBS-001 |                                                                                                            |                                                                                  |  |  |  |
|--------------------------------|------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|--|--|--|
| Scope                          | Examination of capable image resolution of flat bed scanner used to scan photos for enrolment<br>purposes. |                                                                                  |  |  |  |
| Preconditions                  | Product documentation of the scanner model is at hand (e.g. data sheet, manual).                           |                                                                                  |  |  |  |
| CTS Mode                       | Not supported                                                                                              |                                                                                  |  |  |  |
| Description                    | Step                                                                                                       | Description / Expected Result                                                    |  |  |  |
|                                | 1                                                                                                          | Description:                                                                     |  |  |  |
|                                |                                                                                                            | •<br>Verify that the scanner provides a physical resolution of at least 600 dpi. |  |  |  |
|                                |                                                                                                            | •<br>Consult product documentation of the scanner.                               |  |  |  |

### **Test Case ID: TC-AH-FI-FBS-001**

*Expected Result:*

The product documentation states that the physical/native resolution is at least 600 dpi.

**Table 2.19** Test Case ID: TC-AH-FI-FBS-001

| Test Case ID: TC-AH-FI-FBS-002 |                                                                                             |                                                                                                    |  |  |
|--------------------------------|---------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of image quality of flat bed scanner used to scan photos for enrolment purposes |                                                                                                    |  |  |
| Preconditions                  | •<br>IUT is running, required modules are loaded.                                           |                                                                                                    |  |  |
|                                | •<br>The scanner used in the specific application profile is connected.                     |                                                                                                    |  |  |
|                                | •<br>As necessary test resources: a photo with at least 36 mm x 45 mm.                      |                                                                                                    |  |  |
| CTS Mode                       | •<br>interactive                                                                            |                                                                                                    |  |  |
|                                | no provision of pre-defined input data<br>•                                                 |                                                                                                    |  |  |
|                                | •<br>HTTP method: GET                                                                       |                                                                                                    |  |  |
|                                | •<br>test case variants:                                                                    |                                                                                                    |  |  |
|                                |                                                                                             |                                                                                                    |  |  |
|                                | /TR03122/TC-AH-FI-FBS-002/1                                                                 |                                                                                                    |  |  |
|                                |                                                                                             | Table 2.21 TC-AH-FI-FBS-002 Test Case Variants                                                     |  |  |
| Description                    | Step                                                                                        | Description / Expected Result                                                                      |  |  |
|                                | 1                                                                                           | Description:                                                                                       |  |  |
|                                |                                                                                             | A photo is placed on the scan area.<br>•                                                           |  |  |
|                                |                                                                                             | The IUT is called via the CTS.<br>•                                                                |  |  |
|                                |                                                                                             | Expected Result:                                                                                   |  |  |
|                                |                                                                                             | •<br>The image dimension is 622 pixels width and 800 height with a to<br>lerance of +/- 10 pixels. |  |  |
|                                |                                                                                             | •<br>The image is of type JPEG.                                                                    |  |  |

**Table 2.20** Test Case ID: TC-AH-FI-FBS-002

### 2.1.7 Test Cases FM AH-FI-ICS

| Test Case ID: TC-AH-FI-ICS-001 |                                                                                                                                                                                                                                                                                                            |                                                                                                                                    |
|--------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|
| Scope                          | Examination of technical specifications of the integrated camera systems used to obtain digitised<br>facial images. This test case covers the minimum physical resolution of the captured facial image.<br>Note, this requirement is OPTIONAL for scenarios where only a facial verification is performed. |                                                                                                                                    |
| Preconditions                  | Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                                             |                                                                                                                                    |
| CTS Mode                       | Not supported                                                                                                                                                                                                                                                                                              |                                                                                                                                    |
| Description                    | Step                                                                                                                                                                                                                                                                                                       | Description / Expected Result                                                                                                      |
|                                | 1                                                                                                                                                                                                                                                                                                          | Description:                                                                                                                       |
|                                |                                                                                                                                                                                                                                                                                                            | •<br>Verify that the sensor of the camera provides a physical resolution of at least<br>1200 x 1600 pixels without any up-scaling. |
|                                |                                                                                                                                                                                                                                                                                                            | •<br>Consult product documentation of the camera.                                                                                  |
|                                |                                                                                                                                                                                                                                                                                                            | Expected Result:                                                                                                                   |
|                                |                                                                                                                                                                                                                                                                                                            | The product documentation states that the physical, native resolution is at<br>least 1200 x 1600 pixels.                           |

**Table 2.22** Test Case ID: TC-AH-FI-ICS-001

| Test Case ID: TC-AH-FI-ICS-002 |                                                                                                                                                             |                                                                                                                                                                                                                     |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Scope                          | Examination of technical specifications of the integrated camera systems used to obtain digitised<br>facial images. This test case covers the illumination. |                                                                                                                                                                                                                     |
| Preconditions                  | Product documentation of the integrated camera system is at hand (e.g. data sheet, manual).                                                                 |                                                                                                                                                                                                                     |
| CTS Mode                       | Not supported                                                                                                                                               |                                                                                                                                                                                                                     |
| Description                    | Step                                                                                                                                                        | Description / Expected Result                                                                                                                                                                                       |
|                                | 1                                                                                                                                                           | Description:                                                                                                                                                                                                        |
|                                |                                                                                                                                                             | Verify that the integrated camera system provides diffuse lighting adapting<br>•<br>to the environmental light conditions.                                                                                          |
|                                |                                                                                                                                                             | •<br>Verify that the integrated camera system allows high quality acquisitions in<br>dependently from the environmental light situation.                                                                            |
|                                |                                                                                                                                                             | •<br>Consult product documentation of the integrated camera system.                                                                                                                                                 |
|                                |                                                                                                                                                             | Expected Result:                                                                                                                                                                                                    |
|                                |                                                                                                                                                             | •<br>The product documentation states that the camera system uses diffuse<br>lighting adapting to the environmental light conditions.                                                                               |
|                                |                                                                                                                                                             | •<br>The product documentation states that the camera system allows high qua<br>lity acquisitions independently from the environmental light situation that<br>can usually be found in the environment in question. |

**Table 2.23** Test Case ID: TC-AH-FI-ICS-002

| Test Case ID: TC-AH-FI-ICS-003 |                                                                                                                                                                                                                                                                                   |                                                                                                      |
|--------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| Scope                          | Examination of technical specifications of the integrated camera systems used to obtain digitised<br>facial images. This test case covers the colour space of captured image. Note, this require<br>ment is OPTIONAL for scenarios where only a facial verification is performed. |                                                                                                      |
| Preconditions                  | Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                    |                                                                                                      |
| CTS Mode                       | Not supported                                                                                                                                                                                                                                                                     |                                                                                                      |
| Description                    | Step                                                                                                                                                                                                                                                                              | Description / Expected Result                                                                        |
|                                | 1                                                                                                                                                                                                                                                                                 | Description:                                                                                         |
|                                |                                                                                                                                                                                                                                                                                   | •<br>Verify that the integrated camera system provides a 24 bit sRGB mode.                           |
|                                |                                                                                                                                                                                                                                                                                   | •<br>Consult product documentation of the integrated camera system.                                  |
|                                |                                                                                                                                                                                                                                                                                   | Expected Result:                                                                                     |
|                                |                                                                                                                                                                                                                                                                                   | The product documentation states that the camera system is able to capture<br>images in 24 bit sRGB. |

### **Table 2.24** Test Case ID: TC-AH-FI-ICS-003

| Test Case ID: TC-AH-FI-ICS-004 |      |                                                                                                                                                                             |  |
|--------------------------------|------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          |      | Examination of technical specifications of the integrated camera systems used to obtain digitised<br>facial images. This test case covers the presence of a digital mirror. |  |
| Preconditions                  |      | Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                              |  |
| CTS Mode                       |      | Not supported                                                                                                                                                               |  |
| Description                    | Step | Description / Expected Result                                                                                                                                               |  |
|                                | 1    | Description:                                                                                                                                                                |  |
|                                |      | Verify that the integrated camera system provides a digital mirror.<br>•                                                                                                    |  |
|                                |      | Consult product documentation of the integrated camera system.<br>•                                                                                                         |  |

### **Test Case ID: TC-AH-FI-ICS-004**

### *Expected Result:*

The product documentation states that the camera system provides a digital mirror.

### **Table 2.25** Test Case ID: TC-AH-FI-ICS-004

### 2.1.8 Test Cases FM AH-FI-ICS2

| Test Case ID: TC-AH-FI-ICS2-001 |      |                                                                                                                                                                                                                                                                                                            |  |
|---------------------------------|------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           |      | Examination of technical specifications of the integrated camera systems used to obtain digitised<br>facial images. This test case covers the minimum physical resolution of the captured facial image.<br>Note, this requirement is OPTIONAL for scenarios where only a facial verification is performed. |  |
| Preconditions                   |      | Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                                             |  |
| CTS Mode                        |      | Not supported                                                                                                                                                                                                                                                                                              |  |
| Description                     | Step | Description / Expected Result                                                                                                                                                                                                                                                                              |  |
|                                 | 1    | Description:                                                                                                                                                                                                                                                                                               |  |
|                                 |      | Verify that the sensor of the camera provides a physical resolution of at least<br>•<br>1244 x 1600 pixels without any up-scaling.                                                                                                                                                                         |  |
|                                 |      | Consult product documentation of the camera.<br>•                                                                                                                                                                                                                                                          |  |
|                                 |      | Expected Result:                                                                                                                                                                                                                                                                                           |  |
|                                 |      | The product documentation states that the physical, native resolution is at                                                                                                                                                                                                                                |  |

least 1244 x 1600 pixels.

#### **Table 2.26** Test Case ID: TC-AH-FI-ICS2-001

| Test Case ID: TC-AH-FI-ICS2-002 |                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                        |  |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of technical specifications of the integrated camera systems used to obtain digitised<br>facial images. This test case covers the illumination. |                                                                                                                                                                                                                                                                                                                        |  |
| Preconditions                   | Product documentation of the integrated camera system is at hand (e.g. data sheet, manual).                                                                 |                                                                                                                                                                                                                                                                                                                        |  |
| CTS Mode                        | Not supported                                                                                                                                               |                                                                                                                                                                                                                                                                                                                        |  |
| Description                     | Step                                                                                                                                                        | Description / Expected Result                                                                                                                                                                                                                                                                                          |  |
|                                 | 1                                                                                                                                                           | Description:                                                                                                                                                                                                                                                                                                           |  |
|                                 |                                                                                                                                                             | •<br>Verify that the integrated camera system provides diffuse lighting adapting<br>to the environmental light conditions.                                                                                                                                                                                             |  |
|                                 |                                                                                                                                                             | Verify that the integrated camera system allows high quality acquisitions in<br>•<br>dependently from the environmental light situation, provided that sys<br>tem is set up in an environment that can usually be found in agencies and<br>that offers normal lighting conditions (no direct light from windows etc.). |  |
|                                 |                                                                                                                                                             | Consult product documentation of the integrated camera system.<br>•                                                                                                                                                                                                                                                    |  |
|                                 |                                                                                                                                                             | Expected Result:                                                                                                                                                                                                                                                                                                       |  |
|                                 |                                                                                                                                                             | •<br>The product documentation states that the camera system uses diffuse<br>lighting adapting to the environmental light conditions.                                                                                                                                                                                  |  |
|                                 |                                                                                                                                                             | •<br>The product documentation states that the camera system allows high qua<br>lity acquisitions independently from the environmental light situation that<br>can usually be found in the environment in question.                                                                                                    |  |

**Table 2.27** Test Case ID: TC-AH-FI-ICS2-002

| Test Case ID: TC-AH-FI-ICS2-003 |                                                                                                                                                                                                                                                                                   |                                                                            |  |
|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|--|
| Scope                           | Examination of technical specifications of the integrated camera systems used to obtain digitised<br>facial images. This test case covers the colour space of captured image. Note, this require<br>ment is OPTIONAL for scenarios where only a facial verification is performed. |                                                                            |  |
| Preconditions                   | Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                    |                                                                            |  |
| CTS Mode                        | Not supported                                                                                                                                                                                                                                                                     |                                                                            |  |
| Description                     | Step                                                                                                                                                                                                                                                                              | Description / Expected Result                                              |  |
|                                 | 1                                                                                                                                                                                                                                                                                 | Description:                                                               |  |
|                                 |                                                                                                                                                                                                                                                                                   | •<br>Verify that the integrated camera system provides a 24 bit sRGB mode. |  |
|                                 |                                                                                                                                                                                                                                                                                   | •<br>Consult product documentation of the integrated camera system.        |  |
|                                 |                                                                                                                                                                                                                                                                                   | Expected Result:                                                           |  |

The product documentation states that the camera system is able to capture images in 24 bit sRGB.

### **Table 2.28** Test Case ID: TC-AH-FI-ICS2-003

| Test Case ID: TC-AH-FI-ICS2-004            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                               |  |
|--------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                                      | Examination of technical specifications of the integrated camera systems used to obtain digitised<br>facial images regarding required range for body height for systems that capture facial images of<br>biometric subjects in a standing position.<br>Note, that this test case is an alternative for test case TC-AH-FI-ICS2-005. Systems can either use a<br>standing position to obtain facial images (than TC-AH-FI-ICS2-004 is required) or a sitting position<br>(then TC-AH-FI-ICS2-005 is required). |                                                                                                                                                                                                               |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                               |  |
| Preconditions                              | Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                               |  |
| CTS Mode                                   | Not supported                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                                               |  |
| Description                                | Step                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Description / Expected Result                                                                                                                                                                                 |  |
|                                            | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Description:                                                                                                                                                                                                  |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Consult the product documentation of the camera system.                                                                                                                                                       |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Expected Result:                                                                                                                                                                                              |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | The product documentation states the support of capturing facial images of a<br>biometric subject with a body height at least in the range of 140 cm to 200 cm if<br>standing upright in front of the system. |  |
|                                            | 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Description:                                                                                                                                                                                                  |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Position a face in front of the camera system in such a way that the upper edge<br>of the head is at the minimum height of 140 cm. Capture a facial image.                                                    |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Expected Result:                                                                                                                                                                                              |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | The entire face is visible on the image, in the required resolution.                                                                                                                                          |  |
|                                            | 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Description:                                                                                                                                                                                                  |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Position a face in front of the camera system in such a way that the upper edge<br>of the head is at the height of 170 cm. Capture a facial image.                                                            |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Expected Result:                                                                                                                                                                                              |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | The entire face is visible on the image, in the required resolution.                                                                                                                                          |  |
|                                            | 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Description:                                                                                                                                                                                                  |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Position a face in front of the camera system in such a way that the upper edge<br>of the head is at the maximum height of 200 cm. Capture a facial image.                                                    |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Expected Result:                                                                                                                                                                                              |  |
|                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | The entire face is visible on the image, in the required resolution.                                                                                                                                          |  |
| Table 2.29 Test Case ID: TC-AH-FI-ICS2-004 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                               |  |

| Test Case ID: TC-AH-FI-ICS2-005 |                                                                                |                                                                                                                                                                                                                                                    |  |
|---------------------------------|--------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           |                                                                                | Examination of technical specifications of the integrated camera systems used to obtain digitised<br>facial images regarding required range for body height for systems that capture facial images of<br>biometric subjects in a sitting position. |  |
|                                 | (then TC-AH-FI-ICS2-005 is required).                                          | Note, that this test case is an alternative for test case TC-AH-FI-ICS2-004. Systems can either use a<br>standing position to obtain facial images (than TC-AH-FI-ICS2-004 is required) or a sitting position                                      |  |
| Preconditions                   | Product documentation of the camera unit is at hand (e.g. data sheet, manual). |                                                                                                                                                                                                                                                    |  |
| CTS Mode                        | Not supported                                                                  |                                                                                                                                                                                                                                                    |  |
| Description                     | Step                                                                           | Description / Expected Result                                                                                                                                                                                                                      |  |
|                                 | 1                                                                              | Description:                                                                                                                                                                                                                                       |  |
|                                 |                                                                                | Consult the product documentation of the camera system.                                                                                                                                                                                            |  |
|                                 |                                                                                | Expected Result:                                                                                                                                                                                                                                   |  |
|                                 |                                                                                | The product documentation states the support of capturing facial images of a<br>biometric subject with a body height at least in the range of 140 cm to 200 cm if<br>sitting upright in front of the system.                                       |  |
|                                 | 2                                                                              | Description:                                                                                                                                                                                                                                       |  |
|                                 |                                                                                | Position a biometric subject with body height of 140 cm looking frontally in<br>to the camera and sitting upright in front of the system. Capture a facial image.                                                                                  |  |
|                                 |                                                                                | Expected Result:                                                                                                                                                                                                                                   |  |
|                                 |                                                                                | The entire face is visible on the image, in the required resolution.                                                                                                                                                                               |  |
|                                 | 3                                                                              | Description:                                                                                                                                                                                                                                       |  |
|                                 |                                                                                | Position a biometric subject with body height of 170 cm looking frontally in<br>to the camera and sitting upright in front of the system. Capture a facial image.                                                                                  |  |
|                                 |                                                                                | Expected Result:                                                                                                                                                                                                                                   |  |
|                                 |                                                                                | The entire face is visible on the image, in the required resolution.                                                                                                                                                                               |  |
|                                 | 4                                                                              | Description:                                                                                                                                                                                                                                       |  |
|                                 |                                                                                | Position a biometric subject with body height of 200 cm looking frontally in<br>to the camera and sitting upright in front of the system. Capture a facial image.                                                                                  |  |
|                                 |                                                                                | Expected Result:                                                                                                                                                                                                                                   |  |
|                                 |                                                                                | The entire face is visible on the image, in the required resolution.                                                                                                                                                                               |  |

### **Table 2.30** Test Case ID: TC-AH-FI-ICS2-005

### 2.1.9 Test Cases FM AH-FI-SSS

| Test Case ID: TC-AH-FI-SSS-001 |                                                                 |                                                                                                |  |  |
|--------------------------------|-----------------------------------------------------------------|------------------------------------------------------------------------------------------------|--|--|
| Scope                          |                                                                 | Examination of self-service system (SSS) scenarios where a digitised facial image is obtained. |  |  |
| Preconditions                  | •                                                               | The IUT's SSS is ready for operation.                                                          |  |  |
|                                | •<br>tured.                                                     | The SSS implements a graphical user interface and an where single image can be cap             |  |  |
|                                | •<br>One test subject is available to test the IUT's behaviour. |                                                                                                |  |  |
| CTS Mode                       |                                                                 | Not supported                                                                                  |  |  |
| Description                    | Step                                                            | Description / Expected Result                                                                  |  |  |
|                                | 1                                                               | Description:                                                                                   |  |  |
|                                |                                                                 | •<br>The biometric subject initiates the SSS process of the IUT.                               |  |  |
|                                |                                                                 | •<br>Acquire an image with the camera system of the IUT.                                       |  |  |
|                                |                                                                 | •<br>Interact with the graphical user interface of the IUT.                                    |  |  |

### **Test Case ID: TC-AH-FI-SSS-001**

*Expected Result:*

- **•** A facial image is captured.
- **•** During the interaction with the [IUT](#page-163-1)'s graphical user interface the biometric subject did not have to rotate his/her head towards the camera system of the [IUT](#page-163-1) for capturing the facial image.

**Table 2.31** Test Case ID: TC-AH-FI-SSS-001

### 2.1.10 Test Cases FM AH-FI-SSS2

| Test Case ID: TC-AH-FI-SSS2-001 |                                                                                                 |                                                                                                                                                                                                                              |  |
|---------------------------------|-------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of technical specifications of the digital camera used to obtain facial biometrics. |                                                                                                                                                                                                                              |  |
| Preconditions                   | •<br>The camera used in the specific application profile is at hand and ready for operation.    |                                                                                                                                                                                                                              |  |
|                                 | •                                                                                               | Product documentation of the camera model is at hand (e.g. data sheet, manual).                                                                                                                                              |  |
| CTS Mode                        | Not supported                                                                                   |                                                                                                                                                                                                                              |  |
| Description                     | Step                                                                                            | Description / Expected Result                                                                                                                                                                                                |  |
|                                 | 1                                                                                               | Description:                                                                                                                                                                                                                 |  |
|                                 |                                                                                                 | Consult the product documentation of the camera system.                                                                                                                                                                      |  |
|                                 |                                                                                                 | Expected Result:                                                                                                                                                                                                             |  |
|                                 |                                                                                                 | The product documentation states the support of capturing facial images of a<br>biometric subject with a body height at least in the range of 140 cm to 200 cm<br>either standing or sitting upright in front of the camera. |  |

**Table 2.32** Test Case ID: TC-AH-FI-SSS2-001

| Test Case ID: TC-AH-FI-SSS2-002 |                                                                                                   |                                                                                                                                                                                                         |  |
|---------------------------------|---------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of SSS scenarios where a digitised facial image is obtained.                          |                                                                                                                                                                                                         |  |
| Preconditions                   | The IUT's SSS is ready for operation.<br>•                                                        |                                                                                                                                                                                                         |  |
|                                 | •<br>The SSS implements a graphical user interface and an where single image can be cap<br>tured. |                                                                                                                                                                                                         |  |
|                                 | •<br>One test subject is available to test the IUT's behaviour.                                   |                                                                                                                                                                                                         |  |
| CTS Mode                        | Not supported                                                                                     |                                                                                                                                                                                                         |  |
| Description                     | Step                                                                                              | Description / Expected Result                                                                                                                                                                           |  |
|                                 | 1                                                                                                 | Description:                                                                                                                                                                                            |  |
|                                 |                                                                                                   | •<br>The biometric subject initiates the SSS process of the IUT.                                                                                                                                        |  |
|                                 |                                                                                                   | Acquire a facial image with the camera system of the IUT.<br>•                                                                                                                                          |  |
|                                 |                                                                                                   | Interact with the graphical user interface of the IUT.<br>•                                                                                                                                             |  |
|                                 |                                                                                                   | Expected Result:                                                                                                                                                                                        |  |
|                                 |                                                                                                   | •<br>A facial image is captured.                                                                                                                                                                        |  |
|                                 |                                                                                                   | •<br>During the interation with the IUT's graphical user interface the biometric<br>subject did not have to rotate his/her head towards the camera system of<br>the IUT for capturing the facial image. |  |
|                                 |                                                                                                   |                                                                                                                                                                                                         |  |

**Table 2.33** Test Case ID: TC-AH-FI-SSS2-002

### **Test Case ID: TC-AH-FI-SSS2-003**

*Scope* Examination of technical specifications of the digital camera used to obtain facial biometrics.

| Test Case ID: TC-AH-FI-SSS2-003 |               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------------------------------|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Preconditions                   | •             | The camera used in the specific application profile is at hand and ready for operation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                 | •             | Product documentation of the camera model is at hand (e.g. data sheet, manual).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| CTS Mode                        | Not supported |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Description                     | Step          | Description / Expected Result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                 | 1             | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                 |               | Consult the product documentation of the camera system.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                 |               | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                                 |               | The product documentation states the support of capturing facial images of a<br>biometric subject is at least in the range from at least of 70 cm up to 100 cm.<br>In case the product documentation states that it can operate in a greater ran<br>ge than 100 cm, the exact range is listed. This distances are in general to be un<br>derstood as the length of optical path between forehead and came<br>ra optics, not between the forehead and the front glass of the device. Therefore,<br>this interval must be shifted according to the length of the internal optical path<br>in order to obtain the correct distances from the device. |

### **Table 2.34** Test Case ID: TC-AH-FI-SSS2-003

| Test Case ID: TC-AH-FI-SSS2-004 |                                                                                                             |                                                                                                                                                                                              |  |  |
|---------------------------------|-------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                           | Examination of image resolution and cropping features of the digital camera used to obtain facial<br>image. |                                                                                                                                                                                              |  |  |
| Preconditions                   | •<br>The camera used in the specific application profile is at hand and ready for operation.                |                                                                                                                                                                                              |  |  |
|                                 | •<br>The IUT implements an interface for conformance testing where a single image can be captured.          |                                                                                                                                                                                              |  |  |
|                                 | •<br>The IUT is able to return the results for every captured image via the test interface.                 |                                                                                                                                                                                              |  |  |
|                                 | •<br>One test subject is available to test the IUT's behaviour.                                             |                                                                                                                                                                                              |  |  |
| CTS Mode                        | interactive<br>•                                                                                            |                                                                                                                                                                                              |  |  |
|                                 | no provision of pre-defined input data<br>•                                                                 |                                                                                                                                                                                              |  |  |
|                                 | •<br>HTTP method: GET                                                                                       |                                                                                                                                                                                              |  |  |
|                                 | •<br>test case variants:                                                                                    |                                                                                                                                                                                              |  |  |
|                                 |                                                                                                             |                                                                                                                                                                                              |  |  |
|                                 |                                                                                                             | /TR03122/TC-AH-FI-SSS2-004/1                                                                                                                                                                 |  |  |
|                                 |                                                                                                             | Table 2.36 TC-AH-FI-SSS2-004 Test Case Variants                                                                                                                                              |  |  |
| Description                     | Step                                                                                                        | Description / Expected Result                                                                                                                                                                |  |  |
|                                 | 1                                                                                                           | Description:                                                                                                                                                                                 |  |  |
|                                 |                                                                                                             | Position the biometric subject looking frontally into camera at a distan<br>•<br>ce of 70 cm from the camera system. This distance is to be understood as the<br>length of the optical path. |  |  |
|                                 |                                                                                                             | Acquire a facial image with the camera system via the CTS interface.<br>•                                                                                                                    |  |  |
|                                 |                                                                                                             | •<br>Verify the image returned by the CTS.                                                                                                                                                   |  |  |
|                                 |                                                                                                             | Expected Result:                                                                                                                                                                             |  |  |
|                                 |                                                                                                             | •<br>A message conforming to TR-03121 XML containing the encoded facial<br>image is returned via the test interface (bio:FaceAcquisition).                                                   |  |  |
|                                 |                                                                                                             | •<br>The CTS verifies that the image returned by the IUT has at least a resolution<br>of 1244 x 1600 pixels and the colour space is 24 bit sRGB.                                             |  |  |
|                                 |                                                                                                             | •<br>The CTS shows a facial image according to the definition of "full fron<br>tal" (see [ISO_FACE]).                                                                                        |  |  |

| Test Case ID: TC-AH-FI-SSS2-004 |                                                                                                                                                                                               |
|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2                               | Description:                                                                                                                                                                                  |
|                                 | •<br>Position the biometric subject looking frontally into camera at a distan<br>ce of 100 cm from the camera system. This distance is to be understood as<br>the length of the optical path. |
|                                 | •<br>Acquire a facial image with the camera system via the CTS interface.                                                                                                                     |
|                                 | •<br>Verify the image returned by the CTS.                                                                                                                                                    |
|                                 | Expected Result:                                                                                                                                                                              |
|                                 | •<br>A message conforming to TR-03121 XML containing the encoded facial<br>image is returned via the test interface (bio:FaceAcquisition).                                                    |
|                                 | The CTS verifies that the image returned by the IUT has at least a resolution<br>•<br>of 1244 x 1600 pixels and the colour space is 24 bit sRGB.                                              |
|                                 | The CTS shows a facial image according to the definition of "full fron<br>•<br>tal" (see [ISO_FACE]).                                                                                         |
| 3                               | Description:                                                                                                                                                                                  |
|                                 | •<br>Position the biometric subject looking frontally into camera at ma<br>ximum possible distance (according to the vendor/document sheet) from<br>the camera system.                        |
|                                 | •<br>Acquire a facial image with the camera system via the CTS interface.                                                                                                                     |
|                                 | •<br>Verify the image returned by the CTS.                                                                                                                                                    |
|                                 | Expected Result:                                                                                                                                                                              |
|                                 | •<br>A message conforming to TR-03121 XML containing the encoded facial<br>image is returned via the test interface (bio:FaceAcquisition).                                                    |
|                                 | •<br>The CTS verifies that the image returned by the IUT has at least a resolution<br>of 1244 x 1600 pixels and the colour space is 24 bit sRGB.                                              |
|                                 | The CTS shows a facial image according to the definition of "full fron<br>•<br>tal" (see [ISO_FACE]).                                                                                         |

**Table 2.35** Test Case ID: TC-AH-FI-SSS2-004

### 2.1.11 Test Cases FM AH-FP-ALL

| Test Case ID: TC-AH-FP-ALL-001            |               |                                                                                                            |  |  |
|-------------------------------------------|---------------|------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                     |               | Check of the image sensors FBI certification.                                                              |  |  |
| Preconditions                             |               | The vendor of the image sensor provides the FBI certificate of the successful FBI certification.           |  |  |
| CTS Mode                                  | Not supported |                                                                                                            |  |  |
| Description                               | Step          | Description / Expected Result                                                                              |  |  |
|                                           | 1             | Description:                                                                                               |  |  |
|                                           |               | Examination of the FBI certificate provided by the vendor.                                                 |  |  |
|                                           |               | Expected Result:                                                                                           |  |  |
|                                           |               | In case of multi finger scanners:                                                                          |  |  |
|                                           |               | The FBI certificate shows, that the device under test is certified according to<br>•<br>[EBTS/F].          |  |  |
|                                           |               | The successful FBI certification is not older than 10 years.<br>•                                          |  |  |
|                                           |               | In case of single finger scanners:                                                                         |  |  |
|                                           |               | •<br>The FBI certificate shows, that the device under test is certified according to<br>[EBTS/F] or [PIV]. |  |  |
|                                           |               | •<br>The successful FBI certification is not older than 10 years.                                          |  |  |
| Table 2.37 Test Case ID: TC-AH-FP-ALL-001 |               |                                                                                                            |  |  |

### 2.1.12 Test Cases FM AH-FP-OPT

| Test Case ID: TC-AH-FP-OPT-001 |               |                                                                                                                                                                                                                                                                                                    |  |  |  |
|--------------------------------|---------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope                          |               | Test of image sensor linearity.                                                                                                                                                                                                                                                                    |  |  |  |
| Preconditions                  | •             | The scanner is connected.                                                                                                                                                                                                                                                                          |  |  |  |
|                                | •             | The scanner software is set to output unprocessed images.                                                                                                                                                                                                                                          |  |  |  |
|                                | •             | Captured images can be saved for subsequent evaluation.                                                                                                                                                                                                                                            |  |  |  |
|                                | •             | Depending on the following conditions method A, B, C or D is chosen for the test:                                                                                                                                                                                                                  |  |  |  |
|                                | •             | Method A: It is possible to control the integration time of the scanner's image sensor.                                                                                                                                                                                                            |  |  |  |
|                                | •             | Method B: It is possible to control the intensity of the scanner's illumination.                                                                                                                                                                                                                   |  |  |  |
|                                | •             | Method C: It is only possible to turn the scanner's illumination on and off.                                                                                                                                                                                                                       |  |  |  |
|                                | •             | Method D: Neither of the above can be controlled.                                                                                                                                                                                                                                                  |  |  |  |
|                                | •             | Test resources:                                                                                                                                                                                                                                                                                    |  |  |  |
|                                | •             | Method A and B: A diffuse reflecting uniform white target (e.g. Munsell N9).                                                                                                                                                                                                                       |  |  |  |
|                                | •             | Method C: An external extended uniform light source (e.g. LED backlight or similar).                                                                                                                                                                                                               |  |  |  |
|                                | •             | Method B and C: Measurement equipment for measuring the luminance of the illumination.                                                                                                                                                                                                             |  |  |  |
|                                | •             | Method D: A diffuse reflecting target with a grey scale step tablet or a set of uniform neutral<br>grey targets cards with various known reflectance.                                                                                                                                              |  |  |  |
|                                | •<br>image.   | Image processing software to determine the average grey value in a region of interest in the                                                                                                                                                                                                       |  |  |  |
| CTS Mode                       | Not supported |                                                                                                                                                                                                                                                                                                    |  |  |  |
| Description                    | Step          | Description / Expected Result                                                                                                                                                                                                                                                                      |  |  |  |
|                                | 1             | Description:                                                                                                                                                                                                                                                                                       |  |  |  |
|                                |               | Method A: The white target is placed on the scanner platen. scanner's il<br>•<br>lumination is turned on and left unchanged during the test. Multiple images<br>are taken while varying the integration time of image sensor. The set<br>ting of the integration time is recorded with each image. |  |  |  |
|                                |               | Method B: The white target is placed on the scanner platen. Multiple images<br>•<br>are taken while varying the intensity of the illumination of the scanner. The<br>luminance of the illumination is monitored at the same time and recorded<br>with each image.                                  |  |  |  |
|                                |               | Method C: The scanner's illumination is turned off. external light sour<br>•<br>ce is placed on the scanner platen. Multiple images are taken while varying<br>the intensity of external illumination. The luminance il<br>lumination is monitored at the same time and recorded with each image.  |  |  |  |
|                                |               | Method D: The grey scale target is placed on the scanner platen and an<br>•<br>image is taken. In case of a set of uniform targets images of each target are<br>taken sequentially and the reflectance of the target is recorded with each<br>image.                                               |  |  |  |
|                                |               | All methods: At least nine images/individual grey values are required that<br>•<br>substantially cover the scanners dynamic range.                                                                                                                                                                 |  |  |  |
|                                |               | Expected Result:                                                                                                                                                                                                                                                                                   |  |  |  |
|                                |               | Set of images with a uniform area covered by the target or a single image of a<br>target with a grey scale step tablet.                                                                                                                                                                            |  |  |  |
|                                | 2             | Description:                                                                                                                                                                                                                                                                                       |  |  |  |
|                                |               | For each of the images the average grey value is determined in the area covered<br>by the colour test card. The average grey value is plotted against the previously                                                                                                                               |  |  |  |

by the colour test card. The average grey value is plotted against the previously recorded integration time (Method A), luminance (Method B, C) or reflectance (Method D).

### **Test Case ID: TC-AH-FP-OPT-001**

### *Expected Result:*

The resulting plot should be close to a linear function.

A linear regression is performed over the value pairs (integration time, average grey value),(luminance, average value) or (reflectance, value). The dif ference between the average grey value and the grey value from regression is calculated for each measurement.

None of the calculated differences SHALL exceed 7.65 grey levels.

*Description:*

A linear regression is performed over the value pairs (integration time, average grey value),(luminance, average value) or (reflectance, value). The dif ference between the average grey value and the grey value from regression is calculated for each measurement.

### *Expected Result:*

None of the calculated differences SHALL exceed 7.65 grey levels.

#### **Table 2.38** Test Case ID: TC-AH-FP-OPT-001

3

| Test Case ID: TC-AH-FP-OPT-002 |                                                                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |  |  |
|--------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          |                                                                                                                                                                                                | Test of scanner resolution and geometrical accuracy.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |  |  |
| Preconditions                  | •                                                                                                                                                                                              | The scanner is connected.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |  |  |
|                                | •                                                                                                                                                                                              | The scanner software is set to output unprocessed images.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |  |  |
|                                | •                                                                                                                                                                                              | Captured images can be saved for subsequent evaluation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |  |  |
|                                | •                                                                                                                                                                                              | Test resources:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |  |  |
|                                | •<br>A Ronchi bar pattern target, that consists of an equal-width and space square wave pat<br>tern at 1.0 cy/mm, preferably on a flexible, diffuse white reflecting substrate. The target pat | tern SHALL cover at least 70% of the scanner's capture area.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |  |  |
|                                | •                                                                                                                                                                                              | The test software WinGeo (IQS Test Tools CD).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |  |  |
| CTS Mode                       |                                                                                                                                                                                                | Not supported                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |  |  |
| Description                    | Step                                                                                                                                                                                           | Description / Expected Result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |  |  |
|                                | 1                                                                                                                                                                                              | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |  |  |
|                                |                                                                                                                                                                                                | The target is placed on the scanner platen and images are taken with the lines<br>of the Ronchi pattern parallel to pixel columns (vertical bars) and rows (ho<br>rizontal bars) of the image sensor, respectively. A flexible target has to be pres<br>sed against the scanner platen to make sure the target is in contact with the<br>platen over the entire pattern area. To discern properties of the scanner and<br>the target the procedure may be repeated with the target being rotated by 180<br>degrees. If accuracy failures in the images remain at the same location they are<br>most probably due to the scanner. |  |  |
|                                |                                                                                                                                                                                                | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |  |  |
|                                |                                                                                                                                                                                                | Set of images with the lines Ronchi pattern in vertical and horizontal di<br>rection, respectively.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |  |  |
|                                | 2                                                                                                                                                                                              | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |  |  |
|                                |                                                                                                                                                                                                | The obtained image files are converted to raw data (pixel grey values wi<br>thout header) and are processed with the software WinGeo. The program cal<br>culates the 1-bar and 6-bar distances of pattern in image (across-bar ac<br>curacy) as well as the along-bar accuracy. Also the resolution is calculated from<br>the 6-bar distances.                                                                                                                                                                                                                                                                                   |  |  |

### **Test Case ID: TC-AH-FP-OPT-002**

### *Expected Result:*

- **•** Resolution: The scanner's output resolution in both sensor detector row and column directions SHALL be (R ± 0.01 R), with R being 500 pixels per inch or 1000 pixels per inch.
- **•** Across-bar accuracy: The difference D between the distance of the bars on the target and the corresponding distance measured in the image SHALL not exceed in at least 99% of the tested cases horizontal and vertical di rection, respectively:
	- **•** For 500-ppi scanner:

D ≤ 0.0007, for 0.00 < X ≤ 0.07

- D ≤ 0.01 X, for 0.07 ≤ X ≤ 1.50
- **•** For 1,000-ppi scanner:

D ≤ 0.0005, for 0.00 < X ≤ 0.07

D ≤ 0.0071 X, for 0.07 ≤ X ≤ 1.5

where:

D = |Y-X|

X = actual target distance

Y = measured image distance

- D, X, Y are in inches.
- **•** Along-bar accuracy: In both vertical bar and horizontal bar orientations, the maximum difference in the horizontal or vertical direction, respectively, between the locations of any two points within a 1.5-inch segment gi ven bar image SHALL not exceed 0.016 inches for at least 99.0 percent of the tested cases.

### **Table 2.39** Test Case ID: TC-AH-FP-OPT-002

| Test Case ID: TC-AH-FP-OPT-003 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |  |  |  |  |
|--------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|
| Scope                          | Test of spatial frequency response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |  |  |  |  |
| Preconditions                  | •<br>The scanner is connected.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |  |  |  |  |
|                                | •<br>The scanner software is set to output unprocessed images.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |  |  |  |  |
|                                | Captured images can be saved for evaluation.<br>•                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |  |  |  |  |
|                                | Test resources:<br>•                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |  |  |  |  |
|                                | •<br>A test chart containing Ronchi patterns meeting or exceeding the minimum require<br>ments given in<br>Table 2.41 for 500 ppi scanners or in<br>Table 2.42 for 1000 ppi scanners. The<br>target must also contain large black and white patches for normalizing the contrast. Prefera<br>bly the target should consist of dark patterns on a flexible, diffuse white reflecting substrate<br>material. The material SHALL be optically opaque and exhibit no significant volume scatte<br>ring as this degrades the contrast of patterns. Rigid materials should not be used, if possi<br>ble, to avoid damage to the image sensor.<br>•<br>A file describing the type, position and size of the different patterns on the test chart. This is<br>required for processing the captured images with WinMTF.<br>•<br>The test software WinMTF (IQS Test Tools CD). |  |  |  |  |
| CTS Mode                       | Not supported                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |  |  |  |  |
| Description                    | Step<br>Description / Expected Result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |  |  |  |  |

### **Test Case ID: TC-AH-FP-OPT-003**

1

2

3

### *Description:*

The target is placed on the scanner platen and images are taken with the lines of the Ronchi pattern parallel to pixel columns (vertical bars) and rows (ho rizontal bars) of the image sensor, respectively. A flexible target has to be pres sed against the scanner platen to make sure the target is in contact with the platen over the entire pattern area. If the target pattern covers less than 25% of the scanners capture area, the procedure is applied to the right and the left half of the capture area, respectively. The bars Ronchi patterns have to be ali gned with the pixel rows and columns to an angle less than 0.5°. If the images from the scanner are inverted they have to be back show dark pat terns on a bright background.

#### *Expected Result:*

Set of images with the bars Ronchi pattern in vertical and horizontal di rection, showing dark patterns on a bright background.

*Description:*

The resulting images files are converted to TIFF format and are processed with the tool WinMTF. This program determines the modulation in each of the Ronchi test patterns. These modulation values are absolute with respect to the dynamic range of the image and do not represent the [contrast transfer func](#page-163-3) [tion \(CTF\)](#page-163-3).

*Expected Result:*

Absolute modulation values for each of the Ronchi patterns on the test chart.

### *Description:*

The absolute modulation values have to be normalized by the modulation of the large black and white patches on test chart, representing a spatial fre quency of approximately zero cycles per millimetre. The average grey level in the black and white patches is calculated and the modulation is calculated as

$$\text{followes: } M\_0 = \frac{G\_{white} - G\_{black}}{G\_{white} + G\_{black}}$$

with

- **•** *M*0: Modulation for 0 cy/mm
- **•** *Gwhite*: average grey level in the white patch
- **•** *Gblack*: average grey level in the black patch

Having determined *M*0 the value of the [CTF can be calculated from the modu](#page-163-3) lation of the Ronchi pattern: *CTF*(*R*) <sup>=</sup> *<sup>M</sup>*(*R*)) *M*<sup>0</sup>

with *M*(*R*) Modulation at spatial frequency *R*

*Expected Result:*

- **•** The values of the [CTF](#page-163-3) for each of the spatial frequencies specified in [Ta](#page-24-0) [ble 2.41](#page-24-0) (500 ppi scanners) or [Table 2.42](#page-25-0) (1000 ppi scanners) must be grea ter than the corresponding minimum [CTF](#page-163-3) and less than the corresponding maximum [CTF](#page-163-3) specified in the same table.
- **•** The resulting image SHALL be free from significant effects of aliasing.

**Table 2.40** Test Case ID: TC-AH-FP-OPT-003

<span id="page-24-0"></span>

| Spatial Fre<br>quency R [cy<br>cles/mm] | R/Rnyquist<br>500ppi | Min. Number<br>of Bars | Bar width<br>[mm] | Min. Length of<br>Bars [mm] | Min. CTF<br>500ppi | Max. CTF |
|-----------------------------------------|----------------------|------------------------|-------------------|-----------------------------|--------------------|----------|
| <0,3                                    | 3%                   | 1                      | >1.7              | 1.7                         | -                  | -        |
| 1                                       | 10%                  | 4                      | 0.500             | 2.5                         | 0.948              | 1.05     |
| 2                                       | 20%                  | 5                      | 0.250             | 2.5                         | 0.869              | 1.05     |

| Spatial Fre<br>quency R [cy<br>cles/mm] | R/Rnyquist<br>500ppi | Min. Number<br>of Bars | Bar width<br>[mm] | Min. Length of<br>Bars [mm] | Min. CTF<br>500ppi | Max. CTF |
|-----------------------------------------|----------------------|------------------------|-------------------|-----------------------------|--------------------|----------|
| 3                                       | 30%                  | 5                      | 0.167             | 2.5                         | 0.791              | 1.05     |
| 4                                       | 40%                  | 5                      | 0.125             | 2.5                         | 0.713              | 1.05     |
| 5                                       | 50%                  | 10                     | 0.100             | 2.5                         | 0.636              | 1.05     |
| 6                                       | 60%                  | 10                     | 0.083             | 2.5                         | 0.559              | 1.05     |
| 7                                       | 70%                  | 10                     | 0.071             | 2.5                         | 0.483              | 1.05     |
| 8                                       | 80%                  | 10                     | 0.063             | 2.5                         | 0.408              | 1.05     |
| 9                                       | 90%                  | 10                     | 0.056             | 2.5                         | 0.333              | 1.05     |
| 10                                      | 100%                 | 10                     | 0.050             | 2.5                         | 0.259              | 1.05     |

**Table 2.41** Requirements for CTF test charts for 500 ppi scanners

<span id="page-25-0"></span>

| Spatial Fre<br>quency R [cy<br>cles/mm] | R/Rnyquist<br>500ppi | Min. Number<br>of Bars | Bar width<br>[mm] | Min. Length of<br>Bars [mm] | Min. CTF<br>500ppi | Max. CTF |
|-----------------------------------------|----------------------|------------------------|-------------------|-----------------------------|--------------------|----------|
| <0,3                                    | 2%                   | 1                      | >1.7              | 1.7                         | -                  | -        |
| 1                                       | 5%                   | 4                      | 0.500             | 2.5                         | 0.957              | 1.05     |
| 2                                       | 10%                  | 4                      | 0.250             | 2.5                         | 0.904              | 1.05     |
| 3                                       | 15%                  | 5                      | 0.167             | 2.5                         | 0.854              | 1.05     |
| 4                                       | 20%                  | 5                      | 0.125             | 2.5                         | 0.805              | 1.05     |
| 5                                       | 25%                  | 5                      | 0.100             | 2.5                         | 0.760              | 1.05     |
| 6                                       | 30%                  | 5                      | 0.083             | 2.5                         | 0.716              | 1.05     |
| 7                                       | 35%                  | 5                      | 0.071             | 2.5                         | 0.675              | 1.05     |
| 8                                       | 40%                  | 5                      | 0.063             | 2.5                         | 0.636              | 1.05     |
| 9                                       | 45%                  | 10                     | 0.056             | 2.5                         | 0.598              | 1.05     |
| 10                                      | 50%                  | 10                     | 0.050             | 2.5                         | 0.563              | 1.05     |
| 12                                      | 60%                  | 10                     | 0.042             | 2.5                         | 0.497              | 1.05     |
| 14                                      | 70%                  | 10                     | 0.036             | 2.5                         | 0.437              | 1.05     |
| 16                                      | 80%                  | 10                     | 0.031             | 2.5                         | 0.382              | 1.05     |
| 18                                      | 90%                  | 10                     | 0.028             | 2.5                         | 0.332              | 1.05     |
| 20                                      | 100%                 | 10                     | 0.025             | 2.5                         | 0.284              | 1.05     |

**Table 2.42** Requirements for CTF test charts for 1000 ppi scanners

### **Test Case ID: TC-AH-FP-OPT-004**

- *Scope* Test of signal to noise ratio and grey level uniformity.
- 
- 
- *Preconditions* **•** The scanner is connected.
	- **•** The scanner software is set to output unprocessed images.
	- **•** Captured images can be saved for evaluation.
	- **•** Test resources:
		- **•** A uniform diffuse reflecting neutral grey target of high reflectance that covers the scanner's entire capture area (e.g Munsell N9).
		- **•** A uniform diffuse reflecting neutral grey target of low reflectance that covers the scanner's entire capture area (e.g Munsell N2).
		- **•** The test software [signal-to-noise ratio \(SNR\)\(](#page-163-4)IQS Test Tools CD).

| Test Case ID: TC-AH-FP-OPT-004 |               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|--------------------------------|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CTS Mode                       | Not supported |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Description                    | Step          | Description / Expected Result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|                                | 1             | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                |               | The black target is placed on the scanner platen and an image is taken. After<br>that the procedure is repeated with the white target. The definition of "black<br>image" and "white for the subsequent analyses depends on grey va<br>lue that the target would produce in final fingerprint image. If high reflec<br>tance produces a high grey value in the final fingerprint image then the image<br>obtained with the high reflectance target is considered the "white image".<br>If low reflectance produces a high grey value (inverting behaviour) then the<br>image obtained with the low reflectance target is considered the "white image".<br>The other image is then considered the "black image". |
|                                |               | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                                |               | A black image with the average grey value in the image being at least 4 grey<br>•<br>levels above the scanner's minimum output grey level.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                |               | A white image with the average grey value in the image being at least 4 grey<br>•<br>levels below the scanner's maximum output grey level.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                | 2             | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                |               | The black and white images are converted to raw image data (pixel grey values<br>without header) and are processed with the software SNR. The program divides<br>the images in blocks of 6.35 mm x 6.35 mm and determines the average grey<br>level, the standard deviation, the grey level averages in the columns and rows,<br>respectively, and the number of pixels with a higher-than-allowed difference<br>of the grey level from the average in each of the blocks. With these quantities<br>the required tests regarding signal-noise-ratio and grey level uniformity are<br>performed.                                                                                                                 |
|                                |               | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                                |               | •<br>Signal to noise ratio: Signal is defined as the difference between the average<br>grey levels of corresponding blocks in the white and black image. Noi<br>se is defined as the standard deviation of the grey levels in each block of the<br>white and black image, respectively. The signal-noise ratio is calculated as                                                                                                                                                                                                                                                                                                                                                                                 |
|                                |               | Gwhite<br>Gblack<br>Gwhite<br>Gblack<br>¡<br>¡<br>with SNRblack<br>=<br>;<br>SNRwhite<br>=<br>¾black<br>¾white                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                                |               | Gblack: average grey level in a block of the black and white image, re<br>Gwhite;<br>spectively                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                |               | ¾black: standard deviation of the grey levels in a block of the black and<br>¾white;<br>white image, respectively                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                |               | The signal to noise ratio SHALL exceed 125 for at least 97% of the tested<br>blocks in both the black and the white image.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                |               | •<br>Grey level uniformity requirement #1 (adjacent row, column uniformi<br>ty): At least 99% of the average grey levels between every two adjacent 6.35<br>mm long rows and 99% between every two adjacent 6.35 mm long columns,<br>SHALL not differ by more than 1.0 grey levels in the black and SHALL not<br>differ by more than 2.0 grey levels in the white image.                                                                                                                                                                                                                                                                                                                                        |
|                                |               | •<br>Grey level uniformity requirement #2 (pixel to pixel uniformity): For at least<br>99.9% of all pixels within every independent 6.35 mm x 6.35 mm block no<br>individual pixel's grey level SHALL vary from the average by more than 8.0<br>grey levels in the black image, and SHALL not vary from average by mo<br>re than 22.0 grey levels in the white image.                                                                                                                                                                                                                                                                                                                                           |
|                                |               | •<br>Grey level uniformity requirement #3 (small area uniformity): For every<br>two independent 6.35 mm x 6.35 mm blocks the average grey levels of the<br>two blocks SHALL not differ by more than 3.0 grey levels in the black image,<br>and SHALL not differ by more than 12.0 grey levels in the white image.                                                                                                                                                                                                                                                                                                                                                                                               |

**Table 2.43** Test Case ID: TC-AH-FP-OPT-004

| Test Case ID: TC-AH-FP-OPT-005 |                      |                                                                                                                                                                                        |  |  |  |  |
|--------------------------------|----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|
| Scope                          |                      | Test of fingerprint image quality.                                                                                                                                                     |  |  |  |  |
| Preconditions                  | •                    | The scanner is connected.                                                                                                                                                              |  |  |  |  |
|                                | •                    | The scanner software is set to output completely processed fingerprint images.                                                                                                         |  |  |  |  |
|                                | •                    | Captured images can be saved for evaluation.                                                                                                                                           |  |  |  |  |
|                                | •<br>Test resources: |                                                                                                                                                                                        |  |  |  |  |
|                                | •                    | 10 different test persons.                                                                                                                                                             |  |  |  |  |
|                                | •                    | Image processing software for histogram analysis.                                                                                                                                      |  |  |  |  |
| CTS Mode                       | Not supported        |                                                                                                                                                                                        |  |  |  |  |
| Description                    | Step                 | Description / Expected Result                                                                                                                                                          |  |  |  |  |
|                                | 1                    | Description:                                                                                                                                                                           |  |  |  |  |
|                                |                      | Images of every finger of each test person are taken with the scanner. If the<br>scanner is capable of capturing 4-finger images additional 4-finger images of<br>each hand are taken. |  |  |  |  |
|                                |                      | Expected Result:                                                                                                                                                                       |  |  |  |  |
|                                |                      | Images of every finger of each test person. In case of a 4-finger scanner also 4-<br>finger images of every hand of each test person.                                                  |  |  |  |  |
|                                | 2                    | Description:                                                                                                                                                                           |  |  |  |  |
|                                |                      | For each image a histogram of the grey levels is produced. The histogram<br>is tested for gaps and the number of grey levels with at least 5 counts in the<br>image are counted.       |  |  |  |  |
|                                |                      | Expected Result:                                                                                                                                                                       |  |  |  |  |
|                                |                      | •<br>The number of grey levels present with at least 5 pixels in the image SHALL<br>be at least 128 for at least 99% of the tested images.                                             |  |  |  |  |
|                                |                      | •<br>The number of grey levels present with at least 5 pixels in the image SHALL<br>be at least 200 for at least 80% of the tested images.                                             |  |  |  |  |

**•** There SHALL be no gaps in the histogram.

**Table 2.44** Test Case ID: TC-AH-FP-OPT-005

### 2.1.13 Test Cases FM AH-FP-SSS

| Test Case ID: TC-AH-FP-SSS-001 |                                                                                                                  |  |  |  |
|--------------------------------|------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope                          | Examination of SSS scenarios where digitised fingerprint images are obtained.                                    |  |  |  |
| Preconditions                  | The IUT's SSS is ready for operation.<br>•                                                                       |  |  |  |
|                                | The SSS implements a graphical user interface and an interface where fingerprint images can be<br>•<br>captured. |  |  |  |
|                                | •<br>Two test subjects are available to test the IUT's behaviour.                                                |  |  |  |
| CTS Mode                       | •<br>interactive                                                                                                 |  |  |  |
|                                | •<br>no provision of pre-defined input data                                                                      |  |  |  |
|                                | •<br>HTTP method: GET                                                                                            |  |  |  |
|                                | •<br>test case variants:                                                                                         |  |  |  |
|                                |                                                                                                                  |  |  |  |
|                                | /TR03122/TC-AH-FP-SSS-001/1                                                                                      |  |  |  |
|                                | Table 2.46 TC-AH-FP-SSS-001 Test Case Variants                                                                   |  |  |  |
| Description                    | Step<br>Description / Expected Result                                                                            |  |  |  |
|                                |                                                                                                                  |  |  |  |

| Test Case ID: TC-AH-FP-SSS-001 |                                                                                                                                                                              |
|--------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1                              | Description:                                                                                                                                                                 |
|                                | The biometric subject initiates the SSS process of the IUT.<br>•                                                                                                             |
|                                | •<br>Acquire fingerprint images with the acquisition system of the IUT using the<br>right hand.                                                                              |
|                                | •<br>Interact with the graphical user interface of the IUT.                                                                                                                  |
|                                | Expected Result:                                                                                                                                                             |
|                                | Fingerpint images of the right hand are captured.                                                                                                                            |
| 2                              | Description:                                                                                                                                                                 |
|                                | The biometric subject initiates the SSS process of the IUT.<br>•                                                                                                             |
|                                | Acquire fingerprint images with the acquisition system of the IUT using the<br>•<br>left hand.                                                                               |
|                                | •<br>Interact with the graphical user interface of the IUT.                                                                                                                  |
|                                | Expected Result:                                                                                                                                                             |
|                                | Fingerpint images of the left hand are captured.                                                                                                                             |
| 3                              | Description:                                                                                                                                                                 |
|                                | •<br>The biometric subject initiates the SSS process of the IUT with another sub<br>ject being present within the reach of the fingerprint acquisition system of<br>the SSS. |
|                                | Acquire fingerprint images with the acquisition system of the IUT using the<br>•<br>left or right hand.                                                                      |
|                                | Interact with the graphical user interface of the IUT.<br>•                                                                                                                  |
|                                | Expected Result:                                                                                                                                                             |
|                                | •<br>During the fingerprint acquisition process multiple persons are detected by<br>the SSS.                                                                                 |
|                                | •<br>The acceptance conditions are not met, i.e. the total result of acquisitio<br>nis is negative.                                                                          |
|                                | •<br>The multiple person detection result is cached locally on the SSS.                                                                                                      |

**Table 2.45** Test Case ID: TC-AH-FP-SSS-001

## <span id="page-28-0"></span>2.2 Test Cases Acquisition Software

### 2.2.1 Test Cases FM AS-FI-DC

| Test Case ID: TC-AS-FI-DC-001 |                                                                                                                                                 |  |  |  |  |
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|
| Scope                         | Examination of the software module used for acquisition of digitised facial images                                                              |  |  |  |  |
| Preconditions                 | •<br>IUT is running, required modules are loaded                                                                                                |  |  |  |  |
|                               | •<br>The digital camera used in the specific application scenario is connected                                                                  |  |  |  |  |
| CTS Mode                      | •<br>interactive                                                                                                                                |  |  |  |  |
|                               | no provision of pre-defined input data; Test case initiation via test interface (TR-03122-1, Chap<br>•<br>ter 4, "Conformance Test Interfaces") |  |  |  |  |
|                               | •<br>HTTP method: GET                                                                                                                           |  |  |  |  |
|                               | •<br>test case variants:                                                                                                                        |  |  |  |  |
|                               |                                                                                                                                                 |  |  |  |  |
|                               | /TR03122/TC-AS-FI-DC-001/1                                                                                                                      |  |  |  |  |
|                               | Table 2.48 TC-AS-FI-DC-001 Test Case Variants                                                                                                   |  |  |  |  |
| Description                   | Step<br>Description / Expected Result                                                                                                           |  |  |  |  |

| Test Case ID: TC-AS-FI-DC-001 |                                                                                                                                                                                                                                                                        |
|-------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1                             | Description:                                                                                                                                                                                                                                                           |
|                               | Check proper data encoding, resolution and format of the returned image                                                                                                                                                                                                |
|                               | Initiate test case by calling the IUT via the test interface<br>•                                                                                                                                                                                                      |
|                               | Capture an image with the camera, examine the digitised image data<br>•                                                                                                                                                                                                |
|                               | •<br>Check the resulting image for visible compression artefacts                                                                                                                                                                                                       |
|                               | Expected Result:                                                                                                                                                                                                                                                       |
|                               | •<br>As a result, a message conforming to TR-03121 XML containing the encoded<br>facial image is returned via the test interface (bio:FaceAcquisition and<br>bio:Records)                                                                                              |
|                               | •<br>The image is at least of resolution 1200 x 1600 pixels with an inter eye dis<br>tance of at least 120 pixels and stored in colour (24 bit sRGB). Note, the latter<br>requirement is not mandatory for scenarios where only a facial verification<br>is performed. |
|                               | •<br>Regarding compression artefacts:                                                                                                                                                                                                                                  |
|                               | •<br>For digital cameras, no compression artefacts are visible in the resulting<br>image.                                                                                                                                                                              |
|                               | •<br>For webcams, no severe compression artefacts are visible in the resulting                                                                                                                                                                                         |

image.

**Table 2.47** Test Case ID: TC-AS-FI-DC-001

### 2.2.2 Test Cases FM AS-FI-DC2

| Test Case ID: TC-AS-FI-DC2-001 |                                                                                                                                                 |                                                                         |  |  |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|--|--|
| Scope                          | Examination of the software module used for acquisition of digitised facial images                                                              |                                                                         |  |  |
| Preconditions                  | •<br>IUT is running, required modules are loaded                                                                                                |                                                                         |  |  |
|                                | •<br>The digital camera used in the specific application scenario is connected                                                                  |                                                                         |  |  |
| CTS Mode                       | interactive<br>•                                                                                                                                |                                                                         |  |  |
|                                | no provision of pre-defined input data; Test case initiation via test interface (TR-03122-1, Chap<br>•<br>ter 4, "Conformance Test Interfaces") |                                                                         |  |  |
|                                | •<br>HTTP method: GET                                                                                                                           |                                                                         |  |  |
|                                | •<br>test case variants:                                                                                                                        |                                                                         |  |  |
|                                |                                                                                                                                                 | /TR03122/TC-AS-FI-DC2-001/1                                             |  |  |
|                                | Table 2.50 TC-AS-FI-DC2-001 Test Case Variants                                                                                                  |                                                                         |  |  |
| Description                    | Step                                                                                                                                            | Description / Expected Result                                           |  |  |
|                                | 1                                                                                                                                               | Description:                                                            |  |  |
|                                |                                                                                                                                                 | Check proper data encoding, resolution and format of the returned image |  |  |
|                                |                                                                                                                                                 | Initiate test case by calling the IUT via the test interface<br>•       |  |  |
|                                |                                                                                                                                                 | •<br>Capture an image with the camera, examine the digitised image data |  |  |
|                                |                                                                                                                                                 | •<br>Check the resulting image for visible compression artefacts        |  |  |

### **Test Case ID: TC-AS-FI-DC2-001**

*Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition and bio:Records)
- **•** The image is at least of resolution 1244 x 1600 pixels with an inter eye dis tance of at least 300 pixels and stored in colour (24 bit sRGB).
- **•** There are no visible compression artefacts in the resulting image

**Table 2.49** Test Case ID: TC-AS-FI-DC2-001

### 2.2.3 Test Cases FM AS-FI-FBS

| Test Case ID: TC-AS-FI-FBS-001 |                                                                                               |                                                                                                                                                                                                                                                      |  |  |
|--------------------------------|-----------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of acquisition software for flat bed scanners that are used the provisioning digi | tised application forms. This test case covers the image format used by the acquisition software of<br>the scanner system.                                                                                                                           |  |  |
| Preconditions                  | •                                                                                             | IUT is running, required modules are loaded                                                                                                                                                                                                          |  |  |
|                                | •                                                                                             | A document scanner is connected                                                                                                                                                                                                                      |  |  |
|                                | •                                                                                             | As test resource: a application form preferable for German Identity Document (GID)                                                                                                                                                                   |  |  |
| CTS Mode                       | •<br>automatic                                                                                |                                                                                                                                                                                                                                                      |  |  |
|                                | •                                                                                             | Image provision as JPEG or JPEG2000 using the test interface (see BSI TR-03122-1, Chapter 4,<br>"Conformance Test Interfaces")                                                                                                                       |  |  |
|                                | •                                                                                             | HTTP method: GET                                                                                                                                                                                                                                     |  |  |
|                                | •<br>test case variants:                                                                      |                                                                                                                                                                                                                                                      |  |  |
|                                |                                                                                               |                                                                                                                                                                                                                                                      |  |  |
|                                |                                                                                               | /TR03122/TC-AS-FI-FBS-001/1                                                                                                                                                                                                                          |  |  |
|                                |                                                                                               | Table 2.52 TC-AS-FI-FBS-001 Test Case Variants                                                                                                                                                                                                       |  |  |
| Description                    | Step                                                                                          | Description / Expected Result                                                                                                                                                                                                                        |  |  |
|                                | 1                                                                                             | Description:                                                                                                                                                                                                                                         |  |  |
|                                |                                                                                               | •<br>Initiate the test case via the test interface.                                                                                                                                                                                                  |  |  |
|                                |                                                                                               | •<br>Verfiy compression of file with JPEG decoder/viewer.                                                                                                                                                                                            |  |  |
|                                |                                                                                               | Expected Result:                                                                                                                                                                                                                                     |  |  |
|                                |                                                                                               | •<br>A message conforming to TR-03121 XML containing the encoded image is<br>returned via the test interface.                                                                                                                                        |  |  |
|                                |                                                                                               | The image is provided in JPEG.<br>•                                                                                                                                                                                                                  |  |  |
|                                |                                                                                               | The image is provided without any prior or further compression in JPEG,<br>•<br>meaning that, apart from the compression of JPEG itself, no further com<br>pression is applied. The facial image is provided with the least compression<br>possible. |  |  |
|                                |                                                                                               | The image can be displayed.<br>•                                                                                                                                                                                                                     |  |  |

**Table 2.51** Test Case ID: TC-AS-FI-FBS-001

### 2.2.4 Test Cases FM AS-FI-ICS

| Test Case ID: TC-AS-FI-ICS-001 |                                                                                                                                                                                                                                                        |  |  |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of technical specifications for acquisition software used integrated camera sys<br>tems in order to obtain digitised facial images. This test case covers the image formats supported by<br>the acquisition software of the camera system. |  |  |
| Preconditions                  | Product documentation of the utilised camera system is at hand (e.g. data sheet, manual).                                                                                                                                                              |  |  |
| CTS Mode                       | Not supported                                                                                                                                                                                                                                          |  |  |

| Test Case ID: TC-AS-FI-ICS-001 |      |                                                                                           |
|--------------------------------|------|-------------------------------------------------------------------------------------------|
| Description                    | Step | Description / Expected Result                                                             |
|                                | 1    | Description:                                                                              |
|                                |      | Consult the product documentation of camera system and check sup<br>ported image formats. |
|                                |      | Expected Result:                                                                          |
|                                |      | The product documentation states that the software provides raw uncompres                 |

container format (e.g. BMP, TIFF).

sed image data e.g. YUV422 or sRGB or the software provides a lossless image

**Table 2.53** Test Case ID: TC-AS-FI-ICS-001

| Test Case ID: TC-AS-FI-ICS-002            |                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                                                |  |  |
|-------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                     | Examination of technical specifications for acquisition software used integrated camera sys<br>tems in order to obtain digitised facial images. This test case covers the minimum physical resolu<br>tion of the captured facial image. Note, this requirement is not MANDATORY for scenarios where<br>only a facial verification is performed. |                                                                                                                                                                                                                |  |  |
| Preconditions                             | •<br>The integrated camera system used in the specific application profile is connected and sys<br>tem is ready for capturing.                                                                                                                                                                                                                  |                                                                                                                                                                                                                |  |  |
|                                           | •<br>Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                |  |  |
| CTS Mode                                  | Not supported                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                |  |  |
| Description                               | Step                                                                                                                                                                                                                                                                                                                                            | Description / Expected Result                                                                                                                                                                                  |  |  |
|                                           | 1                                                                                                                                                                                                                                                                                                                                               | Description:                                                                                                                                                                                                   |  |  |
|                                           |                                                                                                                                                                                                                                                                                                                                                 | Verify that the active camera setting (e.g. configurable via camera firmware)<br>•<br>used for the specific application provides an image resolution of at least<br>1200 x 1600 pixels without any up-scaling. |  |  |
|                                           |                                                                                                                                                                                                                                                                                                                                                 | Consult product documentation of the camera and options in the cameras<br>•<br>firmware.                                                                                                                       |  |  |
|                                           |                                                                                                                                                                                                                                                                                                                                                 | Expected Result:                                                                                                                                                                                               |  |  |
|                                           |                                                                                                                                                                                                                                                                                                                                                 | •<br>The setting provides a native image resolution of at least 1200 x 1600 pixels.                                                                                                                            |  |  |
|                                           |                                                                                                                                                                                                                                                                                                                                                 | •<br>This setting is the active setting for the application profile.                                                                                                                                           |  |  |
| Table 2.54 Test Case ID: TC-AS-FI-ICS-002 |                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                                                |  |  |

| Test Case ID: TC-AS-FI-ICS-003 |                                                                                                                                                                                         |                                                                                                                                                                                       |  |
|--------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          | Examination of technical specifications for acquisition software used integrated camera sys<br>tems in order to obtain digitised facial images. This test case covers the illumination. |                                                                                                                                                                                       |  |
| Preconditions                  | •<br>The integrated camera system used in the specific application profile is connected and sys<br>tem is ready for capturing.                                                          |                                                                                                                                                                                       |  |
|                                | •<br>Product documentation of the integrated camera system is at hand (e.g. data sheet, manual).                                                                                        |                                                                                                                                                                                       |  |
| CTS Mode                       | Not supported                                                                                                                                                                           |                                                                                                                                                                                       |  |
| Description                    | Step                                                                                                                                                                                    | Description / Expected Result                                                                                                                                                         |  |
|                                | 1                                                                                                                                                                                       | Description:                                                                                                                                                                          |  |
|                                |                                                                                                                                                                                         | •<br>Verify that the active setting of the integrated camera system used for the<br>specific application provides diffuse lighting adapting to the environmental<br>light conditions. |  |
|                                |                                                                                                                                                                                         |                                                                                                                                                                                       |  |

**•** Consult product documentation of the integrated camera system and opti ons in the firmware.

### **Test Case ID: TC-AS-FI-ICS-003**

*Expected Result:*

- **•** The setting provides diffuse lighting adapting to the environmental light conditions.
- **•** The setting is the active setting for the application profile.

### **Table 2.55** Test Case ID: TC-AS-FI-ICS-003

| Test Case ID: TC-AS-FI-ICS-004 |                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                            |  |
|--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          | Examination of technical specifications for acquisition software used integrated camera sys<br>tems in order to obtain digitised facial images. This test case covers the colour space of the captured<br>facial image. Note, this requirement is not MANDATORY for scenarios where only a verifica<br>tion is performed. |                                                                                                                                                            |  |
| Preconditions                  | The integrated camera system used in the specific application profile is connected and sys<br>•<br>tem is ready for capturing.                                                                                                                                                                                            |                                                                                                                                                            |  |
|                                | •<br>Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                                                       |                                                                                                                                                            |  |
| CTS Mode                       | Not supported                                                                                                                                                                                                                                                                                                             |                                                                                                                                                            |  |
| Description                    | Step                                                                                                                                                                                                                                                                                                                      | Description / Expected Result                                                                                                                              |  |
|                                | 1                                                                                                                                                                                                                                                                                                                         | Description:                                                                                                                                               |  |
|                                |                                                                                                                                                                                                                                                                                                                           | •<br>Verify that the active setting of the integrated camera system used for the<br>specific application provides the ability to capture images in colour. |  |
|                                |                                                                                                                                                                                                                                                                                                                           | •<br>Consult product documentation of the integrated camera system and opti<br>ons in the firmware.                                                        |  |
|                                |                                                                                                                                                                                                                                                                                                                           | Expected Result:                                                                                                                                           |  |
|                                |                                                                                                                                                                                                                                                                                                                           | The setting provides the ability to capture images in colour (24 bit sRGB).                                                                                |  |

**Table 2.56** Test Case ID: TC-AS-FI-ICS-004

### 2.2.5 Test Cases FM AS-FI-ICS2

| Test Case ID: TC-AS-FI-ICS2-001 |                                                                                                                                                                                                                                                        |                                                                                                                                                                                                 |  |  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                           | Examination of technical specifications for acquisition software used integrated camera sys<br>tems in order to obtain digitised facial images. This test case covers the image formats supported by<br>the acquisition software of the camera system. |                                                                                                                                                                                                 |  |  |
| Preconditions                   | Product documentation of the utilised camera system is at hand (e.g. data sheet, manual).                                                                                                                                                              |                                                                                                                                                                                                 |  |  |
| CTS Mode                        | Not supported                                                                                                                                                                                                                                          |                                                                                                                                                                                                 |  |  |
| Description                     | Step                                                                                                                                                                                                                                                   | Description / Expected Result                                                                                                                                                                   |  |  |
|                                 | 1                                                                                                                                                                                                                                                      | Description:                                                                                                                                                                                    |  |  |
|                                 |                                                                                                                                                                                                                                                        | Consult the product documentation of camera system and check sup<br>ported image formats.                                                                                                       |  |  |
|                                 |                                                                                                                                                                                                                                                        | Expected Result:                                                                                                                                                                                |  |  |
|                                 |                                                                                                                                                                                                                                                        | The product documentation states that the software provides raw uncompres<br>sed image data e.g. YUV422 or sRGB or the software provides a lossless image<br>container format (e.g. BMP, TIFF). |  |  |

### **Table 2.57** Test Case ID: TC-AS-FI-ICS2-001

| Test Case ID: TC-AS-FI-ICS2-002 |                                                                                                                                                                                                                                                                                                                                                 |  |  |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                           | Examination of technical specifications for acquisition software used integrated camera sys<br>tems in order to obtain digitised facial images. This test case covers the minimum physical resolu<br>tion of the captured facial image. Note, this requirement is not MANDATORY for scenarios where<br>only a facial verification is performed. |  |  |

| Test Case ID: TC-AS-FI-ICS2-002 |                                                                                                                                |                                                                                                                                                                                                                |  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Preconditions                   | •<br>The integrated camera system used in the specific application profile is connected and sys<br>tem is ready for capturing. |                                                                                                                                                                                                                |  |
|                                 | •<br>Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                            |                                                                                                                                                                                                                |  |
| CTS Mode                        | Not supported                                                                                                                  |                                                                                                                                                                                                                |  |
| Description                     | Step                                                                                                                           | Description / Expected Result                                                                                                                                                                                  |  |
|                                 | 1                                                                                                                              | Description:                                                                                                                                                                                                   |  |
|                                 |                                                                                                                                | Verify that the active camera setting (e.g. configurable via camera firmware)<br>•<br>used for the specific application provides an image resolution of at least<br>1244 x 1600 pixels without any up-scaling. |  |
|                                 |                                                                                                                                | Consult product documentation of the camera and options in the cameras<br>•<br>firmware.                                                                                                                       |  |
|                                 |                                                                                                                                | Expected Result:                                                                                                                                                                                               |  |
|                                 |                                                                                                                                | •<br>The setting provides a native image resolution of at least 1244 x 1600 pixels.                                                                                                                            |  |
|                                 |                                                                                                                                | •<br>This setting is the active setting for the application profile.                                                                                                                                           |  |

### **Table 2.58** Test Case ID: TC-AS-FI-ICS2-002

| Test Case ID: TC-AS-FI-ICS2-003 |                                                                                                                                                                                         |                                                                                                                                                                                       |  |
|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of technical specifications for acquisition software used integrated camera sys<br>tems in order to obtain digitised facial images. This test case covers the illumination. |                                                                                                                                                                                       |  |
| Preconditions                   | •<br>The integrated camera system used in the specific application profile is connected and sys<br>tem is ready for capturing.                                                          |                                                                                                                                                                                       |  |
|                                 | •                                                                                                                                                                                       | Product documentation of the integrated camera system is at hand (e.g. data sheet, manual).                                                                                           |  |
| CTS Mode                        | Not supported                                                                                                                                                                           |                                                                                                                                                                                       |  |
| Description                     | Step                                                                                                                                                                                    | Description / Expected Result                                                                                                                                                         |  |
|                                 | 1                                                                                                                                                                                       | Description:                                                                                                                                                                          |  |
|                                 |                                                                                                                                                                                         | •<br>Verify that the active setting of the integrated camera system used for the<br>specific application provides diffuse lighting adapting to the environmental<br>light conditions. |  |
|                                 |                                                                                                                                                                                         | •<br>Consult product documentation of the integrated camera system and opti<br>ons in the firmware.                                                                                   |  |
|                                 |                                                                                                                                                                                         | Expected Result:                                                                                                                                                                      |  |
|                                 |                                                                                                                                                                                         | The setting provides diffuse lighting adapting to the environmental light<br>•<br>conditions.                                                                                         |  |
|                                 |                                                                                                                                                                                         | The setting is the active setting for the application profile.<br>•                                                                                                                   |  |

### **Table 2.59** Test Case ID: TC-AS-FI-ICS2-003

| Test Case ID: TC-AS-FI-ICS2-004 |                                                                                                                                                                                                                                                                                                                           |                               |  |  |
|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|--|--|
| Scope                           | Examination of technical specifications for acquisition software used integrated camera sys<br>tems in order to obtain digitised facial images. This test case covers the colour space of the captured<br>facial image. Note, this requirement is not MANDATORY for scenarios where only a verifica<br>tion is performed. |                               |  |  |
| Preconditions                   | The integrated camera system used in the specific application profile is connected and sys<br>•<br>tem is ready for capturing.                                                                                                                                                                                            |                               |  |  |
|                                 | •<br>Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                                                                                                                                                                                                                       |                               |  |  |
| CTS Mode                        | Not supported                                                                                                                                                                                                                                                                                                             |                               |  |  |
| Description                     | Step                                                                                                                                                                                                                                                                                                                      | Description / Expected Result |  |  |

### **Test Case ID: TC-AS-FI-ICS2-004**

1

### *Description:*

- **•** Verify that the active setting of the integrated camera system used for the specific application provides the ability to capture images in colour.
- **•** Consult product documentation of the integrated camera system and opti ons in the firmware.

### *Expected Result:*

The setting provides the ability to capture images in colour (24 bit sRGB).

### **Table 2.60** Test Case ID: TC-AS-FI-ICS2-004

| Test Case ID: TC-AS-FI-ICS2-005 |                                                                                                                                |                                                                                                                                                       |  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of the software module used for acquisition of digitised facial images                                             |                                                                                                                                                       |  |
| Preconditions                   | •<br>The integrated camera system used in the specific application profile is connected and sys<br>tem is ready for capturing. |                                                                                                                                                       |  |
|                                 | •<br>Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                            |                                                                                                                                                       |  |
| CTS Mode                        | Not supported                                                                                                                  |                                                                                                                                                       |  |
| Description                     | Step                                                                                                                           | Description / Expected Result                                                                                                                         |  |
|                                 | 1                                                                                                                              | Description:                                                                                                                                          |  |
|                                 |                                                                                                                                | Check proper data encoding, resolution and format of the returned image                                                                               |  |
|                                 |                                                                                                                                | •<br>Capture an image with the camera, examine the digitised image data                                                                               |  |
|                                 |                                                                                                                                | •<br>Check the resulting image for visible compression artefacts                                                                                      |  |
|                                 |                                                                                                                                | Expected Result:                                                                                                                                      |  |
|                                 |                                                                                                                                | •<br>The image is at least of resolution 1244 x 1600 pixels with an inter eye dis<br>tance of at least 300 pixels and stored in colour (24 bit sRGB). |  |
|                                 |                                                                                                                                | There are no visible compression artefacts in the resulting image<br>•                                                                                |  |

### **Table 2.61** Test Case ID: TC-AS-FI-ICS2-005

| Test Case ID: TC-AS-FI-ICS2-006 |                                                                                                                                |                                                                                                                  |  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of the software module used for acquisition of digitised facial images                                             |                                                                                                                  |  |
| Preconditions                   | •<br>The integrated camera system used in the specific application profile is connected and sys<br>tem is ready for capturing. |                                                                                                                  |  |
|                                 | •<br>Product documentation of the camera unit is at hand (e.g. data sheet, manual).                                            |                                                                                                                  |  |
| CTS Mode                        | Not supported                                                                                                                  |                                                                                                                  |  |
| Description                     | Step                                                                                                                           | Description / Expected Result                                                                                    |  |
|                                 | 1                                                                                                                              | Description:                                                                                                     |  |
|                                 |                                                                                                                                | Check proper uniform background in case the meets require<br>ments of [ISO_FACE] and [ICAO_TR_Portrait_Quality]. |  |
|                                 |                                                                                                                                | Capture an image with the camera, examine the digitised image data.                                              |  |
|                                 |                                                                                                                                | Expected Result:                                                                                                 |  |
|                                 |                                                                                                                                | •<br>There are no visible background artefacts in the resulting image.                                           |  |
|                                 |                                                                                                                                | There is a uniform background according to [ISO_FACE] and<br>•<br>[ICAO_TR_Portrait_Quality].                    |  |
|                                 | 2                                                                                                                              | Description:                                                                                                     |  |
|                                 |                                                                                                                                | Check proper uniform background in case the background was eliminated and<br>replaced.                           |  |
|                                 |                                                                                                                                | Capture an image with the camera, examine the digitised image data.                                              |  |

**Test Case ID: TC-AS-FI-ICS2-006**

*Expected Result:*

- **•** There are no visible background artefacts in the resulting image.
- **•** The face, hair and shoulders are not changed (includes cutting off).
- **•** There is a uniform grey background (i.e. R=G=B) and the grey is between #A1A1A1 and #E1E1E1.

**Table 2.62** Test Case ID: TC-AS-FI-ICS2-006

| Test Case ID: TC-AS-FI-ICS2-007 |                                                             |                                                                                                                                                                                                                     |  |  |
|---------------------------------|-------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                           |                                                             | Examination of the software module used for acquisition of digitised facial images with focus on<br>the active camera settings.                                                                                     |  |  |
| Preconditions                   | •                                                           | The IUT is in operation, required modules are loaded.                                                                                                                                                               |  |  |
|                                 | •                                                           | An Integrated Camera System (ICS) is connected                                                                                                                                                                      |  |  |
|                                 | •                                                           | IUT is configured to perform the acquisition of a facial image.                                                                                                                                                     |  |  |
|                                 | •<br>A testperson is available to test the IUT's behaviour. |                                                                                                                                                                                                                     |  |  |
| CTS Mode                        | interactive<br>•                                            |                                                                                                                                                                                                                     |  |  |
|                                 | •                                                           | no provision of pre-defined input data                                                                                                                                                                              |  |  |
|                                 | •                                                           | HTTP method: GET                                                                                                                                                                                                    |  |  |
|                                 | •                                                           | test case variants:                                                                                                                                                                                                 |  |  |
|                                 |                                                             |                                                                                                                                                                                                                     |  |  |
|                                 |                                                             | /TR03122/TC-AS-FI-ICS2-007/1                                                                                                                                                                                        |  |  |
|                                 |                                                             | Table 2.64 TC-AS-FI-ICS2-007 Test Case Variants                                                                                                                                                                     |  |  |
| Description                     | Step                                                        | Description / Expected Result                                                                                                                                                                                       |  |  |
|                                 | 1                                                           | Description:                                                                                                                                                                                                        |  |  |
|                                 |                                                             | Capture one image of the testperson with ICS using IUT. Examinati<br>•<br>on of the acquired Image.                                                                                                                 |  |  |
|                                 |                                                             | Expected Result:                                                                                                                                                                                                    |  |  |
|                                 |                                                             | •<br>The IUT delivers a response that is conformant to the schema file<br>trbio5v1.xsd.                                                                                                                             |  |  |
|                                 |                                                             | •<br>The response contains the correct number of elements based on the XPath<br>expression .//bio:Records/bio:BinaryRecord[@type='jpeg']. Exactly<br>1 element is expected in accordance to the acquistion process. |  |  |
|                                 |                                                             | •<br>The data embedded in the element ".//bio:Records/bio:BinaryRecord[@ty<br>pe='jpeg']" of the response XML is JPEG.                                                                                              |  |  |
|                                 |                                                             | •<br>The image captured by the ICS has a resolution of at least 1244 x 1600.                                                                                                                                        |  |  |
|                                 |                                                             | •<br>The image has a colour space of 24bit RGB or 8 bit Greyscale                                                                                                                                                   |  |  |
|                                 |                                                             | •<br>The image depicts the testperson in the moment of the acquisition.                                                                                                                                             |  |  |
|                                 |                                                             | The image does not contain compression artefacts.<br>•                                                                                                                                                              |  |  |
|                                 |                                                             |                                                                                                                                                                                                                     |  |  |

**Table 2.63** Test Case ID: TC-AS-FI-ICS2-007

### **Test Case ID: TC-AS-FI-ICS2-008**

*Scope* Examination of the software module used for acquisition of digitised facial images with focus on the background elimination.

| Test Case ID: TC-AS-FI-ICS2-008 |                                                                                                                                                                                                                                                                                                                       |  |  |  |
|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Preconditions                   | •<br>The IUT is in operation, required modules are loaded.                                                                                                                                                                                                                                                            |  |  |  |
|                                 | A groundtruth database is at hand.                                                                                                                                                                                                                                                                                    |  |  |  |
|                                 | The facial images in the database are either 24bit RGB or 8bit grayscale.<br>•                                                                                                                                                                                                                                        |  |  |  |
|                                 | •<br>A set of metrics is given to evaluate the quality of the segmentation.                                                                                                                                                                                                                                           |  |  |  |
|                                 | •<br>The following conditions apply regarding the database:                                                                                                                                                                                                                                                           |  |  |  |
|                                 | •<br>The groundtruth database contains pairs of images in format JPEG                                                                                                                                                                                                                                                 |  |  |  |
|                                 | •<br>Each pair consists of a facial image with non-uniform background and an the seg<br>mentation result, i.e. an image of the same dimensions as facial with pixels eit<br>her black or white. A pixel in the segmentation result is black iff the corresponding pixel in<br>the facial image is a background-pixel. |  |  |  |
|                                 | •<br>The images in the database have dimensions of 1600*1244.                                                                                                                                                                                                                                                         |  |  |  |
|                                 | •<br>The facial images in the database are either 24bit RGB or 8bit grayscale.                                                                                                                                                                                                                                        |  |  |  |
| CTS Mode                        | automatic<br>•                                                                                                                                                                                                                                                                                                        |  |  |  |
|                                 | no provision of pre-defined input data<br>•                                                                                                                                                                                                                                                                           |  |  |  |
|                                 | •<br>HTTP method: POST                                                                                                                                                                                                                                                                                                |  |  |  |
|                                 | •<br>test case variants:                                                                                                                                                                                                                                                                                              |  |  |  |
|                                 |                                                                                                                                                                                                                                                                                                                       |  |  |  |
|                                 | /TR03122/TC-AS-FI-ICS2-008/1                                                                                                                                                                                                                                                                                          |  |  |  |
|                                 | Table 2.66 TC-AS-FI-ICS2-008 Test Case Variants                                                                                                                                                                                                                                                                       |  |  |  |
| Description                     | Step<br>Description / Expected Result                                                                                                                                                                                                                                                                                 |  |  |  |
|                                 | 1<br>Description:                                                                                                                                                                                                                                                                                                     |  |  |  |

**•** A facial image from the database is sent to the IUT to test the segmentation.

| Test Case ID: TC-AS-FI-ICS2-008 |                                                                                                                                                                                                                                                                   |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                 | Expected Result:                                                                                                                                                                                                                                                  |
| •                               | The IUT delivers a response that is conformant to the schema file<br>trbio5v1.xsd.                                                                                                                                                                                |
| •                               | The response contains the correct number of elements based on the XPath<br>expression .//bio:Records/bio:BinaryRecord[@type='jpeg']. Exactly<br>2 elements are expected in accordance to the acquistion process.                                                  |
| •                               | The response contains the correct number of elements based on the XPath<br>expression .//bio:Records/bio:BinaryRecord[@type='jpeg' and<br>@externalReference='facialImage']. Exactly 1 element is expected in<br>accordance to the acquistion process.            |
| •                               | The response contains the correct number of elements based on the XPath<br>expression .//bio:Records/bio:BinaryRecord[@type='jpeg' and<br>@externalReference='segmentationPrediction']. Exactly 1 element is<br>expected in accordance to the acquistion process. |
| •                               | The data embedded in the elements ".//bio:Records/bio:BinaryRecord[@ty<br>pe='jpeg']" of the response XML are JPEG.                                                                                                                                               |
| •                               | The image containing the facial with eliminated background has a re<br>solution of exactly 1244 x 1600.                                                                                                                                                           |
| •                               | The image containing the segmentation prediction has a resolution of ex<br>actly 1244 x 1600.                                                                                                                                                                     |
| •                               | The segmentation of the image is calculated for the set of metrics.                                                                                                                                                                                               |
| •                               | The pixels of facial image demarked as "non-background" by the segmenta<br>tion predicition image are identical to the "non-background" pixels of the<br>corresponding request image.                                                                             |
| •                               | The pixels of facial image demarked as "background" by the segmentati<br>on predicition image are of the same gray color in between #A1A1A1 and                                                                                                                   |

#E1E1E1

**Table 2.65** Test Case ID: TC-AS-FI-ICS2-008

### 2.2.6 Test Cases FM AS-FI-ICS3

| Test Case ID: TC-AS-FI-ICS3-001 |                                                                                                                                                                     |  |  |  |
|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope                           | Examination of correctness of the software module used for integrated camera systems in order to<br>obtain digitised facial images for detection of multiple faces. |  |  |  |
| Preconditions                   | •<br>The IUT is in operation, required modules are loaded.                                                                                                          |  |  |  |
|                                 | •<br>The integrated camera system used in the specific application scenario is connected.                                                                           |  |  |  |
|                                 | •<br>The IUT implements an interface for conformance testing where a single image can be captured.                                                                  |  |  |  |
|                                 | The IUT is able to return the results for every captured image via the test interface.<br>•                                                                         |  |  |  |
|                                 | •<br>At least two test subjects are available to test the IUT's behaviour.                                                                                          |  |  |  |
| CTS Mode                        | •<br>interactive                                                                                                                                                    |  |  |  |
|                                 | •<br>no provision of pre-defined input data                                                                                                                         |  |  |  |
|                                 | •<br>HTTP method: GET                                                                                                                                               |  |  |  |
|                                 | •<br>test case variants:                                                                                                                                            |  |  |  |
|                                 |                                                                                                                                                                     |  |  |  |
|                                 | /TR03122/TC-AS-FI-ICS3-001/1/                                                                                                                                       |  |  |  |
|                                 | Table 2.68 TC-AS-FI-ICS3-001 Test Case Variants                                                                                                                     |  |  |  |
| Description                     | Step<br>Description / Expected Result                                                                                                                               |  |  |  |

| Test Case ID: TC-AS-FI-ICS3-001 |                                                                                                                                            |  |  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| 1                               | Description:                                                                                                                               |  |  |
|                                 | A single biometric subject is present in the IUT's capture area.<br>•                                                                      |  |  |
|                                 | •<br>The IUT is called via the conformance test interface and a compliant face<br>presentation is performed according to FM AS-FI-ICS3.    |  |  |
|                                 | Expected Result:                                                                                                                           |  |  |
|                                 | •<br>A compliant facial image is acquired according to FM AS-FI-ICS3.                                                                      |  |  |
|                                 | •<br>The acceptance conditions (i.e. no multiple faces detected) are satisfied and<br>achieved.                                            |  |  |
|                                 | •<br>A message conforming to TR-03121 XML containing the encoded facial<br>image is returned via the test interface (bio:FaceAcquisition). |  |  |
| 2                               | Description:                                                                                                                               |  |  |
|                                 | More than one biometric subjects are present in the IUT's capture area.<br>•                                                               |  |  |
|                                 | The IUT is called via the conformance test interface and non-compliant face<br>•<br>presentation containing multiple faces is performed.   |  |  |
|                                 | Expected Result:                                                                                                                           |  |  |
|                                 | •<br>Facial image acquisition by the IUT is omitted.                                                                                       |  |  |
|                                 | •<br>The acceptance conditions are not met, i.e. the total result of the acquisition<br>is negative.                                       |  |  |

**Table 2.67** Test Case ID: TC-AS-FI-ICS3-001

| Test Case ID: TC-AS-FI-ICS3-002 |                                                                                                                                     |                                                                                                                                                                                                                                                                                                                    |  |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | capture area.                                                                                                                       | Examination of correctness of the software module used for integrated camera systems in order to<br>obtain digitised facial images for detecting whether the face of the biometric subject is leaving the                                                                                                          |  |
| Preconditions                   | •<br>The IUT is in operation, required modules are loaded.                                                                          |                                                                                                                                                                                                                                                                                                                    |  |
|                                 | •<br>The integrated camera system used in the specific application scenario is connected.                                           |                                                                                                                                                                                                                                                                                                                    |  |
|                                 | •<br>The IUT implements an interface for conformance testing where a single image can be captured.                                  |                                                                                                                                                                                                                                                                                                                    |  |
|                                 | •                                                                                                                                   | The IUT is able to return the results for every captured image via the test interface.                                                                                                                                                                                                                             |  |
|                                 | •<br>A non-zero timeout is set in the IUT for terminating the process if face of biometric sub<br>ject is leaving the capture area. |                                                                                                                                                                                                                                                                                                                    |  |
|                                 | One test subject is available to test the IUT's behaviour.<br>•                                                                     |                                                                                                                                                                                                                                                                                                                    |  |
| CTS Mode                        | interactive<br>•                                                                                                                    |                                                                                                                                                                                                                                                                                                                    |  |
|                                 | •<br>no provision of pre-defined input data                                                                                         |                                                                                                                                                                                                                                                                                                                    |  |
|                                 | •<br>HTTP method: GET                                                                                                               |                                                                                                                                                                                                                                                                                                                    |  |
|                                 | •<br>test case variants:                                                                                                            |                                                                                                                                                                                                                                                                                                                    |  |
|                                 |                                                                                                                                     |                                                                                                                                                                                                                                                                                                                    |  |
|                                 |                                                                                                                                     | /TR03122/TC-AS-FI-ICS3-002/1/                                                                                                                                                                                                                                                                                      |  |
|                                 |                                                                                                                                     | Table 2.70 TC-AS-FI-ICS3-002 Test Case Variants                                                                                                                                                                                                                                                                    |  |
| Description                     | Step                                                                                                                                | Description / Expected Result                                                                                                                                                                                                                                                                                      |  |
|                                 | 1                                                                                                                                   | Description:                                                                                                                                                                                                                                                                                                       |  |
|                                 |                                                                                                                                     | The IUT is called via the conformance test interface and a non-compliant face<br>presentation is performed, i.e. the test subject moves such that the face is not<br>further recognisable, e.g. the test subject moves sidewards or rotates sufficient<br>ly around the vertical axis, according to FM AS-FI-ICS3. |  |

### **Test Case ID: TC-AS-FI-ICS3-002**

*Expected Result:*

- **•** Facial image acquisition by the [IUT](#page-163-1) is omitted.
- **•** The process terminates after the timer which starts at the point of leaving the capture area reaches the preset timeout.
- **•** No message containing the encoded facial image is returned via test in terface (bio:FaceAcquisition).

**Table 2.69** Test Case ID: TC-AS-FI-ICS3-002

### 2.2.7 Test Cases FM AS-FP-MF

| Test Case ID: TC-AS-FP-MF-001 |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                            |  |
|-------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                         | Examination of correct functionality the fingerprint scanners pre-qualification regarding a me<br>dium/default setting and test configurability of pre-qualification thresholds, regarding relaxed and<br>strict settings (if supported by the IUT). |                                                                                                                                                                                                            |  |
| Preconditions                 | •<br>IUT is running, required modules are loaded.                                                                                                                                                                                                    |                                                                                                                                                                                                            |  |
|                               | •<br>A multi fingerprint scanner is connected.                                                                                                                                                                                                       |                                                                                                                                                                                                            |  |
|                               | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with.                                                                                                                                                         |                                                                                                                                                                                                            |  |
|                               | •<br>Test case initiation via test interface (TR-03122-1, Chapter 4, "Conformance Test Interfaces").                                                                                                                                                 |                                                                                                                                                                                                            |  |
| CTS Mode                      | interactive<br>•                                                                                                                                                                                                                                     |                                                                                                                                                                                                            |  |
|                               | •<br>no provision of pre-defined input data                                                                                                                                                                                                          |                                                                                                                                                                                                            |  |
|                               | •<br>HTTP method: GET                                                                                                                                                                                                                                |                                                                                                                                                                                                            |  |
|                               | •<br>test case variants:                                                                                                                                                                                                                             |                                                                                                                                                                                                            |  |
|                               |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                            |  |
|                               |                                                                                                                                                                                                                                                      | /TR03122/TC-AS-FP-MF-001/1/                                                                                                                                                                                |  |
|                               |                                                                                                                                                                                                                                                      | Table 2.72 TC-AS-FP-MF-001 Test Case Variants                                                                                                                                                              |  |
| Description                   | Step                                                                                                                                                                                                                                                 | Description / Expected Result                                                                                                                                                                              |  |
|                               | 1                                                                                                                                                                                                                                                    | Description:                                                                                                                                                                                               |  |
|                               |                                                                                                                                                                                                                                                      | Configure a medium pre-qualification threshold (e.g. default value, via soft<br>•<br>ware/firmware, consult product documentation).                                                                        |  |
|                               |                                                                                                                                                                                                                                                      | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                         |  |
|                               |                                                                                                                                                                                                                                                      | •<br>Place fingers on the scanner, at first with slightest pressure.                                                                                                                                       |  |
|                               |                                                                                                                                                                                                                                                      | •<br>Successively increase pressure and improve finger position on the scanner,<br>until auto capture is performed.                                                                                        |  |
|                               |                                                                                                                                                                                                                                                      | Expected Result:                                                                                                                                                                                           |  |
|                               |                                                                                                                                                                                                                                                      | •<br>The automatic activation of the acquisition does not occur immediately.                                                                                                                               |  |
|                               |                                                                                                                                                                                                                                                      | With improving fingerprint quality over time, the scanner performs au<br>•<br>tomatic acquisition.                                                                                                         |  |
|                               |                                                                                                                                                                                                                                                      | A message is given that the required fingerprints were captured successfully.<br>•                                                                                                                         |  |
|                               |                                                                                                                                                                                                                                                      | As a result, a message conforming to TR-03121 XML containing the encoded<br>•<br>fingerprint image in Windows Bitmap Version 3 (BMP) format is returned<br>via the test interface (bio:FingerAcquisition). |  |
|                               | 2                                                                                                                                                                                                                                                    | Description:                                                                                                                                                                                               |  |
|                               |                                                                                                                                                                                                                                                      | •<br>Configure pre-qualification threshold as relaxed as possible.                                                                                                                                         |  |
|                               |                                                                                                                                                                                                                                                      | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                         |  |
|                               |                                                                                                                                                                                                                                                      | •<br>Place fingers on the scanner, at first with slightest pressure.                                                                                                                                       |  |
|                               |                                                                                                                                                                                                                                                      | •<br>Successively increase pressure and improve finger position on the scanner.                                                                                                                            |  |

### **Test Case ID: TC-AS-FP-MF-001** *Expected Result:* **•** The automatic activation of the scanner triggers early (in comparison to step 1.). **•** A message is given that the required fingerprints were captured successfully. **•** As a result, a message conforming to TR-03121 XML containing the encoded fingerprint image in Windows Bitmap Version 3 (BMP) format is returned via the test interface (bio:FingerAcquisition). *Description:* **•** Configure pre-qualification threshold as strict as possible. **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface. **•** Place fingers on the scanner, at first with slightest pressure. **•** Successively increase pressure and improve finger position on the scanner. 3 *Expected Result:* **•** The automatic activation of the scanner triggers very late (in comparison to step 1.) or not at all. **•** A message is given that the required fingerprints were captured successfully respectively no message is given at all. **•** As a result, a message conforming to TR-03121 XML containing the encoded

**Table 2.71** Test Case ID: TC-AS-FP-MF-001

| Test Case ID: TC-AS-FP-MF-002 |                                                                                                                            |                                                                                                                                             |  |
|-------------------------------|----------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                         | Examination of the fingerprint scanners resulting image resolution.                                                        |                                                                                                                                             |  |
| Preconditions                 | Product documentation of the fingerprint scanner model is at hand (e.g. data sheet, manual, manu<br>facturer declaration). |                                                                                                                                             |  |
| CTS Mode                      | Not supported                                                                                                              |                                                                                                                                             |  |
| Description                   | Step                                                                                                                       | Description / Expected Result                                                                                                               |  |
|                               | 1                                                                                                                          | Description:                                                                                                                                |  |
|                               |                                                                                                                            | •<br>Verify that the resolution of the fingerprint scanner fulfils the requirements<br>for acquisition setting levels 31 or 41 [ISO_FINGER] |  |
|                               |                                                                                                                            | •<br>Consult product documentation                                                                                                          |  |
|                               |                                                                                                                            | Expected Result:                                                                                                                            |  |
|                               |                                                                                                                            | The documentation attests that the requirements are fulfilled.                                                                              |  |

fingerprint image in Windows Bitmap Version 3 (BMP) format is returned via the test interface (bio:FingerAcquisition and bio:Records).

**Table 2.73** Test Case ID: TC-AS-FP-MF-002

| Test Case ID: TC-AS-FP-MF-003 |                                                                                                  |                                                                                          |  |
|-------------------------------|--------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|--|
| Scope                         |                                                                                                  | Examination of the fingerprint scanners pre-qualification regarding their configuration. |  |
| Preconditions                 | Product documentation of the fingerprint scanner model is at hand (e.g. data sheet, manual, manu | facturer declaration).                                                                   |  |
| CTS Mode                      | Not supported                                                                                    |                                                                                          |  |
| Description                   | Step                                                                                             | Description / Expected Result                                                            |  |
|                               | 1                                                                                                | Description:                                                                             |  |
|                               |                                                                                                  | •<br>Verify that the pre-qualification is configurable by a system administrator         |  |
|                               |                                                                                                  | •<br>Consult product documentation                                                       |  |

### **Test Case ID: TC-AS-FP-MF-003**

*Expected Result:*

The documentation attests that the requirements are fulfilled.

**Table 2.74** Test Case ID: TC-AS-FP-MF-003

### 2.2.8 Test Cases FM AS-FP-ROLL

| Test Case ID: TC-AS-FP-ROLL-001 |                                                                                                                                                 |                                                                                                                                                               |  |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of the software module used for rolled fingerprint acquisition                                                                      |                                                                                                                                                               |  |
| Preconditions                   | •<br>The IUT is running and required modules are loaded                                                                                         |                                                                                                                                                               |  |
|                                 | •<br>A fingerprint scanner providing rolled fingerprints is connected                                                                           |                                                                                                                                                               |  |
|                                 | •<br>Five test persons are available in order to perform fingerprint acquisition                                                                |                                                                                                                                                               |  |
|                                 | •                                                                                                                                               | A trained operator conducts the capture process with the test persons                                                                                         |  |
| CTS Mode                        | •<br>interactive                                                                                                                                |                                                                                                                                                               |  |
|                                 | no provision of pre-defined input data; Test case initiation via test interface (TR-03122-1, Chap<br>•<br>ter 4, "Conformance Test Interfaces") |                                                                                                                                                               |  |
|                                 | •<br>HTTP method: GET                                                                                                                           |                                                                                                                                                               |  |
|                                 | •<br>test case variants:                                                                                                                        |                                                                                                                                                               |  |
|                                 |                                                                                                                                                 |                                                                                                                                                               |  |
|                                 |                                                                                                                                                 | /TR03122/TC-AS-FP-ROLL-001/1                                                                                                                                  |  |
|                                 |                                                                                                                                                 | Table 2.76 TC-AS-FP-ROLL-001 Test Case Variants                                                                                                               |  |
| Description                     | Step                                                                                                                                            | Description / Expected Result                                                                                                                                 |  |
|                                 | 1                                                                                                                                               | Description:                                                                                                                                                  |  |
|                                 |                                                                                                                                                 | Check the captured rolled fingerprint image                                                                                                                   |  |
|                                 |                                                                                                                                                 | For each finger of each test person:                                                                                                                          |  |
|                                 |                                                                                                                                                 | Initiate test case by calling the IUT via the test interface<br>•                                                                                             |  |
|                                 |                                                                                                                                                 | •<br>Start the acquisition                                                                                                                                    |  |
|                                 |                                                                                                                                                 | •<br>Roll finger uniformly from nail to nail                                                                                                                  |  |
|                                 |                                                                                                                                                 | •<br>Examine resulting image from acquisition                                                                                                                 |  |
|                                 |                                                                                                                                                 | Note:                                                                                                                                                         |  |
|                                 |                                                                                                                                                 | •<br>It is not required to acquire the fingerprints of all test persons directly in li<br>ne                                                                  |  |
|                                 |                                                                                                                                                 | It is required to acquire all ten fingerprints of different test persons and not<br>•<br>from one test person several times to achieve five capture processes |  |
|                                 |                                                                                                                                                 | The operator is required to be trained in capturing fingerprints of persons to<br>ensure a realistic finger roll process                                      |  |

### **Test Case ID: TC-AS-FP-ROLL-001**

#### *Expected Result*

As a result per acquisition, a message conforming to TR-03121 XML containing the encoded fingerprint images is returned via the test interface (bio:Finger Acquisition and bio:Records)

For each captured fingerprint image of each test person, the following results are expected:

- **•** The resulting image shows the full width of the rolled fingerprint. Typically the image will roughly be of rectangular shape.
- **•** The captured fingerprint image does not depict visible distortion or inter ruptions. The captured fingerprint image depicts the fingerprint from nail to nail.
- **•** The captured fingerprint image depicts a faithful reproduction of the fin gerprint, especially in the areas where the rolled fingerprint overlaps with the corresponding plain print.
- **•** The captured fingerprint image does not depict visible distortion or inter ruptions.
- **•** The captured fingerprint image does not depict puzzle effects such that parts of the fingerprint image are displaced from their actual position.
- **•** The captured fingerprint image clearly depicts friction ridges.
- **•** The captured fingerprint image does not depict blurring and smearing.
- **•** The captured fingerprint image clearly depicts ridge patterns.
- **•** If features exists for the given fingerprint:
	- **•** The captured fingerprint image clearly depicts features.
	- **•** If loop features exists for the given fingerprint:

The captured fingerprint image clearly depicts loop features (core and delta).

- **•** The captured fingerprint image clearly depicts existing features at the bor der zone of the image.
- **•** The captured fingerprint image depicts the fingerprint's upper part.
- **•** The captured fingerprint image depicts the fingerprint's core area with ridge lines.
- **•** If delta features exists for the given fingerprint:
	- The captured fingerprint image depicts the fingerprints delta features.
- **•** The captured fingerprint image depicts the fingerprint's baseline (bottom area).
- **•** The vertical axis of the fingerprint depicted in captured image is par allel with the fingerprint image's vertical axis.
- **•** Note: In case of doubt whether one or several of the conditions above hold true for the given fingerprint, a dactyloscopy expert SHALL be consulted for clarification.

**Table 2.75** Test Case ID: TC-AS-FP-ROLL-001

| Test Case ID: TC-AS-FP-ROLL-002 |                                                                                                                           |                                                                    |  |
|---------------------------------|---------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|--|
| Scope                           |                                                                                                                           | Examination of the fingerprint scanners resulting image resolution |  |
| Preconditions                   | Product documentation of the fingerprint scanner model is at hand (e.g. data sheet, manual, manu<br>facturer declaration) |                                                                    |  |
| CTS Mode                        | Not supported                                                                                                             |                                                                    |  |
| Description                     | Step                                                                                                                      | Description / Expected Result                                      |  |

|                                 |                                            | 2 Test Cases Function Modules                                                                                                          |
|---------------------------------|--------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|
| Test Case ID: TC-AS-FP-ROLL-002 |                                            |                                                                                                                                        |
|                                 | 1                                          | Description:                                                                                                                           |
|                                 |                                            | Verify that the resolution of the fingerprint scanner fulfils the requirements<br>for acquisition setting levels 31 or 41 [ISO_FINGER] |
|                                 |                                            | Consult product documentation                                                                                                          |
|                                 |                                            | Expected Result:                                                                                                                       |
|                                 |                                            | The documentation attests that the requirements are fulfilled                                                                          |
|                                 | Table 2.77 Test Case ID: TC-AS-FP-ROLL-002 |                                                                                                                                        |
| Test Case ID: TC-AS-FP-ROLL-003 |                                            |                                                                                                                                        |
| Scope                           |                                            | Examination of the software module used for rolled fingerprint acquisition                                                             |
| Preconditions                   | •                                          | The IUT is running and required modules are loaded                                                                                     |
|                                 | •                                          | A fingerprint scanner providing rolled fingerprints is connected                                                                       |
|                                 | •                                          | A test person is available in order to perform fingerprint acquisition                                                                 |
|                                 | •                                          | A trained operator conducts the capture process with the test person                                                                   |
| CTS Mode                        | Not supported                              |                                                                                                                                        |
| Description                     | Step                                       | Description / Expected Result                                                                                                          |
|                                 | 1                                          | Description:                                                                                                                           |
|                                 |                                            | Check the captured rolled fingerprint image                                                                                            |
|                                 |                                            | For exactly two different fingers of the test person:                                                                                  |
|                                 |                                            | Initiate test case by calling the IUT via the test interface.<br>•                                                                     |
|                                 |                                            | Start the acquisition.<br>•                                                                                                            |
|                                 |                                            | •<br>Roll finger from nail to nail, causing blurring and smearing each exactly on<br>ce.                                               |
|                                 |                                            | •<br>Examine resulting image from acquisition                                                                                          |
|                                 |                                            | Note:                                                                                                                                  |
|                                 |                                            | The operator is required to be trained in capturing fingerprints of persons to<br>ensure a realistic finger roll process.              |
|                                 |                                            | Expected Result:                                                                                                                       |
|                                 |                                            | For both captured fingerprint images of the test person, the following results<br>are expected:                                        |
|                                 |                                            | One captured fingerprint image depicts blurring and the other one smea<br>•<br>ring.                                                   |
|                                 |                                            | In both cases the acquisition software detects the occurrence of blurring or<br>•<br>smearing.                                         |
|                                 |                                            | •<br>In both cases a warning is shown to the operator.                                                                                 |
|                                 |                                            | •<br>In both cases the acquisition software does not perform any correction con<br>cerning the blurring and smearing.                  |
|                                 |                                            |                                                                                                                                        |

**Table 2.78** Test Case ID: TC-AS-FP-ROLL-003

## 2.2.9 Test Cases FM AS-FP-SF

### **Test Case ID: TC-AS-FP-SF-001**

*Scope* Examination of correct functionality the fingerprint scanners pre-qualification regarding a me

dium/default setting and test configurability of pre-qualification thresholds, regarding relaxed and strict settings (if supported by the [IUT\)](#page-163-1).

| Test Case ID: TC-AS-FP-SF-001 |                                                                                                                                            |                                                                                                                                                                                                            |  |
|-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Preconditions                 | •                                                                                                                                          | IUT is running, required modules are loaded.                                                                                                                                                               |  |
|                               | •                                                                                                                                          |                                                                                                                                                                                                            |  |
|                               | A single fingerprint scanner is connected.<br>•<br>As necessary test resources: a test person to perform the fingerprint acquisition with. |                                                                                                                                                                                                            |  |
|                               | •                                                                                                                                          | Test case initiation via test interface (TR-03122-1, Chapter 4, "Conformance Test Interfaces").                                                                                                            |  |
| CTS Mode                      | •<br>interactive                                                                                                                           |                                                                                                                                                                                                            |  |
|                               | •                                                                                                                                          | no provision of pre-defined input data                                                                                                                                                                     |  |
|                               | •<br>HTTP method: GET                                                                                                                      |                                                                                                                                                                                                            |  |
|                               | •<br>test case variants:                                                                                                                   |                                                                                                                                                                                                            |  |
|                               |                                                                                                                                            |                                                                                                                                                                                                            |  |
|                               | /TR03122/TC-AS-FP-SF-001/1/                                                                                                                |                                                                                                                                                                                                            |  |
|                               |                                                                                                                                            | Table 2.80 TC-AS-FP-SF-001 Test Case Variants                                                                                                                                                              |  |
| Description                   | Step                                                                                                                                       | Description / Expected Result                                                                                                                                                                              |  |
|                               | 1                                                                                                                                          | Description:                                                                                                                                                                                               |  |
|                               |                                                                                                                                            | •<br>Configure a medium pre-qualification threshold (e.g. default value, via soft<br>ware/firmware, consult product documentation).                                                                        |  |
|                               |                                                                                                                                            | Initiate test case by calling the IUT via the test interface.<br>•                                                                                                                                         |  |
|                               |                                                                                                                                            | Place single finger on the scanner, at first with slightest pressure.<br>•                                                                                                                                 |  |
|                               |                                                                                                                                            | •<br>Successively increase pressure and improve finger position on the scanner,<br>until auto capture is performed.                                                                                        |  |
|                               |                                                                                                                                            | Expected Result:                                                                                                                                                                                           |  |
|                               |                                                                                                                                            | •<br>The automatic activation of the acquisition does not occur immediately.                                                                                                                               |  |
|                               |                                                                                                                                            | •<br>With improving fingerprint quality over time, the scanner performs au<br>tomatic acquisition.                                                                                                         |  |
|                               |                                                                                                                                            | •<br>A message is given that the required fingerprint was captured successfully.                                                                                                                           |  |
|                               |                                                                                                                                            | •<br>As a result, a message conforming to TR-03121 XML containing the encoded<br>fingerprint image in Windows Bitmap Version 3 (BMP) format is returned<br>via the test interface (bio:FingerAcquisition). |  |
|                               | 2                                                                                                                                          | Description:                                                                                                                                                                                               |  |
|                               |                                                                                                                                            | Configure pre-qualification threshold as relaxed as possible.<br>•                                                                                                                                         |  |
|                               |                                                                                                                                            | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                         |  |
|                               |                                                                                                                                            | •<br>Place single finger on the scanner, at first with slightest pressure.                                                                                                                                 |  |
|                               |                                                                                                                                            | •<br>Successively increase pressure and improve finger position on the scanner.                                                                                                                            |  |
|                               |                                                                                                                                            | Expected Result:                                                                                                                                                                                           |  |
|                               |                                                                                                                                            | •<br>The automatic activation of the scanner triggers early (in comparison to<br>step 1.).                                                                                                                 |  |
|                               |                                                                                                                                            | A message is given that the required fingerprint was captured successfully.<br>•                                                                                                                           |  |
|                               |                                                                                                                                            | As a result, a message conforming to TR-03121 XML containing the encoded<br>•<br>fingerprint image in Windows Bitmap Version 3 (BMP) format is returned<br>via the test interface (bio:FingerAcquisition). |  |
|                               | 3                                                                                                                                          | Description:                                                                                                                                                                                               |  |
|                               |                                                                                                                                            | •<br>Configure pre-qualification threshold as strict as possible.                                                                                                                                          |  |
|                               |                                                                                                                                            | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                         |  |
|                               |                                                                                                                                            | •<br>Place single finger on the scanner, at first with slightest pressure.                                                                                                                                 |  |

**•** Successively increase pressure and improve finger position on the scanner.

### **Test Case ID: TC-AS-FP-SF-001**

*Expected Result:*

- **•** The automatic activation of the scanner triggers very late (in comparison to step 1.) or not at all.
- **•** A message is given that the required fingerprint was captured successfully respectively no message is given at all.
- **•** As a result, a message conforming to TR-03121 XML containing the encoded fingerprint image in Windows Bitmap Version 3 (BMP) format is returned via the test interface (bio:FingerAcquisition and bio:Records).

**Table 2.79** Test Case ID: TC-AS-FP-SF-001

| Test Case ID: TC-AS-FP-SF-002 |                                                                                                                            |                                                                                  |
|-------------------------------|----------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
| Scope                         | Examination of the fingerprint scanners pre-qualification regarding their configuration.                                   |                                                                                  |
| Preconditions                 | Product documentation of the fingerprint scanner model is at hand (e.g. data sheet, manual, manu<br>facturer declaration). |                                                                                  |
| CTS Mode                      | Not supported                                                                                                              |                                                                                  |
| Description                   | Step                                                                                                                       | Description / Expected Result                                                    |
|                               | 1                                                                                                                          | Description:                                                                     |
|                               |                                                                                                                            | •<br>Verify that the pre-qualification is configurable by a system administrator |
|                               |                                                                                                                            | •<br>Consult product documentation                                               |
|                               |                                                                                                                            | Expected Result:                                                                 |
|                               |                                                                                                                            | The documentation attests that the requirements are fulfilled.                   |

### **Table 2.81** Test Case ID: TC-AS-FP-SF-002

### 2.2.10 Test Cases FM AS-FP-SLP

| Test Case ID: TC-AS-FP-SLP-001 |                                                                                                      |                                                                                                               |  |
|--------------------------------|------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|--|
| Scope                          | Examination of correctness of automatic classification of left and right hand slap.                  |                                                                                                               |  |
| Preconditions                  | •<br>IUT is running, required modules are loaded.                                                    |                                                                                                               |  |
|                                | •<br>A four finger slap scanner is connected.                                                        |                                                                                                               |  |
|                                | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with.         |                                                                                                               |  |
|                                | Test case initiation via test interface (TR-03122-1, Chapter 4, "Conformance Test Interfaces").<br>• |                                                                                                               |  |
| CTS Mode                       | •<br>interactive                                                                                     |                                                                                                               |  |
|                                | •<br>no provision of pre-defined input data                                                          |                                                                                                               |  |
|                                | •<br>HTTP method: GET                                                                                |                                                                                                               |  |
|                                | •<br>test case variants:                                                                             |                                                                                                               |  |
|                                |                                                                                                      |                                                                                                               |  |
|                                | /TR03122/TC-AS-FP-SLP-001/1/                                                                         |                                                                                                               |  |
|                                | Table 2.83 TC-AS-FP-SLP-001 Test Case Variants                                                       |                                                                                                               |  |
| Description                    | Step                                                                                                 | Description / Expected Result                                                                                 |  |
|                                | 1                                                                                                    | Description:                                                                                                  |  |
|                                |                                                                                                      | •<br>Initiate test case by calling the IUT via the test interface.                                            |  |
|                                |                                                                                                      | •<br>Place left hand slap properly on the scanner.                                                            |  |
|                                |                                                                                                      | •<br>Perform a capture of the hand slap, e.g. according to PAP Task ACQ-FPS<br>SV-2: Capture Slap Supervised. |  |

### **Test Case ID: TC-AS-FP-SLP-001**

2

### *Expected Result:*

- **•** The activation of the acquisition occurs automatically.
- **•** A message is given that the required fingerprints were captured successfully.
- **•** As a result, a message conforming to TR-03121 XML containing the correct slap code is returned via the test interface (bio:FingerClassifierInfor mation within bio:FingerAcquisition).

### *Description:*

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface.
- **•** Place right hand slap properly on the scanner.
- **•** Perform a capturing of the hand slap, e.g. according to PAP Task ACQ-FPS-SV-2: Capture Slap Supervised.

*Expected Result:*

- **•** The activation of the acquisition occurs automatically.
- **•** A message is given that the required fingerprints were captured successfully.
- **•** As a result, a message conforming to TR-03121 XML containing the correct slap code is returned via the test interface (bio:FingerClassifierInfor mation within bio:FingerAcquisition).

**Table 2.82** Test Case ID: TC-AS-FP-SLP-001

| Test Case ID: TC-AS-FP-SLP-002 |                                                                                           |                                                                                                                                                                                                                                                                        |  |
|--------------------------------|-------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          |                                                                                           | Examination of the performance and configurability of the automated hand slap classification.                                                                                                                                                                          |  |
| Preconditions                  | The vendor of the algorithm provides a documentation which gives information about accura | cy of the classification algorithm.                                                                                                                                                                                                                                    |  |
| CTS Mode                       |                                                                                           | Not supported                                                                                                                                                                                                                                                          |  |
| Description                    | Step                                                                                      | Description / Expected Result                                                                                                                                                                                                                                          |  |
|                                | 1                                                                                         | Description:                                                                                                                                                                                                                                                           |  |
|                                |                                                                                           | Examination of the documentation provided by vendor classificati<br>on algorithm.                                                                                                                                                                                      |  |
|                                |                                                                                           | Expected Result:                                                                                                                                                                                                                                                       |  |
|                                |                                                                                           | •<br>The documentation gives information of the performance of the algorithm<br>based on a reference database.                                                                                                                                                         |  |
|                                |                                                                                           | The documentation gives evidence that the classification algorithm ensures<br>•<br>an accuracy of at least 99%, i.e. 99% of left and right hand slaps are correctly<br>classified.                                                                                     |  |
|                                |                                                                                           | The documentation gives evidence that the classification algorithm can be<br>•<br>calibrated for accuracy levels using configurable thresholds in case the clas<br>sification algorithm returns more than two possible results, e.g. "left", "right"<br>and "unknown". |  |

**Table 2.84** Test Case ID: TC-AS-FP-SLP-002

| Test Case ID: TC-AS-FP-SLP-003 |                                                                                                      |  |  |
|--------------------------------|------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of deactivation of automated hand slap classification.                                   |  |  |
| Preconditions                  | •<br>IUT is running, required modules are loaded.                                                    |  |  |
|                                | A four finger slap scanner is connected.<br>•                                                        |  |  |
|                                | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with.         |  |  |
|                                | •<br>Test case initiation via test interface (TR-03122-1, Chapter 4, "Conformance Test Interfaces"). |  |  |

| Test Case ID: TC-AS-FP-SLP-003 |                  |                                                                                                                                                                                                   |  |  |
|--------------------------------|------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| CTS Mode                       | •<br>interactive |                                                                                                                                                                                                   |  |  |
|                                | •                | no provision of pre-defined input data                                                                                                                                                            |  |  |
|                                | •                | HTTP method: GET                                                                                                                                                                                  |  |  |
|                                | •                | test case variants:                                                                                                                                                                               |  |  |
|                                |                  |                                                                                                                                                                                                   |  |  |
|                                |                  | /TR03122/TC-AS-FP-SLP-003/1/                                                                                                                                                                      |  |  |
|                                |                  | Table 2.86 TC-AS-FP-SLP-003 Test Case Variants                                                                                                                                                    |  |  |
| Description                    | Step             | Description / Expected Result                                                                                                                                                                     |  |  |
|                                | 1                | Description:                                                                                                                                                                                      |  |  |
|                                |                  | •<br>Activate automated hand slap classification (e.g. via software/firmware,<br>consult product documentation).                                                                                  |  |  |
|                                |                  | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                |  |  |
|                                |                  | •<br>Place hand slap properly on the scanner.                                                                                                                                                     |  |  |
|                                |                  | •<br>Perform a capture of the hand slap, e.g. according to PAP Task ACQ-FPS<br>SV-2: Capture Slap Supervised.                                                                                     |  |  |
|                                |                  | Expected Result:                                                                                                                                                                                  |  |  |
|                                |                  | The activation of the acquisition occurs automatically.<br>•                                                                                                                                      |  |  |
|                                |                  | •<br>A message is given that the required fingerprints were captured successfully.                                                                                                                |  |  |
|                                |                  | •<br>As a result, a message conforming to TR-03121 XML containing the correct<br>slap code is returned via the test interface (bio:FingerClassifierInfor<br>mation within bio:FingerAcquisition). |  |  |
|                                | 2                | Description:                                                                                                                                                                                      |  |  |
|                                |                  | •<br>Deactivate automated hand slap classification (e.g. via software/firmware,<br>consult product documentation).                                                                                |  |  |
|                                |                  | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                |  |  |
|                                |                  | •<br>Place hand slap properly on the scanner.                                                                                                                                                     |  |  |
|                                |                  | Perform a capturing of the hand slap, e.g. according to PAP Task ACQ-FPS<br>•<br>SV-2: Capture Slap Supervised.                                                                                   |  |  |
|                                |                  | Expected Result:                                                                                                                                                                                  |  |  |
|                                |                  | •<br>The activation of the acquisition occurs automatically.                                                                                                                                      |  |  |
|                                |                  | •<br>A message is given that the required fingerprints were captured successfully.                                                                                                                |  |  |
|                                |                  | •<br>As a result, a message conforming to TR-03121 XML containing no slap code<br>is returned via the test interface (bio:FingerClassifierInformation wi<br>thin bio:FingerAcquisition).          |  |  |

**Table 2.85** Test Case ID: TC-AS-FP-SLP-003

## <span id="page-47-0"></span>2.3 Test Cases Biometric Image Processing

### 2.3.1 Test Cases FM BIP-FI-APP

### **Test Case ID: TC-BIP-FI-APP-001**

*Scope* Verify correct facial image processing with respect to the output of integrated camera systems to obtain a facial image. The metrics applied for assessment are based on [\[ISO\\_FACE\]](#page-164-1) .

| Test Case ID: TC-BIP-FI-APP-001 |                                                                                                                                      |                                                                                                                                                                                                                                                                 |  |  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Preconditions                   | •                                                                                                                                    | The IUT is in operation, required modules are loaded.                                                                                                                                                                                                           |  |  |
|                                 | •<br>A database with facial images for conformance test and the CTS are at hand.                                                     |                                                                                                                                                                                                                                                                 |  |  |
|                                 | •<br>The following definitions according to [ISO_FACE] are relevant for verifying the geometric re<br>quirements:                    |                                                                                                                                                                                                                                                                 |  |  |
|                                 | •                                                                                                                                    | The intersection of the vertical line passing through the approximate horizontal midpoints<br>of the mouth and the bridge of the nose, and the horizontal line connecting the centres of the<br>two eyes, is called the centre of the face.                     |  |  |
|                                 | •                                                                                                                                    | The width of the head is defined as the distance between the two imaginary lines parallel to<br>the vertical line mentioned above. Each line is drawn between the upper and lower lobes of<br>each ear and positioned where the external ear connects the head. |  |  |
|                                 | •                                                                                                                                    | The length of the head is defined as the distance between the base of the chin and the crown<br>(i.e. the top of the head ignoring any hair) measured on the vertical line mentioned above.                                                                     |  |  |
| CTS Mode                        | •<br>interactive                                                                                                                     |                                                                                                                                                                                                                                                                 |  |  |
|                                 | image provision as JPEG or JPEG 2000 using the test interface (see BSI TR-03122-1, Chapter 4,<br>•<br>"Conformance Test Interfaces") |                                                                                                                                                                                                                                                                 |  |  |
|                                 | •<br>HTTP method: POST                                                                                                               |                                                                                                                                                                                                                                                                 |  |  |
|                                 | •<br>test case variants:                                                                                                             |                                                                                                                                                                                                                                                                 |  |  |
|                                 |                                                                                                                                      |                                                                                                                                                                                                                                                                 |  |  |
|                                 |                                                                                                                                      | /TR03122/TC-BIP-FI-APP-001/1/                                                                                                                                                                                                                                   |  |  |
|                                 |                                                                                                                                      | Table 2.88 TC-BIP-FI-APP-001 Test Case Variants                                                                                                                                                                                                                 |  |  |
| Description                     | Step                                                                                                                                 | Description / Expected Result                                                                                                                                                                                                                                   |  |  |
|                                 | 1                                                                                                                                    | Description:                                                                                                                                                                                                                                                    |  |  |
|                                 |                                                                                                                                      | Check correct processing of the output of integrated camera systems:                                                                                                                                                                                            |  |  |
|                                 |                                                                                                                                      | Initiate test case by loading the reference facial image using inter<br>•<br>face.                                                                                                                                                                              |  |  |
|                                 |                                                                                                                                      | Examine the processed image, i.e.:<br>•                                                                                                                                                                                                                         |  |  |
|                                 |                                                                                                                                      | •<br>Determine the width of the image and the head width.                                                                                                                                                                                                       |  |  |
|                                 |                                                                                                                                      | •<br>Determine the height of the image and the head length.                                                                                                                                                                                                     |  |  |
|                                 |                                                                                                                                      | •<br>Determine the X and Y coordinates of the centre of the face, assuming<br>that the origin of the coordinate system is in the upper left corner of the<br>image.                                                                                             |  |  |

### **Test Case ID: TC-BIP-FI-APP-001**

### *Expected Result:*

- **•** A message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).
- **•** The colour depth is 24 bit and the colour space sRGB. Note, for scenarios where only a facial verification is performed a colour depth of 8 bit with grey scale is also possible.
- **•** The face is fully visible in foreground.
- **•** The minimum distance between both eyes is 120 pixels.
- **•** The processed image is cropped and de-rotated.
- **•** The size of the face within processed image meets geometric requi rements of [\[ISO\\_FACE\]](#page-164-1) , chapter 8.3, i.e.:
	- **•** The X coordinate of the centre of the face is between 45 % and 55 % of the image width.
	- **•** The Y coordinate of the centre of the face is between 30 % and 50 % (for children under the age of 11 between 30 % and 60 %) of the image height.
	- **•** The head width is between 50 % and 75 % of the image width.
	- **•** The head length is between 60 % and 90 % (for children under the age of 11 between 50 % and 90 %) of the vertical length of the image.

**Table 2.87** Test Case ID: TC-BIP-FI-APP-001

### 2.3.2 Test Cases FM BIP-FI-DC-HQ

| Test Case ID: TC-BIP-FI-DC-HQ-001 |                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                    |  |
|-----------------------------------|------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                             | Verify correct facial image processing                                                                                 |                                                                                                                                                                                                                                                                                                                                                                    |  |
| Preconditions                     | •<br>IUT is running, required modules are loaded                                                                       |                                                                                                                                                                                                                                                                                                                                                                    |  |
|                                   | As necessary test resource:<br>•                                                                                       |                                                                                                                                                                                                                                                                                                                                                                    |  |
|                                   | •<br>A locally available facial image of a test person, with resolution greater than 1600*1200 pi                      | xels (in both height and width)                                                                                                                                                                                                                                                                                                                                    |  |
|                                   | •                                                                                                                      | The IUT SHALL provide an option to select the image output type for the scope of this test<br>case (generic facial image, facial image for German Standard for AFIS Transactions Version<br>3 (GSAT3) transaction). Alternatively, the IUT can provide both output types in parallel (the<br>output type, which is not needed, can then be discarded/disregarded). |  |
|                                   | •                                                                                                                      | The second test step SHALL only be performed if producing GSAT3 data is in scope of the con<br>sidered Application Profile. If this is the case, the facial image meeting the specific requirements<br>of the Application Profile must be returned in the defined XML format.                                                                                      |  |
| CTS Mode                          | •<br>automatic                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                    |  |
|                                   | •<br>Image is provided via XML file using the test interface (TR-03122-1, Chapter 4, "Conformance<br>Test Interfaces") |                                                                                                                                                                                                                                                                                                                                                                    |  |
|                                   | •<br>HTTP method: POST                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                    |  |
|                                   | •<br>test case variants:                                                                                               |                                                                                                                                                                                                                                                                                                                                                                    |  |
|                                   |                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                    |  |
|                                   |                                                                                                                        | /TR03122/TC-BIP-FI-DC-HQ-001/1                                                                                                                                                                                                                                                                                                                                     |  |
|                                   |                                                                                                                        | Table 2.90 TC-BIP-FI-DC-HQ-001 Test Case Variants                                                                                                                                                                                                                                                                                                                  |  |
| Description                       | Step                                                                                                                   | Description / Expected Result                                                                                                                                                                                                                                                                                                                                      |  |
|                                   | 1                                                                                                                      | Description:                                                                                                                                                                                                                                                                                                                                                       |  |
|                                   |                                                                                                                        | Check correct processing of generic facial images                                                                                                                                                                                                                                                                                                                  |  |
|                                   |                                                                                                                        | •<br>Initiate test case by loading the reference facial image using inter<br>face                                                                                                                                                                                                                                                                                  |  |
|                                   |                                                                                                                        | •<br>Examine the processed image                                                                                                                                                                                                                                                                                                                                   |  |

### **Test Case ID: TC-BIP-FI-DC-HQ-001**

2

*Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisitionand bio:Records)
- **•** The processed image has dimensions of exactly 1600\*1200 pixels (in regard to height and width), if it was larger before. Otherwise the dimensions of the image are unchanged
- **•** The height/width ratio of the processed image is 4:3
- **•** The minimum distance between both eyes is at least 120 pixels

### *Description:*

Check correct processing of facial images for [GSAT3](#page-163-6)

- **•** Initiate test case by loading the reference facial image using inter face
- **•** Examine the processed image

### *Expected Result:*

- **•** The resulting image data is encoded and returned via the test interface in an appropriate XML format, i.e. as [GSAT3](#page-163-6) XML embedded within a TR-03121 XML (element bio:XMLRecord[@type="GSAT-xml"]), whereby only the contained facial image data (Element itl:FaceImage) is relevant for this test case
- **•** The processed image has dimensions of exactly 800\*600 pixels, if it was lar ger before. Otherwise the dimensions of the image are unchanged (height/ width ratio is 4:3)
- **•** The minimum distance between both eyes is at least 120 pixels

**Table 2.89** Test Case ID: TC-BIP-FI-DC-HQ-001

### 2.3.3 Test Cases FM BIP-FI-FBS

| Test Case ID: TC-BIP-FI-FBS-001 |                                                                                                                                                |  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Verify correct image processing of application forms and the cropping of the facial image on the<br>application form using a flat bad scanner. |  |
| Preconditions                   | •<br>The IUT is in operation, required modules are loaded.                                                                                     |  |
|                                 | •<br>As test resource: an application form with a facial image that fulfills the requirements of "full<br>frontal" specified in [ISO_FACE].    |  |
| CTS Mode                        | •<br>interactive                                                                                                                               |  |
|                                 | •<br>Image provision as JPEG or JPEG 2000 using the test interface (see BSI TR-03122-1, Chapter 4,<br>"Conformance Test Interfaces")           |  |
|                                 | •<br>HTTP method: POST                                                                                                                         |  |
|                                 | test case variants:<br>•                                                                                                                       |  |
|                                 |                                                                                                                                                |  |
|                                 | /TR03122/TC-BIP-FI-FBS-001/1                                                                                                                   |  |
|                                 | Table 2.92 TC-BIP-FI-FBS-001 Test Case Variants                                                                                                |  |
| Description                     | Step<br>Description / Expected Result                                                                                                          |  |

| Test Case ID: TC-BIP-FI-FBS-001 |                                                                                                                                            |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| 1                               | Description:                                                                                                                               |
|                                 | Check correct processing of the output of flat bad scanner:                                                                                |
|                                 | Initiate test case by loading the reference application form using in<br>•<br>terface.                                                     |
|                                 | •<br>Examine the processed image, i.e.:                                                                                                    |
|                                 | •<br>The image crop.                                                                                                                       |
|                                 | •<br>The image width and height.                                                                                                           |
|                                 | •<br>The colour depth and colour space.                                                                                                    |
|                                 | Expected Result:                                                                                                                           |
|                                 | A message conforming to TR-03121 XML containing the encoded facial<br>•<br>image is returned via the test interface (bio:FaceAcquisition). |
|                                 | The processed image is cropped.<br>•                                                                                                       |
|                                 | •<br>The face is centered and fully visible in the foreground.                                                                             |
|                                 | •<br>The image dimension is 622 pixels width and 800 height with a to<br>lerance of +/- 10 pixels.                                         |

**•** The resulting facial image is a color image (24 bit sRGB) or a grey scale image (8 bit sRGB).

**Table 2.91** Test Case ID: TC-BIP-FI-FBS-001

### 2.3.4 Test Cases FM BIP-FI-GID

| Test Case ID: TC-BIP-FI-GID-001 |                                                                                                  |                                                                                              |  |
|---------------------------------|--------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|--|
| Scope                           |                                                                                                  | Verify correct image processing and the cropping of the facial image using a digital camera. |  |
| Preconditions                   | •<br>The IUT is in operation, required modules are loaded.                                       |                                                                                              |  |
|                                 | •                                                                                                | As test resource: a biometric test subject.                                                  |  |
| CTS Mode                        | •<br>interactive                                                                                 |                                                                                              |  |
|                                 | •<br>no provision of pre-defined input data<br>•<br>HTTP method: GET<br>test case variants:<br>• |                                                                                              |  |
|                                 |                                                                                                  |                                                                                              |  |
|                                 |                                                                                                  |                                                                                              |  |
|                                 |                                                                                                  |                                                                                              |  |
|                                 | /TR03122/TC-BIP-FI-GID-001/1                                                                     |                                                                                              |  |
|                                 |                                                                                                  | Table 2.94 TC-BIP-FI-GID-001 Test Case Variants                                              |  |
| Description                     | Step                                                                                             | Description / Expected Result                                                                |  |
|                                 | 1                                                                                                | Description:                                                                                 |  |
|                                 |                                                                                                  | Check correct processing of the output of the digital camera:                                |  |
|                                 |                                                                                                  | •<br>Position the biometric test subject properly in front of the digital camera.            |  |
|                                 |                                                                                                  | Initiate test case using the test interface.<br>•                                            |  |
|                                 |                                                                                                  | •<br>Examine the processed image, i.e.:                                                      |  |
|                                 |                                                                                                  | •<br>The image crop.                                                                         |  |
|                                 |                                                                                                  | •<br>The image width and height.                                                             |  |
|                                 |                                                                                                  | •<br>The colour depth and colour space.                                                      |  |
|                                 |                                                                                                  |                                                                                              |  |

### **Test Case ID: TC-BIP-FI-GID-001**

### *Expected Result:*

- **•** A message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).
- **•** The processed image is cropped and de-rotated.
- **•** The face is centered and fully visible in the foreground.
- **•** The image size is 1244 x 1600 pixels with an inter eye distance of at least 300 pixels.
- **•** The resulting facial image is a color image (24 bit sRGB).

**Table 2.93** Test Case ID: TC-BIP-FI-GID-001

### 2.3.5 Test Cases FM BIP-FP-APP

The acquisition of fingerprints can be performed with the help a single fingerprint sensor or multi finger print sensor. In the first case TC-BIP-FP-APP-001 has to be applied, in the second case TC-BIP-FP-APP-002. Furthermore, in the case of four finger sensors TC-BIP-FP-APP-003 has to applied additionally.

| Test Case ID: TC-BIP-FP-APP-001 |                                                                                                                                                  |                                                                                                                                                                                           |  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           |                                                                                                                                                  | Examination of segmentation in connection with single finger scanners.                                                                                                                    |  |
| Preconditions                   | •                                                                                                                                                | IUT is running, required modules are loaded.                                                                                                                                              |  |
|                                 | •                                                                                                                                                | A single fingerprint sensor is connected.                                                                                                                                                 |  |
|                                 | •                                                                                                                                                | As necessary test resources: a test person to perform the fingerprint acquisition with.                                                                                                   |  |
| CTS Mode                        | •<br>interactive                                                                                                                                 |                                                                                                                                                                                           |  |
|                                 | •<br>no provision of pre-defined input data; Test case initiation via test interface (TR-03122-1, Chap<br>ter 4, "Conformance Test Interfaces"). |                                                                                                                                                                                           |  |
|                                 | •<br>HTTP method: GET                                                                                                                            |                                                                                                                                                                                           |  |
|                                 | test case variants:<br>•                                                                                                                         |                                                                                                                                                                                           |  |
|                                 |                                                                                                                                                  | /TR03122/TC-BIP-FP-APP-001/1/                                                                                                                                                             |  |
|                                 | Table 2.96 TC-BIP-FP-APP-001 Test Case Variants                                                                                                  |                                                                                                                                                                                           |  |
|                                 |                                                                                                                                                  | The test case is repeated 10 times for every test step in order to be able to estimate the quality of the<br>segmentation process. The fingers have to be lifted after every acquisition. |  |
|                                 |                                                                                                                                                  |                                                                                                                                                                                           |  |
| Description                     | Step                                                                                                                                             | Description / Expected Result                                                                                                                                                             |  |
|                                 | 1                                                                                                                                                | Description:                                                                                                                                                                              |  |
|                                 |                                                                                                                                                  | •<br>Start of the acquisition of one fingerprint by correct placement of this finger<br>on the sensor and extraction of fingerprint image from resulting da<br>ta.                        |  |
|                                 |                                                                                                                                                  | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                        |  |
|                                 |                                                                                                                                                  | Expected Result:                                                                                                                                                                          |  |
|                                 |                                                                                                                                                  | •<br>As a result, a message conforming to TR-03121 XML containing an encoded<br>fingerprint image is returned via the test interface (element bio:FingerAc<br>quisition and bio:Records). |  |
|                                 |                                                                                                                                                  | •<br>A correct segmentation has been performed. In case of uncertainty, the test<br>SHALL be repeated. Note: segmentation for single finger scanners is optio<br>nal.                     |  |

| Test Case ID: TC-BIP-FP-APP-001 |                                                                                                                                                                                                                                                                                             |
|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2                               | Description:                                                                                                                                                                                                                                                                                |
|                                 | •<br>Start of the acquisition of one fingerprint by positioning this finger rotated<br>up to 45 degree on the sensor and extraction of the fingerprint image from<br>the resulting data.                                                                                                    |
|                                 | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                                                                                                          |
|                                 | •<br>Note: In case the IUT rejects strongly rotated fingerprints such that the cap<br>ture process does not yield a biometric sample, the capture process can be<br>initiated manually.                                                                                                     |
|                                 | Expected Result:                                                                                                                                                                                                                                                                            |
|                                 | •<br>As a result, a message conforming to TR-03121 XML containing an encoded<br>fingerprint image is returned via the test interface (element bio:FingerAc<br>quisition and bio:Records).                                                                                                   |
|                                 | •<br>The fingerprint is corrected to be vertical in the image which is manually<br>verified by the examiner.                                                                                                                                                                                |
|                                 | A correct segmentation has been performed. In case of uncertainty, the test<br>•<br>SHALL be repeated. Note: segmentation for single finger scanners is optio<br>nal.                                                                                                                       |
|                                 | No upscaling has been applied to the fingerprint image. The fingerprint<br>•<br>image may have been evenly surrounded with white pixels to reach the de<br>sired size if the targeted system or database requires fingerprint images of<br>higher size than captured the fingerprint image. |
| 3                               | Description:                                                                                                                                                                                                                                                                                |
|                                 | •<br>Start of the acquisition of one fingerprint by positioning this finger on the<br>sensor such that all phalanges are captured during acquisition and extrac<br>tion of the fingerprint image from the resulting data.                                                                   |
|                                 | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                                                                                                          |
|                                 | Expected Result:                                                                                                                                                                                                                                                                            |
|                                 | •<br>As a result, a message conforming to TR-03121 XML containing an encoded<br>fingerprint image is returned via the test interface (element bio:FingerAc<br>quisition and bio:Records).                                                                                                   |
|                                 | •<br>The image contains only the first part of the finger.                                                                                                                                                                                                                                  |
|                                 | •<br>A correct segmentation has been performed. In case of uncertainty, the test<br>SHALL be repeated. Note: segmentation for single finger scanners is optio<br>nal.                                                                                                                       |
|                                 | •<br>No upscaling has been applied to the fingerprint image. The fingerprint<br>image may have been evenly surrounded with white pixels to reach the de                                                                                                                                     |

sired size if the targeted system or database requires fingerprint images of higher size than captured the fingerprint image.

| Test Case ID: TC-BIP-FP-APP-002 |                                                                                              |  |  |
|---------------------------------|----------------------------------------------------------------------------------------------|--|--|
| Scope                           | Examination of segmentation in connection with multi finger scanners.                        |  |  |
| Preconditions                   | •<br>IUT is running, required modules are loaded.                                            |  |  |
|                                 | •<br>A multi fingerprint sensor is connected.                                                |  |  |
|                                 | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with. |  |  |

**Table 2.95** Test Case ID: TC-BIP-FP-APP-001

### **Test Case ID: TC-BIP-FP-APP-002**

- *CTS Mode* **•** interactive
	- **•** no provision of pre-defined input data; Test case initiation via test interface (TR-03122-1, Chap ter 4, "Conformance Test Interfaces").
	- **•** HTTP method: GET
	- **•** test case variants:

#### /TR03122/TC-BIP-FP-APP-002/1/

**Table 2.98** TC-BIP-FP-APP-002 Test Case Variants

The test case is repeated 10 times for every test step in order to be able to evaluate the quality of the segmentation process. The fingers have to be lifted after every acquisition.

| Description | Step | Description / Expected Result                                                                                                                                                                                                                                                                  |
|-------------|------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|             | 1    | Description:                                                                                                                                                                                                                                                                                   |
|             |      | •<br>Start of the acquisition two fingerprints by correct placement fin<br>gers on the sensor and extraction of fingerprint images from resul<br>ting data.                                                                                                                                    |
|             |      | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                                                                                                             |
|             |      | Expected Result:                                                                                                                                                                                                                                                                               |
|             |      | As a result, a message conforming to TR-03121 XML containing two<br>•<br>encoded fingerprint images is returned via the test interface (element<br>bio:FingerAcquisition and bio:Records).                                                                                                     |
|             |      | Two independent images are returned within the data.<br>•                                                                                                                                                                                                                                      |
|             |      | •<br>A correct segmentation has been performed. In case of uncertainty, the test<br>SHALL be repeated.                                                                                                                                                                                         |
|             |      | •<br>No upscaling has been applied to the fingerprint images. The fingerprint<br>images may have been evenly surrounded with white pixels to reach the de<br>sired size if the targeted system or database requires fingerprint images of<br>higher size than captured the fingerprint images. |
|             | 2    | Description:                                                                                                                                                                                                                                                                                   |
|             |      | •<br>Start of the acquisition of one fingerprint by correct placement of one finger<br>on the sensor and extraction of fingerprint image from resulting da<br>ta.                                                                                                                              |
|             |      | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                                                                                                             |
|             |      | Expected Result:                                                                                                                                                                                                                                                                               |
|             |      | •<br>As a result, a message conforming to TR-03121 XML containing one<br>encoded fingerprint image is returned via the test interface (element<br>bio:FingerAcquisition and bio:Records).                                                                                                      |
|             |      | •<br>A correct segmentation has been performed. In case of uncertainty, the test<br>SHALL be repeated.                                                                                                                                                                                         |
|             |      | No upscaling has been applied to the fingerprint image. The fingerprint<br>•<br>image may have been evenly surrounded with white pixels to reach the de<br>sired size if the targeted system or database requires fingerprint images of<br>higher size than captured the fingerprint image.    |
|             | 3    | Description:                                                                                                                                                                                                                                                                                   |
|             |      | Start of the acquisition of two fingerprints by positioning the fingers rotated<br>•<br>up to 45 degrees on the sensor (both fingers in same direction) and ex<br>traction of the fingerprint images from the resulting data.                                                                  |
|             |      | Initiate test case by calling the IUT via the test interface.<br>•                                                                                                                                                                                                                             |
|             |      |                                                                                                                                                                                                                                                                                                |

**•** Note: In case the [IUT rejects strongly rotated fingerprints such that the cap](#page-163-1) ture process does not yield a biometric sample, the capture process can be initiated manually.

### **Test Case ID: TC-BIP-FP-APP-002**

#### *Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML containing two encoded fingerprint images is returned via the test interface (element bio:FingerAcquisition and bio:Records).
- **•** Two independent images are returned within the data.
- **•** The fingerprints are corrected to be vertical in the image which is manually verified by the examiner.
- **•** A correct segmentation has been performed. In case of uncertainty, the test SHALL be repeated.
- **•** No upscaling has been applied to the fingerprint images. The fingerprint images may have been evenly surrounded with white pixels to reach the de sired size if the targeted system or database requires fingerprint images of higher size than captured the fingerprint images.
- 4

5

#### *Description:*

- **•** Start of the acquisition of one fingerprint by positioning the finger rotated up to 45 degrees on the sensor and extraction of the fingerprint image from the resulting data.
- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface.
- **•** Note: In case the [IUT rejects strongly rotated fingerprints such that the cap](#page-163-1) ture process does not yield a biometric sample, the capture process can be initiated manually.

#### *Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML containing an encoded fingerprint image is returned via the test interface (element bio:FingerAc quisition and bio:Records).
- **•** The fingerprint is corrected to be vertical in the image which is manually verified by the examiner.
- **•** A correct segmentation has been performed. In case of uncertainty, the test SHALL be repeated.
- **•** No upscaling has been applied to the fingerprint image. The fingerprint image may have been evenly surrounded with white pixels to reach the de sired size if the targeted system or database requires fingerprint images of higher size than captured the fingerprint image.

#### *Description:*

- **•** Start of the acquisition of two fingerprints by positioning two fingers on the sensor such that all phalanges are captured during acquisition and extrac tion of the fingerprint images from the resulting data.
- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface.

### *Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML containing two encoded fingerprint images is returned via the test interface (element bio:FingerAcquisition and bio:Records).
- **•** Both images contain only the first part of the finger.
- **•** A correct segmentation has been performed. In case of uncertainty, the test SHALL be repeated.
- **•** No upscaling has been applied to the fingerprint images. The fingerprint images may have been evenly surrounded with white pixels to reach the de sired size if the targeted system or database requires fingerprint images of higher size than captured the fingerprint images.

| Test Case ID: TC-BIP-FP-APP-002 |                                                                                                                                                                                                                                                                                             |  |  |
|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| 6                               | Description:                                                                                                                                                                                                                                                                                |  |  |
|                                 | Start of the acquisition of one fingerprint by positioning this finger on the<br>•<br>sensor such that all phalanges are captured during acquisition and extrac<br>tion of the fingerprint image from the resulting data.                                                                   |  |  |
|                                 | Initiate test case by calling the IUT via the test interface.<br>•                                                                                                                                                                                                                          |  |  |
|                                 | Expected Result:                                                                                                                                                                                                                                                                            |  |  |
|                                 | •<br>As a result, a message conforming to TR-03121 XML containing one<br>encoded fingerprint image is returned via the test interface (element<br>bio:FingerAcquisition and bio:Records).                                                                                                   |  |  |
|                                 | •<br>Image contains only the first part of the finger.                                                                                                                                                                                                                                      |  |  |
|                                 | •<br>A correct segmentation has been performed. In case of uncertainty, the test<br>SHALL be repeated.                                                                                                                                                                                      |  |  |
|                                 | •<br>No upscaling has been applied to the fingerprint image. The fingerprint<br>image may have been evenly surrounded with white pixels to reach the de<br>sired size if the targeted system or database requires fingerprint images of<br>higher size than captured the fingerprint image. |  |  |

### **Table 2.97** Test Case ID: TC-BIP-FP-APP-002

| Test Case ID: TC-BIP-FP-APP-003 |                                                                                                                                                                                           |                                                                                                                                                         |  |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of segmentation in connection with four finger scanners.                                                                                                                      |                                                                                                                                                         |  |
| Preconditions                   | •<br>IUT is running, required modules are loaded.                                                                                                                                         |                                                                                                                                                         |  |
|                                 | A multi fingerprint sensor is connected.<br>•                                                                                                                                             |                                                                                                                                                         |  |
|                                 | As necessary test resources: a test person to perform the fingerprint acquisition with.<br>•                                                                                              |                                                                                                                                                         |  |
| CTS Mode                        | •<br>interactive                                                                                                                                                                          |                                                                                                                                                         |  |
|                                 | •<br>no provision of pre-defined input data; Test case initiation via test interface (TR-03122-1, Chap<br>ter 4, "Conformance Test Interfaces").                                          |                                                                                                                                                         |  |
|                                 | •<br>HTTP method: GET                                                                                                                                                                     |                                                                                                                                                         |  |
|                                 | •<br>test case variants:                                                                                                                                                                  |                                                                                                                                                         |  |
|                                 |                                                                                                                                                                                           | /TR03122/TC-BIP-FP-APP-003/1/                                                                                                                           |  |
|                                 |                                                                                                                                                                                           | Table 2.100 TC-BIP-FP-APP-003 Test Case Variants                                                                                                        |  |
|                                 | The test case is repeated 10 times for every test step in order to be able to evaluate the quality of the<br>segmentation process. The fingers have to be lifted after every acquisition. |                                                                                                                                                         |  |
| Description                     | Step                                                                                                                                                                                      | Description / Expected Result                                                                                                                           |  |
|                                 | 1                                                                                                                                                                                         | Description:                                                                                                                                            |  |
|                                 |                                                                                                                                                                                           | •<br>Start of the acquisition of three fingerprints by correct placement of three<br>fingers on the sensor and extraction of fingerprint images from re |  |

sulting data.

**•** Initiate test case by calling the [IUT](#page-163-1) via the test interface.

### **Test Case ID: TC-BIP-FP-APP-003**

#### *Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML containing three encoded fingerprint images is returned via the test interface (element bio:FingerAcquisition and bio:Records).
- **•** Three independent images are returned within the data.
- **•** A correct segmentation has been performed. In case of uncertainty, the test SHALL be repeated.
- **•** No upscaling has been applied to the fingerprint images. The fingerprint images may have been evenly surrounded with white pixels to reach the de sired size if the targeted system or database requires fingerprint images of higher size than captured the fingerprint images.

2

3

- *Description:*
- **•** Start of the acquisition four fingerprints by correct placement fin gers on the sensor and extraction of fingerprint images from resul ting data.
- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface.

#### *Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML containing four encoded fingerprint images is returned via the test interface (element bio:FingerAcquisition and bio:Records).
- **•** Four independent images are returned within the data.
- **•** A correct segmentation has been performed. In case of uncertainty, the test SHALL be repeated.
- **•** No upscaling has been applied to the fingerprint images. The fingerprint images may have been evenly surrounded with white pixels to reach the de sired size if the targeted system or database requires fingerprint images of higher size than captured the fingerprint images.

### *Description:*

- **•** Start of the acquisition three fingerprints by positioning fingers rota ted up to 45 degrees on the sensor (all fingers in same direction) and ex traction of the fingerprint images from the resulting data.
- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface.
- **•** Note: In case the [IUT rejects strongly rotated fingerprints such that the cap](#page-163-1) ture process does not yield a biometric sample, the capture process can be initiated manually.

#### *Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML containing three encoded fingerprint images is returned via the test interface (element bio:FingerAcquisition and bio:Records).
- **•** Three independent images are returned within the data.
- **•** The fingerprints are corrected to be vertical in the image which is manually verified by the examiner.
- **•** A correct segmentation has been performed. In case of uncertainty, the test SHALL be repeated.
- **•** No upscaling has been applied to the fingerprint images. The fingerprint images may have been evenly surrounded with white pixels to reach the de sired size if the targeted system or database requires fingerprint images of higher size than captured the fingerprint images.

| Test Case ID: TC-BIP-FP-APP-003 |                                                                                                                                                                                                                                                                                                |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4                               | Description:                                                                                                                                                                                                                                                                                   |
|                                 | •<br>Start of the acquisition four fingerprints by positioning fingers rota<br>ted up to 45 degrees on the sensor (all fingers in same direction) and ex<br>traction of the fingerprint images from the resulting data.                                                                        |
|                                 | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                                                                                                             |
|                                 | •<br>Note: In case the IUT rejects strongly rotated fingerprints such that the cap<br>ture process does not yield a biometric sample, the capture process can be<br>initiated manually.                                                                                                        |
|                                 | Expected Result:                                                                                                                                                                                                                                                                               |
|                                 | As a result, a message conforming to TR-03121 XML containing four<br>•<br>encoded fingerprint images is returned via the test interface (element<br>bio:FingerAcquisition and bio:Records).                                                                                                    |
|                                 | Four independent images are returned within the data.<br>•                                                                                                                                                                                                                                     |
|                                 | The fingerprints are corrected to be vertical in the image which is manually<br>•<br>verified by the examiner.                                                                                                                                                                                 |
|                                 | •<br>A correct segmentation has been performed. In case of uncertainty, the test<br>SHALL be repeated.                                                                                                                                                                                         |
|                                 | •<br>No upscaling has been applied to the fingerprint images. The fingerprint<br>images may have been evenly surrounded with white pixels to reach the de<br>sired size if the targeted system or database requires fingerprint images of<br>higher size than captured the fingerprint images. |
| 5                               | Description:                                                                                                                                                                                                                                                                                   |
|                                 | •<br>Start of the acquisition of three fingerprints by positioning three fingers on<br>the sensor such that all phalanges are captured during acquisition and ex<br>traction of the fingerprint images from the resulting data.                                                                |
|                                 | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                                                                                                             |
|                                 | Expected Result:                                                                                                                                                                                                                                                                               |
|                                 | •<br>As a result, a message conforming to TR-03121 XML containing three<br>encoded fingerprint images is returned via the test interface (element<br>bio:FingerAcquisition and bio:Records).                                                                                                   |
|                                 | Three independent images are returned within the data.<br>•                                                                                                                                                                                                                                    |
|                                 | All images contain only the first part of the finger.<br>•                                                                                                                                                                                                                                     |
|                                 | •<br>A correct segmentation has been performed. In case of uncertainty, the test<br>SHALL be repeated.                                                                                                                                                                                         |
|                                 | •<br>No upscaling has been applied to the fingerprint images. The fingerprint<br>images may have been evenly surrounded with white pixels to reach the de<br>sired size if the targeted system or database requires fingerprint images of<br>higher size than captured the fingerprint images. |
| 6                               | Description:                                                                                                                                                                                                                                                                                   |
|                                 | •<br>Start of the acquisition of four fingerprints by positioning four fingers on<br>the sensor such that all phalanges are captured during acquisition and ex<br>traction of the fingerprint images from the resulting data.                                                                  |
|                                 | •<br>Initiate test case by calling the IUT via the test interface.                                                                                                                                                                                                                             |
|                                 |                                                                                                                                                                                                                                                                                                |

### **Test Case ID: TC-BIP-FP-APP-003**

### *Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML containing four encoded fingerprint images is returned via the test interface (element bio:FingerAcquisition and bio:Records).
- **•** Four independent images are returned within the data.
- **•** Each image contains only the first part of the finger.
- **•** A correct segmentation has been performed. In case of uncertainty, the test SHALL be repeated.
- **•** No upscaling has been applied to the fingerprint images. The fingerprint images may have been evenly surrounded with white pixels to reach the de sired size if the targeted system or database requires fingerprint images of higher size than captured the fingerprint images.

**Table 2.99** Test Case ID: TC-BIP-FP-APP-003

### <span id="page-59-0"></span>2.4 Test Cases Quality Assessment

### 2.4.1 Test Cases FM QA-FI-ARE

| Test Case ID: TC-QA-FI-ARE-001 |                                                                                                                                                                                                  |  |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          | Examination of the software-based quality assessment for facial images within the context of alien<br>register enrolment.                                                                        |  |
|                                | The test object consists of the quality assessment software and a fixed parameter set describing the<br>application profile specific tolerances threshold regarding several assessment criteria. |  |
| Preconditions                  | •<br>The IUT is in operation, required modules are loaded.                                                                                                                                       |  |
|                                | •<br>As necessary test resources, a Ground Truth database for conformance test and the CTS are at<br>hand.                                                                                       |  |
|                                | •<br>The database contains:                                                                                                                                                                      |  |
|                                | Compliant images and non-compliant images for all criteria to be tested. The size of an image<br>•<br>can be up to 2.1MB. The total number of images can be up to 200 images per criterion.      |  |
|                                | Acceptance conditions (error rates) for each criterion, based on the statistical significance of<br>•<br>data in the database for the corresponding criterion.                                   |  |
|                                | The IUT implements an interface for conformance testing where a single image can be provided<br>•<br>and the computed quality values and configuration data are returned.                        |  |
|                                | •<br>The IUT is able to return the results from the quality assessment for every provided image via<br>the test interface.                                                                       |  |
| CTS Mode                       | •<br>automatic                                                                                                                                                                                   |  |
|                                | •<br>Image provision as JPEG or JPEG 2000 using the test interface (see BSI TR-03122-1, Chapter 4,<br>"Conformance Test Interfaces")                                                             |  |
|                                | •<br>HTTP method: POST                                                                                                                                                                           |  |
|                                | •<br>test case variants:                                                                                                                                                                         |  |
|                                |                                                                                                                                                                                                  |  |
|                                | /TR03122/TC-QA-FI-ARE-001/1                                                                                                                                                                      |  |
|                                | Table 2.102 TC-QA-FI-ARE-001 Test Case Variants                                                                                                                                                  |  |
| Description                    | Step<br>Description / Expected Result                                                                                                                                                            |  |

### **Test Case ID: TC-QA-FI-ARE-001**

1

### *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and compliant facial images from the conformance test database are committed consecutive ly according to the respective table for quality threshold requirements of Function Module QA-FI-ARE.
- **•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

### *Expected Result:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) provides the quality values for all criteria marked with "M" in the respective table for quality threshold requirements of Function Module QA-FI-ARE.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result.
- **•** The acceptance conditions (i.e. defined tolerances, depending on the specific application at hand) are satisfied:
	- **•** tmin *¸* min, tmax *·* max
	- **•** min *·* result *·* max

2 *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and compliant facial images from the conformance test database are committed consecutive ly according to the respective table for quality threshold requirements of Function Module QA-FI-ARE.
- **•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

### **Test Case ID: TC-QA-FI-ARE-001**

### *Expected Result:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) may provide quality values for criteria marked with "O" in the re spective table for quality threshold requirements of Function Module QA-FI-ARE.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result.
- **•** The acceptance conditions (i.e. defined tolerances, depending on the specific application at hand) are satisfied:
	- **•** tmin *¸* min, tmax *·* max
	- **•** min *·* result *·* max
- 3
- *Description:*
- **•** The [IUT](#page-163-1) is called via the conformance test interface and non-compliant fa cial images from the conformance test database are committed consecutive ly according to the respective table for quality threshold requirements of Function Module QA-FI-ARE. This has to be done for all criteria that have been identified as mandatory.
- **•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

#### *Expected Result:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) provides the quality values for all criteria marked with "M" in the respective table for quality threshold requirements of Function Module QA-FI-ARE.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result
- **•** The acceptance conditions are not met, i.e. the total result of the quality evaluation is negative.

| Test Case ID: TC-QA-FI-ARE-001 |                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4                              | Description:                                                                                                                                                                                                                                                                                                                                          |
|                                | •<br>The IUT is called via the conformance test interface and non-compliant fa<br>cial images from the conformance test database are committed consecutive<br>ly according to the respective table for quality threshold requirements of<br>Function Module QA-FI-ARE. This has to be done for all criteria that have<br>been identified as optional. |
|                                | •<br>The results returned by the IUT are checked (depending on the specific app<br>lication profile at hand) if the expected quality values are available.                                                                                                                                                                                            |
|                                | Expected Result:                                                                                                                                                                                                                                                                                                                                      |
|                                | For every facial image a "bio:FaceQuality" element is returned by the IUT<br>•<br>via the test interface.                                                                                                                                                                                                                                             |
|                                | •<br>The IUT may provide quality values for criteria marked with "O" in the re<br>spective table for quality threshold requirements of Function Module QA<br>FI-ARE.                                                                                                                                                                                  |
|                                | •<br>If applicable, the quality values are correctly set:                                                                                                                                                                                                                                                                                             |
|                                | •<br>"id" (type string) – identifier for the criteria                                                                                                                                                                                                                                                                                                 |
|                                | •<br>"min" (type double) – minimum value from the range of this criteria                                                                                                                                                                                                                                                                              |
|                                | •<br>"max" (type double) – maximum value from the range of this criteria                                                                                                                                                                                                                                                                              |
|                                | •<br>"tmin" (type double) – minimum value of the allowed tolerance range of<br>this criteria                                                                                                                                                                                                                                                          |
|                                | "tmax" (type double) – maximum value of the allowed tolerance range of<br>•<br>this criteria                                                                                                                                                                                                                                                          |
|                                | "result" (type double) value of the quality evaluation result<br>•                                                                                                                                                                                                                                                                                    |

**Table 2.101** Test Case ID: TC-QA-FI-ARE-001

## 2.4.2 Test Cases FM QA-FI-BCL

| Test Case ID: TC-QA-FI-BCL-001 |                                                                                                                                                                                                  |  |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          | Examination of the software-based quality assessment for facial images within context bor<br>der control.                                                                                        |  |
|                                | The test object consists of the quality assessment software and a fixed parameter set describing the<br>application profile specific tolerances threshold regarding several assessment criteria. |  |
| Preconditions                  | •<br>The IUT is in operation, required modules are loaded.                                                                                                                                       |  |
|                                | As necessary test resources, a Ground Truth database for conformance test and the CTS are at<br>•<br>hand.                                                                                       |  |
|                                | The database contains:<br>•                                                                                                                                                                      |  |
|                                | •<br>Compliant images and non-compliant images for all criteria to be tested. The size of an image<br>can be up to 2.1MB. The total number of images can be up to 200 images per criterion.      |  |
|                                | •<br>Acceptance conditions (error rates) for each criterion, based on the statistical significance of<br>data in the database for the corresponding criterion.                                   |  |
|                                | •<br>The IUT implements an interface for conformance testing where a single image can be provided<br>and the computed quality values and configuration data are returned.                        |  |
|                                | •<br>The IUT is able to return the results from the quality assessment for every provided image via<br>the test interface.                                                                       |  |
|                                |                                                                                                                                                                                                  |  |
|                                |                                                                                                                                                                                                  |  |

### **Test Case ID: TC-QA-FI-BCL-001**

*CTS Mode* **•** automatic

- **•** Image provision as JPEG or JPEG 2000 using the test interface (see BSI TR-03122-1, Chapter 4, "Conformance Test Interfaces")
- **•** HTTP method: POST
- **•** test case variants:

*Description*

|                                                 | /TR03122/TC-QA-FI-BCL-001/1                                                                                                                                                                                                                                       |  |  |
|-------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Table 2.104 TC-QA-FI-BCL-001 Test Case Variants |                                                                                                                                                                                                                                                                   |  |  |
| Step                                            | Description / Expected Result                                                                                                                                                                                                                                     |  |  |
| 1                                               | Description:                                                                                                                                                                                                                                                      |  |  |
|                                                 | The IUT is called via the conformance test interface and compliant facial<br>•<br>images from the conformance test database are committed consecutive<br>ly according to the respective table for quality threshold requirements of<br>Function Module QA-FI-BCL. |  |  |
|                                                 | The results returned by the IUT are checked (depending on the specific app<br>•<br>lication profile at hand) if the expected quality values are available.                                                                                                        |  |  |
|                                                 | Expected Result:                                                                                                                                                                                                                                                  |  |  |
|                                                 |                                                                                                                                                                                                                                                                   |  |  |

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) provides the quality values for all criteria marked with "M" in the respective table for quality threshold requirements of Function Module QA-FI-BCL.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result.
- **•** The acceptance conditions (i.e. defined tolerances, depending on the specific application at hand) are satisfied:
	- **•** tmin *¸* min, tmax *·* max
	- **•** min *·* result *·* max

- 2 *Description:*
	- **•** The [IUT](#page-163-1) is called via the conformance test interface and compliant facial images from the conformance test database are committed consecutive ly according to the respective table for quality threshold requirements of Function Module QA-FI-BCL.
	- **•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

### **Test Case ID: TC-QA-FI-BCL-001**

#### *Expected Result:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) may provide quality values for criteria marked with "O" in the re spective table for quality threshold requirements of Function Module QA-FI-BCL.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result.
- **•** The acceptance conditions (i.e. defined tolerances, depending on the specific application at hand) are satisfied:
	- **•** tmin *¸* min, tmax *·* max
	- **•** min *·* result *·* max
- 3

### *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and non-compliant fa cial images from the conformance test database are committed consecutive ly according to the respective table for quality threshold requirements of Function Module QA-FI-BCL. This has to be done for all criteria that have been identified as mandatory.
- **•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

#### *Expected Result:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) provides the quality values for all criteria marked with "M" in the respective table for quality threshold requirements of Function Module QA-FI-BCL.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result
- **•** The acceptance conditions are not met, i.e. the total result of the quality evaluation is negative.

| Test Case ID: TC-QA-FI-BCL-001 |                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4                              | Description:                                                                                                                                                                                                                                                                                                                                          |
|                                | The IUT is called via the conformance test interface and non-compliant fa<br>•<br>cial images from the conformance test database are committed consecutive<br>ly according to the respective table for quality threshold requirements of<br>Function Module QA-FI-BCL. This has to be done for all criteria that have<br>been identified as optional. |
|                                | The results returned by the IUT are checked (depending on the specific app<br>•<br>lication profile at hand) if the expected quality values are available.                                                                                                                                                                                            |
|                                | Expected Result:                                                                                                                                                                                                                                                                                                                                      |
|                                | •<br>For every facial image a "bio:FaceQuality" element is returned by the IUT<br>via the test interface.                                                                                                                                                                                                                                             |
|                                | •<br>The IUT may provide quality values for criteria marked with "O" in the re<br>spective table for quality threshold requirements of Function Module QA<br>FI-BCL.                                                                                                                                                                                  |
|                                | •<br>If applicable, the quality values are correctly set:                                                                                                                                                                                                                                                                                             |
|                                | •<br>"id" (type string) – identifier for the criteria                                                                                                                                                                                                                                                                                                 |
|                                | •<br>"min" (type double) – minimum value from the range of this criteria                                                                                                                                                                                                                                                                              |
|                                | •<br>"max" (type double) – maximum value from the range of this criteria                                                                                                                                                                                                                                                                              |
|                                | "tmin" (type double) – minimum value of the allowed tolerance range of<br>•<br>this criteria                                                                                                                                                                                                                                                          |
|                                | "tmax" (type double) – maximum value of the allowed tolerance range of<br>•<br>this criteria                                                                                                                                                                                                                                                          |
|                                | "result" (type double) value of the quality evaluation result<br>•                                                                                                                                                                                                                                                                                    |

**Table 2.103** Test Case ID: TC-QA-FI-BCL-001

### 2.4.3 Test Cases FM QA-FI-GENERIC

| Test Case ID: TC-QA-FI-GENERIC-001 |                                                                                                                                                                           |  |
|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                              | Examination of the software-based quality assessment for facial images regarding generic qua<br>lity evaluation criteria.                                                 |  |
|                                    | Note that the examination for fixed parameters and thresholds are not part of this test case, as they<br>are specified by the volume specific Function Module.            |  |
| Preconditions                      | •<br>The IUT is in operation, required modules are loaded.                                                                                                                |  |
|                                    | •<br>As necessary test resources, a Ground Truth database for conformance test and the CTS are at<br>hand.                                                                |  |
|                                    | •<br>The database contains:                                                                                                                                               |  |
|                                    | •<br>Compliant images for all criteria to be tested. The size of an image can up 2.1MB. to<br>tal number of images can be up to 200 images per criterion.                 |  |
|                                    | •<br>Acceptance conditions (error rates) for each criterion, based on the statistical significance of<br>data in the database for the corresponding criterion.            |  |
|                                    | •<br>The IUT implements an interface for conformance testing where a single image can be provided<br>and the computed quality values and configuration data are returned. |  |
|                                    | The IUT is able to return the results from the quality assessment for every provided image via<br>•<br>the test interface.                                                |  |
|                                    |                                                                                                                                                                           |  |

### **Test Case ID: TC-QA-FI-GENERIC-001**

- *CTS Mode* **•** automatic
	- **•** Image provision as JPEG or JPEG 2000 using the test interface (see BSI TR-03122-1, Chapter 4, "Conformance Test Interfaces")
	- **•** HTTP method: POST
	- **•** test case variants:

*Description*

| /TR03122/TC-QA-FI-GENERIC-001/1                     |                                                                                                                                                                                                 |  |  |
|-----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Table 2.106 TC-QA-FI-GENERIC-001 Test Case Variants |                                                                                                                                                                                                 |  |  |
| Step                                                | Description / Expected Result                                                                                                                                                                   |  |  |
| 1                                                   | Description:                                                                                                                                                                                    |  |  |
|                                                     | •<br>The IUT is called via the conformance test interface and compliant facial<br>images from the conformance test database are committed consecutively<br>according to QA-FI-GENERIC criteria. |  |  |
|                                                     | •<br>The results returned by the IUT are checked (depending on the specific app                                                                                                                 |  |  |

### *Expected Result:*

**•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.

lication profile at hand) if the expected quality values are available.

- **•** The [IUT](#page-163-1) provides the quality values for all criteria marked with "M" in the respective Function Module.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result.
- **•** The acceptance conditions (i.e. defined tolerances, depending on the specific application at hand) are satisfied:
	- **•** tmin *¸* min, tmax *·* max
	- **•** min *·* result *·* max

2 *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and compliant facial images from the conformance test database are committed consecutively according to QA-FI-GENERIC criteria.
- **•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

### **Test Case ID: TC-QA-FI-GENERIC-001**

### *Expected Result:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) may provide quality values for criteria marked with "O" in the re spective Function Module.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result.
- **•** The acceptance conditions (i.e. defined tolerances, depending on the specific application at hand) are satisfied:
	- **•** tmin *¸* min, tmax *·* max
	- **•** min *·* result *·* max

**Table 2.105** Test Case ID: TC-QA-FI-GENERIC-001

| Test Case ID: TC-QA-FI-GENERIC-002 |                                                                                                                                                                                                  |  |
|------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                              | Examination of correctness of the Quality Assessment module for identification of the best capture.                                                                                              |  |
|                                    | The test object consists of the quality assessment software and a fixed parameter set describing the<br>application profile specific tolerances threshold regarding several assessment criteria. |  |
|                                    | Note that there exist different variants of this testcase.                                                                                                                                       |  |
| Preconditions                      | •<br>IUT is in operation, required modules are loaded                                                                                                                                            |  |
|                                    | •<br>As necessary test resources, a Ground Truth database for conformance test and the CTS are at<br>hand.                                                                                       |  |
|                                    | •<br>The database contains:                                                                                                                                                                      |  |
|                                    | Sequences of images for all criteria to be tested. The size of an image can be up to 2.1MB. The<br>•<br>total number of images can be up to 200 images per criterion.                            |  |
|                                    | Ground Truth for best capture of each image sequence according to the identifi<br>•<br>cation process defined in the respective Function Module.                                                 |  |
|                                    | •<br>The IUT implements an interface for conformance testing where a sequence of images can be<br>provided and the computed quality values and configuration data are returned.                  |  |
|                                    | •<br>The IUT is able to return the results from the quality assessment for every provided sequence of<br>images via the test interface.                                                          |  |
| CTS Mode                           | •<br>automatic                                                                                                                                                                                   |  |
|                                    | •<br>image provision as JPEG or JPEG 2000 using the test interface (see BSI TR-03122-1, Chapter 4,<br>"Conformance Test Interfaces")                                                             |  |
|                                    | •<br>HTTP method: POST                                                                                                                                                                           |  |
|                                    | •<br>test case variants:                                                                                                                                                                         |  |
|                                    |                                                                                                                                                                                                  |  |
|                                    | /TR03122/TC-QA-FI-GENERIC-002/1                                                                                                                                                                  |  |
|                                    | Table 2.108 TC-QA-FI-GENERIC-002 Test Case Variants                                                                                                                                              |  |
| Description                        | Step<br>Description / Expected Result                                                                                                                                                            |  |

| Test Case ID: TC-QA-FI-GENERIC-002 |                                                                                                                                                                           |  |  |  |
|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| 1                                  | Description:                                                                                                                                                              |  |  |  |
|                                    | •<br>All face image sequences from the conformance test database for this test<br>case are committing consecutively.                                                      |  |  |  |
|                                    | •<br>The test case is initiated by calling the IUT via the test interface.                                                                                                |  |  |  |
|                                    | Expected Result:                                                                                                                                                          |  |  |  |
|                                    | For every input sequence the final selected face image capture and quality in<br>formation (bio:FaceAcquisiton) is returned by the IUT via the test interface.            |  |  |  |
| 2                                  | Description:                                                                                                                                                              |  |  |  |
|                                    | Examination of correct identification and comparison of the IUTs selection of<br>the best capture out of multiple captures with the Ground Truth database.                |  |  |  |
|                                    | Expected Result:                                                                                                                                                          |  |  |  |
|                                    | All best captures (as specified in the Ground Truth database) are identical with<br>the actual received results of face images and corresponding quality informati<br>on. |  |  |  |

**Table 2.107** Test Case ID: TC-QA-FI-GENERIC-002

### 2.4.4 Test Cases FM QA-FI-GID

| Test Case ID: TC-QA-FI-GID-001 |                                                                                                                                                                                                  |  |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          | Examination of the software-based quality assessment for facial images within context ger<br>man identity documents.                                                                             |  |
|                                | The test object consists of the quality assessment software and a fixed parameter set describing the<br>application profile specific tolerances threshold regarding several assessment criteria. |  |
| Preconditions                  | •<br>The IUT is in operation, required modules are loaded.                                                                                                                                       |  |
|                                | As necessary test resources, a Ground Truth database for conformance test and the CTS are at<br>•<br>hand.                                                                                       |  |
|                                | The database contains:<br>•                                                                                                                                                                      |  |
|                                | •<br>Compliant images and non-compliant images for all criteria to be tested. The size of an image<br>can be up to 2.1MB. The total number of images can be up to 200 images per criterion.      |  |
|                                | •<br>Acceptance conditions (error rates) for each criterion, based on the statistical significance of<br>data in the database for the corresponding criterion.                                   |  |
|                                | •<br>The IUT implements an interface for conformance testing where a single image can be provided<br>and the computed quality values and configuration data are returned.                        |  |
|                                | •<br>The IUT is able to return the results from the quality assessment for every provided image via<br>the test interface.                                                                       |  |
| CTS Mode                       | •<br>automatic                                                                                                                                                                                   |  |
|                                | •<br>Image provision as JPEG or JPEG 2000 using the test interface (see BSI TR-03122-1, Chapter 4,<br>"Conformance Test Interfaces")                                                             |  |
|                                | •<br>HTTP method: POST                                                                                                                                                                           |  |
|                                | test case variants:<br>•                                                                                                                                                                         |  |
|                                | /TR03122/TC-QA-FI-GID-001/1                                                                                                                                                                      |  |
|                                | Table 2.110 TC-QA-FI-GID-001 Test Case Variants                                                                                                                                                  |  |
| Description                    | Step<br>Description / Expected Result                                                                                                                                                            |  |

| Test Case ID: TC-QA-FI-GID-001 |                                                                                                                                                                                                                                                                   |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1                              | Description:                                                                                                                                                                                                                                                      |
|                                | The IUT is called via the conformance test interface and compliant facial<br>•<br>images from the conformance test database are committed consecutive<br>ly according to the respective table for quality threshold requirements of<br>Function Module QA-FI-GID. |
|                                | The results returned by the IUT are checked (depending on the specific app<br>•<br>lication profile at hand) if the expected quality values are available.                                                                                                        |
|                                | Expected Result:                                                                                                                                                                                                                                                  |
|                                | •<br>For every facial image a "bio:FaceQuality" element is returned by the IUT<br>via the test interface.                                                                                                                                                         |
|                                | •<br>The IUT provides the quality values for all criteria marked with "M" in the<br>respective table for quality threshold requirements of Function Module QA<br>FI-GID.                                                                                          |
|                                | •<br>If applicable, the quality values are correctly set:                                                                                                                                                                                                         |
|                                | •<br>"id" (type string) – identifier for the criteria                                                                                                                                                                                                             |
|                                | •<br>"min" (type double) – minimum value from the range of this criteria                                                                                                                                                                                          |
|                                | "max" (type double) – maximum value from the range of this criteria<br>•                                                                                                                                                                                          |
|                                | "tmin" (type double) – minimum value of the allowed tolerance range of<br>•<br>this criteria                                                                                                                                                                      |
|                                | "tmax" (type double) – maximum value of the allowed tolerance range of<br>•<br>this criteria                                                                                                                                                                      |
|                                | •<br>"result" (type double) value of the quality evaluation result.                                                                                                                                                                                               |
|                                | •<br>The acceptance conditions (i.e. defined tolerances, depending on the specific<br>application at hand) are satisfied:                                                                                                                                         |
|                                | •<br>tmin ¸ min, tmax · max                                                                                                                                                                                                                                       |
|                                | •<br>min · result · max                                                                                                                                                                                                                                           |
| 2                              | Description:                                                                                                                                                                                                                                                      |
|                                | The IUT is called via the conformance test interface and compliant facial<br>•<br>images from the conformance test database are committed consecutive                                                                                                             |

Function Module QA-FI-GID.

**•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

ly according to the respective table for quality threshold requirements of

### **Test Case ID: TC-QA-FI-GID-001**

#### *Expected Result:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) may provide quality values for criteria marked with "O" in the re spective table for quality threshold requirements of Function Module QA-FI-GID.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result.
- **•** The acceptance conditions (i.e. defined tolerances, depending on the specific application at hand) are satisfied:
	- **•** tmin *¸* min, tmax *·* max
	- **•** min *·* result *·* max

#### 3

- **•** The [IUT](#page-163-1) is called via the conformance test interface and non-compliant fa cial images from the conformance test database are committed consecutive ly according to the respective table for quality threshold requirements of Function Module QA-FI-GID. This has to be done for all criteria that have been identified as mandatory.
- **•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

#### *Expected Result:*

*Description:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) provides the quality values for all criteria marked with "M" in the respective table for quality threshold requirements of Function Module QA-FI-GID.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result
- **•** The acceptance conditions are not met, i.e. the total result of the quality evaluation is negative.

| Test Case ID: TC-QA-FI-GID-001 |                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4                              | Description:                                                                                                                                                                                                                                                                                                                                          |
|                                | •<br>The IUT is called via the conformance test interface and non-compliant fa<br>cial images from the conformance test database are committed consecutive<br>ly according to the respective table for quality threshold requirements of<br>Function Module QA-FI-GID. This has to be done for all criteria that have<br>been identified as optional. |
|                                | •<br>The results returned by the IUT are checked (depending on the specific app<br>lication profile at hand) if the expected quality values are available.                                                                                                                                                                                            |
|                                | Expected Result:                                                                                                                                                                                                                                                                                                                                      |
|                                | For every facial image a "bio:FaceQuality" element is returned by the IUT<br>•<br>via the test interface.                                                                                                                                                                                                                                             |
|                                | The IUT may provide quality values for criteria marked with "O" in the re<br>•<br>spective table for quality threshold requirements of Function Module QA<br>FI-GID.                                                                                                                                                                                  |
|                                | If applicable, the quality values are correctly set:<br>•                                                                                                                                                                                                                                                                                             |
|                                | •<br>"id" (type string) – identifier for the criteria                                                                                                                                                                                                                                                                                                 |
|                                | •<br>"min" (type double) – minimum value from the range of this criteria                                                                                                                                                                                                                                                                              |
|                                | •<br>"max" (type double) – maximum value from the range of this criteria                                                                                                                                                                                                                                                                              |
|                                | •<br>"tmin" (type double) – minimum value of the allowed tolerance range of<br>this criteria                                                                                                                                                                                                                                                          |
|                                | •<br>"tmax" (type double) – maximum value of the allowed tolerance range of<br>this criteria                                                                                                                                                                                                                                                          |
|                                | "result" (type double) value of the quality evaluation result<br>•                                                                                                                                                                                                                                                                                    |

**Table 2.109** Test Case ID: TC-QA-FI-GID-001

### 2.4.5 Test Cases FM QA-FI-IMA

| Test Case ID: TC-QA-FI-IMA-001 |                                                                                                                                                                                                  |  |  |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of the software-based quality assessment for facial images within context im<br>migration authorities.                                                                               |  |  |
|                                | The test object consists of the quality assessment software and a fixed parameter set describing the<br>application profile specific tolerances threshold regarding several assessment criteria. |  |  |
| Preconditions                  | •<br>The IUT is in operation, required modules are loaded.                                                                                                                                       |  |  |
|                                | •<br>As necessary test resources, a Ground Truth database for conformance test and the CTS are at<br>hand.                                                                                       |  |  |
|                                | •<br>The database contains:                                                                                                                                                                      |  |  |
|                                | •<br>Compliant images and non-compliant images for all criteria to be tested. The size of an image<br>can be up to 2.1MB. The total number of images can be up to 200 images per criterion.      |  |  |
|                                | •<br>acceptance conditions (error rates) for each criterion, based on the statistical significance of<br>data in the database for the corresponding criterion.                                   |  |  |
|                                | •<br>The IUT implements an interface for conformance testing where a single image can be provided<br>and the computed quality values and configuration data are returned.                        |  |  |
|                                | The IUT is able to return the results from the quality assessment for every provided image via<br>•<br>the test interface.                                                                       |  |  |
|                                |                                                                                                                                                                                                  |  |  |

### **Test Case ID: TC-QA-FI-IMA-001**

*CTS Mode* **•** automatic

- **•** image provision as JPEG or JPEG 2000 using the test interface (see BSI TR-03122-1, Chapter 4, "Conformance Test Interfaces")
- **•** HTTP method: POST
- **•** test case variants:

*Description*

|                                                 | /TR03122/TC-QA-FI-IMA-001/1                                                                                                                                                                                                                                       |  |  |
|-------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Table 2.112 TC-QA-FI-IMA-001 Test Case Variants |                                                                                                                                                                                                                                                                   |  |  |
| Step                                            | Description / Expected Result                                                                                                                                                                                                                                     |  |  |
| 1                                               | Description:                                                                                                                                                                                                                                                      |  |  |
|                                                 | •<br>The IUT is called via the conformance test interface and compliant facial<br>images from the conformance test database are committed consecutive<br>ly according to the respective table for quality threshold requirements of<br>Function Module QA-FI-IMA. |  |  |
|                                                 | •<br>The results returned by the IUT are checked (depending on the specific app<br>lication profile at hand) if the expected quality values are available.                                                                                                        |  |  |
|                                                 | Expected Result:                                                                                                                                                                                                                                                  |  |  |
|                                                 | •<br>For every facial image a "bio:FaceQuality" element is returned by the IUT<br>via the test interface.                                                                                                                                                         |  |  |
|                                                 | •<br>The IUT provides the quality values for all criteria marked with "M" in the                                                                                                                                                                                  |  |  |

- respective table for quality threshold requirements of Function Module QA-FI-IMA.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result.
- **•** The acceptance conditions (i.e. defined tolerances, depending on the specific application at hand) are satisfied:
	- **•** tmin *¸* min, tmax *·* max
	- **•** min *·* result *·* max

- 2 *Description:*
	- **•** The [IUT](#page-163-1) is called via the conformance test interface and compliant facial images from the conformance test database are committed consecutive ly according to the respective table for quality threshold requirements of Function Module QA-FI-IMA.
	- **•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

### **Test Case ID: TC-QA-FI-IMA-001**

### *Expected Result:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) may provide quality values for criteria marked with "O" in the re spective table for quality threshold requirements of Function Module QA-FI-IMA.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result.
- **•** The acceptance conditions (i.e. defined tolerances, depending on the specific application at hand) are satisfied:
	- **•** tmin *¸* min, tmax *·* max
	- **•** min *·* result *·* max

#### 3

- **•** The [IUT](#page-163-1) is called via the conformance test interface and non-compliant fa cial images from the conformance test database are committed consecutive ly according to the respective table for quality threshold requirements of Function Module QA-FI-IMA. This has to be done for all criteria that have been identified as mandatory.
- **•** The results returned by the [IUT are checked \(depending on the specific app](#page-163-1) lication profile at hand) if the expected quality values are available.

#### *Expected Result:*

*Description:*

- **•** For every facial image a "bio:FaceQuality" element is returned by the [IUT](#page-163-1) via the test interface.
- **•** The [IUT](#page-163-1) provides the quality values for all criteria marked with "M" in the respective table for quality threshold requirements of Function Module QA-FI-IMA.
- **•** If applicable, the quality values are correctly set:
	- **•** "id" (type string) identifier for the criteria
	- **•** "min" (type double) minimum value from the range of this criteria
	- **•** "max" (type double) maximum value from the range of this criteria
	- **•** "tmin" (type double) minimum value of the allowed tolerance range of this criteria
	- **•** "tmax" (type double) maximum value of the allowed tolerance range of this criteria
	- **•** "result" (type double) value of the quality evaluation result
- **•** The acceptance conditions are not met, i.e. the total result of the quality evaluation is negative.

| Test Case ID: TC-QA-FI-IMA-001             |                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4                                          | Description:                                                                                                                                                                                                                                                                                                                                          |
|                                            | •<br>The IUT is called via the conformance test interface and non-compliant fa<br>cial images from the conformance test database are committed consecutive<br>ly according to the respective table for quality threshold requirements of<br>Function Module QA-FI-IMA. This has to be done for all criteria that have<br>been identified as optional. |
|                                            | •<br>The results returned by the IUT are checked (depending on the specific app<br>lication profile at hand) if the expected quality values are available.                                                                                                                                                                                            |
|                                            | Expected Result:                                                                                                                                                                                                                                                                                                                                      |
|                                            | For every facial image a "bio:FaceQuality" element is returned by the IUT<br>•<br>via the test interface.                                                                                                                                                                                                                                             |
|                                            | The IUT may provide quality values for criteria marked with "O" in the re<br>•<br>spective table for quality threshold requirements of Function Module QA<br>FI-IMA.                                                                                                                                                                                  |
|                                            | If applicable, the quality values are correctly set:<br>•                                                                                                                                                                                                                                                                                             |
|                                            | •<br>"id" (type string) – identifier for the criteria                                                                                                                                                                                                                                                                                                 |
|                                            | •<br>"min" (type double) – minimum value from the range of this criteria                                                                                                                                                                                                                                                                              |
|                                            | •<br>"max" (type double) – maximum value from the range of this criteria                                                                                                                                                                                                                                                                              |
|                                            | •<br>"tmin" (type double) – minimum value of the allowed tolerance range of<br>this criteria                                                                                                                                                                                                                                                          |
|                                            | •<br>"tmax" (type double) – maximum value of the allowed tolerance range of<br>this criteria                                                                                                                                                                                                                                                          |
|                                            | "result" (type double) value of the quality evaluation result<br>•                                                                                                                                                                                                                                                                                    |
| Table 2.111 Test Case ID: TC-QA-FI-IMA-001 |                                                                                                                                                                                                                                                                                                                                                       |

### 2.4.6 Test Cases FM QA-FP-APP

| Test Case ID: TC-QA-FP-APP-001 |                                                                                                                                                                                                                                                        |                                                                                                                                      |  |  |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of correctness of the Quality Assessment module for fingerprint acquisition sequence<br>4-4-2.                                                                                                                                             |                                                                                                                                      |  |  |
| Preconditions                  | •<br>IUT is running, a Ground Truth database for conformance test and the CTS are at hand.                                                                                                                                                             |                                                                                                                                      |  |  |
|                                | •<br>The test database contains:                                                                                                                                                                                                                       |                                                                                                                                      |  |  |
|                                | •<br>Sequences of fingerprint images including corresponding finger codes.                                                                                                                                                                             |                                                                                                                                      |  |  |
|                                | Corresponding Ground Truth values.<br>•                                                                                                                                                                                                                |                                                                                                                                      |  |  |
| CTS Mode                       | automatic<br>•                                                                                                                                                                                                                                         |                                                                                                                                      |  |  |
|                                | •<br>Image provision as Windows Bitmap Version 3 (BMP) using the test interface (BSI TR-03122-1,<br>Chapter 4, "Conformance Test Interfaces"), whereby multiple segmented single fingerprint<br>images are provided (encoded in biocts-testsetup XML). |                                                                                                                                      |  |  |
|                                | •<br>HTTP method: POST                                                                                                                                                                                                                                 |                                                                                                                                      |  |  |
|                                | •<br>test case variants:                                                                                                                                                                                                                               |                                                                                                                                      |  |  |
|                                |                                                                                                                                                                                                                                                        | /TR03122/TC-QA-FP-APP-001/1                                                                                                          |  |  |
|                                |                                                                                                                                                                                                                                                        | Table 2.114 TC-QA-FP-APP-001 Test Case Variants                                                                                      |  |  |
| Description                    | Step                                                                                                                                                                                                                                                   | Description / Expected Result                                                                                                        |  |  |
|                                | 1                                                                                                                                                                                                                                                      | Description:                                                                                                                         |  |  |
|                                |                                                                                                                                                                                                                                                        | Start of the module by committing consecutively all fingerprints sequences for<br>this test case from the conformance test database. |  |  |
|                                |                                                                                                                                                                                                                                                        | Initiate test case by calling the IUT via the test interface.                                                                        |  |  |

### **Test Case ID: TC-QA-FP-APP-001**

### *Expected Result:*

For every input sequence an XML element is returned, containing the final selected sets of fingerprints (bio:Records) and the corresponding capture and quality information (bio:FingerAcquisiton).

### *Description:*

Examination of correct identification and comparison of the [IUTs](#page-163-1) selection of the best capture out of multiple captures with the Ground Truth database.

### *Expected Result:*

All expected finger codes and best sets of captures (as specified in the Ground Truth database) are identical with the actual received results of finger codes and returned fingerprint sequences and corresponding quality information.

### **Table 2.113** Test Case ID: TC-QA-FP-APP-001

2

| Test Case ID: TC-QA-FP-APP-002 |                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                |  |  |
|--------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of correctness of the Quality Assessment module for fingerprint acquisition sequence<br>4-1-4-1.                                                                                                                                       |                                                                                                                                                                                                                                                |  |  |
| Preconditions                  | •<br>IUT is running, a Ground Truth database for conformance test and the CTS are at hand.                                                                                                                                                         |                                                                                                                                                                                                                                                |  |  |
|                                | The test database contains:<br>•                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                |  |  |
|                                | Sequences of fingerprint images including corresponding finger codes.<br>•                                                                                                                                                                         |                                                                                                                                                                                                                                                |  |  |
|                                | •<br>Corresponding Ground Truth values.                                                                                                                                                                                                            |                                                                                                                                                                                                                                                |  |  |
| CTS Mode                       | •<br>automatic                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                |  |  |
|                                | •<br>Image provision as Windows Bitmap Version 3 (BMP) using the test interface (TR-03122-1,<br>Chapter 4, "Conformance Test Interfaces"), whereby multiple segmented single fingerprint<br>images are provided (encoded in biocts-testsetup XML). |                                                                                                                                                                                                                                                |  |  |
|                                | •<br>HTTP method: POST                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                |  |  |
|                                | •<br>test case variants:                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                |  |  |
|                                |                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                |  |  |
|                                |                                                                                                                                                                                                                                                    | /TR03122/TC-QA-FP-APP-002/1                                                                                                                                                                                                                    |  |  |
|                                |                                                                                                                                                                                                                                                    | Table 2.116 TC-QA-FP-APP-002 Test Case Variants                                                                                                                                                                                                |  |  |
| Description                    | Step                                                                                                                                                                                                                                               | Description / Expected Result                                                                                                                                                                                                                  |  |  |
|                                | 1                                                                                                                                                                                                                                                  | Description:                                                                                                                                                                                                                                   |  |  |
|                                |                                                                                                                                                                                                                                                    | Start of the module by committing consecutively all fingerprints sequences for<br>this test case from the conformance test database.                                                                                                           |  |  |
|                                |                                                                                                                                                                                                                                                    | Initiate test case by calling the IUT via the test interface.                                                                                                                                                                                  |  |  |
|                                |                                                                                                                                                                                                                                                    | Expected Result:                                                                                                                                                                                                                               |  |  |
|                                |                                                                                                                                                                                                                                                    | For every input sequence an XML element is returned, containing the final<br>selected sets of fingerprints (bio:Records) and the corresponding capture and<br>quality information (bio:FingerAcquisiton).                                      |  |  |
|                                | 2                                                                                                                                                                                                                                                  | Description:                                                                                                                                                                                                                                   |  |  |
|                                |                                                                                                                                                                                                                                                    | Examination of correct identification and comparison of the IUTs selection of<br>the best capture out of multiple captures with the Ground Truth database.                                                                                     |  |  |
|                                |                                                                                                                                                                                                                                                    | Expected Result:                                                                                                                                                                                                                               |  |  |
|                                |                                                                                                                                                                                                                                                    | All expected finger codes and best sets of captures (as specified in the Ground<br>Truth database) are identical with the actual received results of finger codes<br>and returned fingerprint sequences and corresponding quality information. |  |  |

**Table 2.115** Test Case ID: TC-QA-FP-APP-002

| Test Case ID: TC-QA-FP-APP-003 |                |                                                                                                                                             |  |  |  |  |
|--------------------------------|----------------|---------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|
| Scope                          |                | Examination of correctness of NFIQ2 algorithm implementation.                                                                               |  |  |  |  |
| Preconditions                  | •              | IUT is running, a Ground Truth database for conformance test and the CTS are at hand                                                        |  |  |  |  |
|                                | •              | The test database contains:                                                                                                                 |  |  |  |  |
|                                | •              | Fingerprint images including corresponding finger codes.                                                                                    |  |  |  |  |
|                                | •              | Fingerprint images with 500 ppi and 1000 ppi (only if IUT captures fingerprints in 1000 ppi).                                               |  |  |  |  |
|                                | •              | Corresponding NFIQ2 [NFIQ2] quality values as Ground Truth.                                                                                 |  |  |  |  |
|                                | •              | For every provided image, the results from the quality assessment are returned by the IUT.                                                  |  |  |  |  |
| CTS Mode                       | •<br>automatic |                                                                                                                                             |  |  |  |  |
|                                | •              | Image provision as Windows Bitmap Version 3 (BMP) using the test interface (TR-03122-1,<br>Chapter 4, "Conformance Test Interfaces").       |  |  |  |  |
|                                | •              | HTTP method: POST                                                                                                                           |  |  |  |  |
|                                | •              | test case variants:                                                                                                                         |  |  |  |  |
|                                |                |                                                                                                                                             |  |  |  |  |
|                                |                | /TR03122/TC-QA-FP-APP-003/1                                                                                                                 |  |  |  |  |
|                                |                | Table 2.118 TC-QA-FP-APP-003 Test Case Variants                                                                                             |  |  |  |  |
| Description                    | Step           | Description / Expected Result                                                                                                               |  |  |  |  |
|                                | 1              | Description:                                                                                                                                |  |  |  |  |
|                                |                | The fingerprint images are consecutively passed to the IUT. If necessary, they<br>are resampled for quality evaluation.                     |  |  |  |  |
|                                |                | Initiate test case by calling the IUT via the test interface.                                                                               |  |  |  |  |
|                                |                | Expected Result:                                                                                                                            |  |  |  |  |
|                                |                | •<br>In case the fingerprint image has a resolution of 500 ppi, no resampling is<br>performed.                                              |  |  |  |  |
|                                |                | In case the fingerprint image has a resolution of 1000 ppi, is res<br>•<br>ampled to 500 ppi.                                               |  |  |  |  |
|                                | 2              | Description:                                                                                                                                |  |  |  |  |
|                                |                | The quality evaluation is consecutively performed for each fingerprint image<br>and compared to the Ground Truth values.                    |  |  |  |  |
|                                |                | Expected Result:                                                                                                                            |  |  |  |  |
|                                |                | •<br>For each passed fingerprint image a result containing a "bio:FingerQua<br>lity" element is returned by the IUT via the test interface. |  |  |  |  |
|                                |                | •<br>The quality value returned by the IUT for the current fingerprint image<br>equals the corresponding Ground Truth value.                |  |  |  |  |
|                                |                | Note: Minor deviations of the quality value from Ground Truth may on<br>ly be acceptable after a case specific analyse of the reasoning.    |  |  |  |  |
|                                | 3              | Description:                                                                                                                                |  |  |  |  |
|                                |                | Data expected to yield an error code (in BMP format) during quality assessment<br>is used as input for the IUT.                             |  |  |  |  |
|                                |                | Initiate test case by calling the IUT via the test interface                                                                                |  |  |  |  |
|                                |                | Expected Result:                                                                                                                            |  |  |  |  |
|                                |                | •<br>For such a passed data a result containing a "bio:FingerQuality" element<br>is returned by the IUT via the test interface.             |  |  |  |  |
|                                |                | •<br>The decimal error code 255 is returned therein, indicating an error during<br>quality computation.                                     |  |  |  |  |

**Table 2.117** Test Case ID: TC-QA-FP-APP-003

| Test Case ID: TC-QA-FP-APP-004 |                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                |  |
|--------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          | finger slap.                                                                                                                                                                                                                                       | Examination of correctness of the Quality Assessment module for fingerprint acquisition of a 4-                                                                                                                                                |  |
| Preconditions                  | •                                                                                                                                                                                                                                                  | IUT is running, a Ground Truth database for conformance test and the CTS are at hand.                                                                                                                                                          |  |
|                                | The test database contains:<br>•                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                |  |
|                                | •                                                                                                                                                                                                                                                  | Sequences of fingerprint images including corresponding finger codes.                                                                                                                                                                          |  |
|                                | •                                                                                                                                                                                                                                                  | Corresponding Ground Truth values.                                                                                                                                                                                                             |  |
| CTS Mode                       | •<br>automatic                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                |  |
|                                | •<br>Image provision as Windows Bitmap Version 3 (BMP) using the test interface (TR-03122-1,<br>Chapter 4, "Conformance Test Interfaces"), whereby multiple segmented single fingerprint<br>images are provided (encoded in biocts-testsetup XML). |                                                                                                                                                                                                                                                |  |
|                                | •<br>HTTP method: POST                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                |  |
|                                | •<br>test case variants:                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                |  |
|                                |                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                |  |
|                                |                                                                                                                                                                                                                                                    | /TR03122/TC-QA-FP-APP-004/1                                                                                                                                                                                                                    |  |
|                                |                                                                                                                                                                                                                                                    | Table 2.120 TC-QA-FP-APP-004 Test Case Variants                                                                                                                                                                                                |  |
| Description                    | Step                                                                                                                                                                                                                                               | Description / Expected Result                                                                                                                                                                                                                  |  |
|                                | 1                                                                                                                                                                                                                                                  | Description:                                                                                                                                                                                                                                   |  |
|                                |                                                                                                                                                                                                                                                    | Start of the module by committing consecutively all fingerprints for this test<br>case from the conformance test database.                                                                                                                     |  |
|                                |                                                                                                                                                                                                                                                    | Initiate test case by calling the IUT via the test interface.                                                                                                                                                                                  |  |
|                                |                                                                                                                                                                                                                                                    | Expected Result:                                                                                                                                                                                                                               |  |
|                                |                                                                                                                                                                                                                                                    | For every input sequence an XML element is returned, containing the final<br>selected sets of fingerprints (bio:Records) and the corresponding capture and<br>quality information (bio:FingerAcquisiton).                                      |  |
|                                | 2                                                                                                                                                                                                                                                  | Description:                                                                                                                                                                                                                                   |  |
|                                |                                                                                                                                                                                                                                                    | Examination of correct identification and comparison of the IUTs selection of<br>the best capture out of multiple captures with the Ground Truth database.                                                                                     |  |
|                                |                                                                                                                                                                                                                                                    | Expected Result:                                                                                                                                                                                                                               |  |
|                                |                                                                                                                                                                                                                                                    | All expected finger codes and best sets of captures (as specified in the Ground<br>Truth database) are identical with the actual received results of finger codes<br>and returned fingerprint sequences and corresponding quality information. |  |

### **Table 2.119** Test Case ID: TC-QA-FP-APP-004

### <span id="page-77-0"></span>2.5 Test Cases Presentation Attack Detection

### 2.5.1 Test Cases FM PAD-FI-APP and APP1

Note, test cases 001 and 002 are interchangeable alternatives to each other.

| Test Case ID: TC-PAD-FI-APP-001 |                                                                                                                                                                      |                                                                                                      |  |
|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of the Common Criteria certification of the Presentation Attack Detection (PAD) sub<br>system.                                                           |                                                                                                      |  |
| Preconditions                   | Product documentation and Common Criteria Agreement certificate of the facial image camera<br>system is at hand (e.g. data sheet, manual, manufacturer declaration). |                                                                                                      |  |
| CTS Mode                        | Not supported                                                                                                                                                        |                                                                                                      |  |
| Description                     | Step                                                                                                                                                                 | Description / Expected Result                                                                        |  |
|                                 | 1                                                                                                                                                                    | Description:                                                                                         |  |
|                                 |                                                                                                                                                                      | Consult product documentation and verify that the subsystem certification<br>meets the requirements. |  |

### **Test Case ID: TC-PAD-FI-APP-001**

#### *Expected Result:*

The documentation attest that the system is certified under the Common Criteria Agreement according the following Protection Profile: BSI-CC-PP-0118-2022: Common Criteria Protection Profile - Biometric Mechanis ms Protection Profile (BMPP, Version 2.0, base PP and at least the functional package PAD)

#### **Table 2.121** Test Case ID: TC-PAD-FI-APP-001

| Test Case ID: TC-PAD-FI-APP-002 |   |                                                                                                                                                                                                                                                                                                                                                                                         |  |  |
|---------------------------------|---|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                           |   | Examination of availability and correctness of PAD functionality in the context of the acquisition<br>of facial images with and without Presentation Attack Instrument (PAI) in use.                                                                                                                                                                                                    |  |  |
| Preconditions                   | • | The IUT is in operation, required modules are loaded.                                                                                                                                                                                                                                                                                                                                   |  |  |
|                                 | • | The camera system used in the specific application scenario is connected.                                                                                                                                                                                                                                                                                                               |  |  |
|                                 | • | The IUT implements an interface for conformance testing where a single image can be captured.                                                                                                                                                                                                                                                                                           |  |  |
|                                 | • | The PAD functionality of the IUT is activated for performing the test case.                                                                                                                                                                                                                                                                                                             |  |  |
|                                 |   | •<br>The IUT is able to return the results for every captured image via the test interface.                                                                                                                                                                                                                                                                                             |  |  |
|                                 | • | The IUT is able to return the results for the conducted PAD.                                                                                                                                                                                                                                                                                                                            |  |  |
|                                 |   | •<br>Four different artefacts of each of the eight artefact classes SHALL be created, so that a total of 32<br>artefacts are obtained. These artefacts SHOULD be usually constructed before testing begins. For<br>every testrun new artefacts SHOULD be constructed. The following artefacts (partial and full)<br>can be used during test cases:                                      |  |  |
| •<br>•                          |   | 1.<br>Masks created from casted silicon, big (size of a face) and small (smaller than a normal face),<br>in different thicknesses: 3-D presentation                                                                                                                                                                                                                                     |  |  |
|                                 |   | 2.<br>Masks created from latex in different thicknesses and styles: 3-D presentation                                                                                                                                                                                                                                                                                                    |  |  |
|                                 |   | 3.<br>Masks printed on paper in different thicknesses and styles: 3-D presentation, the photo<br>graph of the biometric subject is printed on paper but presented in a 3-D manner (used as a<br>mask)                                                                                                                                                                                   |  |  |
|                                 |   | 4.<br>Masks printed with 3D-printer in different thicknesses and styles: 3-D presentation                                                                                                                                                                                                                                                                                               |  |  |
|                                 |   | 5.<br>Photographs displayed on electronic devices, e.g. phones, tablets, etc.: 2-D presentation                                                                                                                                                                                                                                                                                         |  |  |
|                                 |   | 6.<br>Videos displayed on electronic devices, e.g. phones, tablets, etc.: 2-D presentation                                                                                                                                                                                                                                                                                              |  |  |
|                                 |   | 7.<br>Faces printed on paper with different thicknesses and structures of paper and different<br>structures of printing (colouring, etc.): 2-D presentation, a photograph the biometric sub<br>ject is presented to the system as a flat paper copy.                                                                                                                                    |  |  |
|                                 |   | 8.<br>Faces printed on fabrics with different thicknesses and structures of the fabrics and different<br>methods of printing (flock print, silk screening, etc.): 2-D or 3-D presentation, a photograph<br>of the biometric subject is presented to system on fabrics (e.g. a t-shirt). A 3-D presen<br>tation can materialise if pieces of clothing are used by the biometric subject. |  |  |
|                                 |   | In each step slight alterations in the presentation are allowed (e.g. covering of integrated lights,<br>wearing additional accessories like glasses.)                                                                                                                                                                                                                                   |  |  |
|                                 |   | For the selection of electronic devices for the artefact classes 5 and 6, the following requirements<br>shall apply:                                                                                                                                                                                                                                                                    |  |  |
|                                 |   | •<br>At least three different devices from three different manufacturers are used.                                                                                                                                                                                                                                                                                                      |  |  |
|                                 |   | •<br>No device is older than five years (calculated from the date of release in Germany).                                                                                                                                                                                                                                                                                               |  |  |
|                                 |   | •<br>At least one smartphone and one tablet is used.                                                                                                                                                                                                                                                                                                                                    |  |  |
|                                 | • | At least three different biometric subjects SHALL present bona fide faces during the test case.                                                                                                                                                                                                                                                                                         |  |  |
|                                 | • | In teststeps 2-6, if the IUT (repeatable) does not accept a presentation and delivers the result "no<br>face found" (or alike), the presentation is counted as "detected".                                                                                                                                                                                                              |  |  |

### **Test Case ID: TC-PAD-FI-APP-002**

- *CTS Mode* **•** interactive
	- **•** no provision of pre-defined input data
	- **•** HTTP method: GET
	- **•** test case variants:

/TR03122/TC-PAD-FI-APP-002/1/

**Table 2.123** TC-PAD-FI-APP-002 Test Case Variants

1

2

### **Step Description / Expected Result**

### *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and a compliant face presentation is performed.
- **•** At least three biometric subjects perform a compliant face presentation (bo na fide) in the [IUT](#page-163-1)'[s capture area. The bona fide face of each biometric sub](#page-163-1) ject SHALL be tested 20 times (meaning 60 compliant bona fide presentati ons overall).

### *Expected Result:*

- **•** A compliant facial image is acquired.
- **•** All acceptance conditions for the facial image acquisition are satisfied and achieved.
- **•** No [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application.
- **•** The [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a bona fide face presentation.
- **•** A message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).

#### *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and a face presentation is performed.
- **•** At least two biometric subjects present each mask made from different ma terials including paper, silicon, printed 3D and latex, either by wearing the mask or by using a special construction in the [IUT](#page-163-1)'s capture area. Each arte fact SHALL be tested ten times.

#### *Expected Result:*

- **•** A facial image is acquired.
- **•** A [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application.
- **•** The [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a presentation attack.
- **•** A message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).

*Description*

### **Test Case ID: TC-PAD-FI-APP-002**

3

4

#### *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and a face presentation is performed.
- **•** At least two biometric subjects present photographs displayed on electro nic devices (e.g. phones etc.) where different methods of displaying might be used, either by holding the display into the camera or by using a special construction in the [IUT](#page-163-1)'s capture area. Each artefact SHALL be tested ten times.

### *Expected Result:*

- **•** A facial image is acquired.
- **•** A [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application.
- **•** The [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a presentation attack.
- **•** A message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).

### *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and a face presentation is performed.
- **•** At least two biometric subjects present videos displayed on electronic de vices, especially showing motion of a biometric subject, either by holding the display into the camera or by using a special construction in the [IUT](#page-163-1)'s capture area. Each artefact SHALL be tested ten times.

### *Expected Result:*

- **•** A facial image is acquired.
- **•** A [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application.
- **•** The [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a presentation attack.
- **•** A message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).
- 5

#### *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and a face presentation is performed.
- **•** At least two biometric subjects present photographs printed on paper (parts of the face or complete with holes in paper) different thicknes ses, either by holding the picture into the camera, by wrapping it around the face or by using a special construction in the [IUT](#page-163-1)'s capture area. Each arte fact SHALL be tested ten times.

### *Expected Result:*

- **•** A facial image is acquired.
- **•** A [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application.
- **•** The [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a presentation attack.
- **•** A message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).

| Test Case ID: TC-PAD-FI-APP-002 |   |                                                                                                                                                                                                                                                                                                                    |
|---------------------------------|---|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                 | 6 | Description:                                                                                                                                                                                                                                                                                                       |
|                                 |   | •<br>The IUT is called via the conformance test interface and a face presentation<br>is performed.                                                                                                                                                                                                                 |
|                                 |   | •<br>At least two biometric subjects present photographs printed on fabrics, e.g.<br>t-shirt, with different thicknesses and structures of the fabrics, either by<br>holding the picture into the camera or by using a special construction in the<br>IUT's capture area. Each artefact SHALL be tested ten times. |
|                                 |   | Expected Result:                                                                                                                                                                                                                                                                                                   |
|                                 |   | A facial image is acquired.<br>•                                                                                                                                                                                                                                                                                   |
|                                 |   | A PAD alarm is shown to the operator.<br>•                                                                                                                                                                                                                                                                         |
|                                 |   | •<br>The IUT's PAD returns its detection results in the form of a normalized PAD<br>score in the range [0,1] where 0 indicates bona fide and 1 presentation attack<br>to the calling application.                                                                                                                  |
|                                 |   | •<br>The PAD score returned by the IUT indicates a presentation attack.                                                                                                                                                                                                                                            |
|                                 |   | •<br>A message conforming to TR-03121 XML containing the encoded facial<br>image is returned via the test interface (bio:FaceAcquisition).                                                                                                                                                                         |
| Evaluation                      | • | An artefact is considered as detected, if the device shows a PAD alarm in six out of ten attempts.                                                                                                                                                                                                                 |
|                                 | • | A device failed the total test, if a single artefact class never triggered a PAD alarm.                                                                                                                                                                                                                            |
|                                 | • | A device failed the total test, if nine or more artefacts in total were not detected as stated above.                                                                                                                                                                                                              |
|                                 | • | A device failed the total test, if more than three of the bona fide facial images are not recognized<br>as bona fide. Failures of detection from the other test steps do not count for this requirement.<br>Note that during certification a more relaxed false-alarm-rate is tested than specified within the     |

respective Function Module. The requirement of the rate specified in the respective Function

**Table 2.122** Test Case ID: TC-PAD-FI-APP-002

### 2.5.2 Test Cases FM PAD-FP-APP and APP1

Note, test cases 001 and 002 are interchangeable alternatives to each other.

Module is tested on operational collected data only.

| Test Case ID: TC-PAD-FP-APP-001 |                                                                                                                                                                     |                                                                                                                                                                                    |  |
|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examination of the Common Criteria certification of the PAD subsystem.                                                                                              |                                                                                                                                                                                    |  |
| Preconditions                   | Product documentation and Common Criteria Agreement certificate of the fingerprint scanner<br>model is at hand (e.g. data sheet, manual, manufacturer declaration). |                                                                                                                                                                                    |  |
| CTS Mode                        | Not supported                                                                                                                                                       |                                                                                                                                                                                    |  |
| Description                     | Step                                                                                                                                                                | Description / Expected Result                                                                                                                                                      |  |
|                                 | 1                                                                                                                                                                   | Description:                                                                                                                                                                       |  |
|                                 |                                                                                                                                                                     | Consult product documentation and verify that the subsystem certification<br>meets the requirements.                                                                               |  |
|                                 |                                                                                                                                                                     | Expected Result:                                                                                                                                                                   |  |
|                                 |                                                                                                                                                                     | The documentation attest that the system is certified under Common Cri<br>teria Agreement according to one of the following Protection Profiles:                                   |  |
|                                 |                                                                                                                                                                     | BSI-CC-PP-0063-2010: Fingerprint Spoof Detection Protection Profile (FSD<br>•<br>PP).                                                                                              |  |
|                                 |                                                                                                                                                                     | •<br>BSI-CC-PP-0062-2010: Fingerprint Spoof Detection Protection Profile based<br>on Organisational Security Policies (FSDPP_OSP).                                                 |  |
|                                 |                                                                                                                                                                     | •<br>BSI-CC-PP-0118-2022: Common Criteria Protection Profile - Biometric Me<br>chanisms Protection Profile (BMPP, Version 2.0, base PP and at least the<br>functional package PAD) |  |

**Table 2.124** Test Case ID: TC-PAD-FP-APP-001

Note, if test case 002 is performed during stand alone testing of [PAD](#page-163-7) functionality of finger print scanners, the usage of the CTS is OPTIONAL. When not using the CTS the results [\(PAD](#page-163-7) score, binary [PAD](#page-163-7) result, configured thresholds and NIFQ2 score for each acquired finger) are allowed to be provided in other ways than the defined bio:FingerAcquisition XML.

| Test Case ID: TC-PAD-FP-APP-002 |                                                                                                                                                                                                                                                                                                                                      |  |  |  |  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|
| Scope                           | Examination of availability and correctness of PAD functionality and finger codes in the context of<br>the acquisition of fingerprint images with and without PAI in use.                                                                                                                                                            |  |  |  |  |
| Preconditions                   | •<br>The IUT is in operation, required modules are loaded.                                                                                                                                                                                                                                                                           |  |  |  |  |
|                                 | The scanner used in the specific application scenario is connected.<br>•                                                                                                                                                                                                                                                             |  |  |  |  |
|                                 | The IUT implements an interface for conformance testing where fingerprints can be captured.<br>•                                                                                                                                                                                                                                     |  |  |  |  |
|                                 | •<br>The PAD functionality of the IUT is activated for performing the test case.                                                                                                                                                                                                                                                     |  |  |  |  |
|                                 | •<br>The IUT is able to return the results for every captured finger via the test interface.                                                                                                                                                                                                                                         |  |  |  |  |
|                                 | •<br>The IUT is able to return the results for the conducted PAD.                                                                                                                                                                                                                                                                    |  |  |  |  |
|                                 | •<br>Three different artefacts of each of the seven artefact classes SHALL be created, so that a total of<br>21 artefacts are obtained. The following artefacts classes (fingertips in different thicknesses and/<br>or massive fingers) SHALL be used during test cases:                                                            |  |  |  |  |
|                                 | 1.<br>Artefacts created from different kinds of silicon, in different colouring                                                                                                                                                                                                                                                      |  |  |  |  |
|                                 | 2.<br>Artefacts created from different kinds of latex, in different colouring                                                                                                                                                                                                                                                        |  |  |  |  |
|                                 | 3.<br>Artefacts created from different kinds of gelatine, in different colouring                                                                                                                                                                                                                                                     |  |  |  |  |
|                                 | 4.<br>Artefacts created from different kinds of wood glue, in different colouring                                                                                                                                                                                                                                                    |  |  |  |  |
|                                 | 5.<br>Artefacts created from different kinds of window painting, in different colouring                                                                                                                                                                                                                                              |  |  |  |  |
|                                 | 6.<br>Artefacts created from different kinds of paper, in different colouring                                                                                                                                                                                                                                                        |  |  |  |  |
|                                 | 7.<br>Artefacts created from different kinds of latex with window painting (using the following<br>ratios: 2:1, 1:1, 1:2), in different colouring                                                                                                                                                                                    |  |  |  |  |
|                                 | •<br>The materials of the different artefact classes SHALL NOT be mixed. Different kinds each ar<br>tefact class MAY be created adding glycerol (0.5 ml per gramm of artefact material maxi<br>mum) and/or graphite (5 knife-point per gramm of artefact class material maximum). For each<br>testrun, new artefacts MAY be created. |  |  |  |  |
|                                 | •<br>Artefacts SHALL provide a NFIQ-2.2-score of at least 30 (or an equivalent score with other NFIQ<br>versions).                                                                                                                                                                                                                   |  |  |  |  |
|                                 | •<br>At least three different biometric subjects (with generally good fingerprints) SHALL present bo<br>na fide fingerprints during the test case.                                                                                                                                                                                   |  |  |  |  |
| CTS Mode                        | interactive<br>•                                                                                                                                                                                                                                                                                                                     |  |  |  |  |
|                                 | no provision of pre-defined input data<br>•                                                                                                                                                                                                                                                                                          |  |  |  |  |
|                                 | •<br>HTTP method: GET                                                                                                                                                                                                                                                                                                                |  |  |  |  |
|                                 | •<br>test case variants:                                                                                                                                                                                                                                                                                                             |  |  |  |  |
|                                 | /TR03122/TC-PAD-FP-APP-002/1/                                                                                                                                                                                                                                                                                                        |  |  |  |  |
|                                 | Table 2.126 TC-PAD-FP-APP-002 Test Case Variants                                                                                                                                                                                                                                                                                     |  |  |  |  |
| Description                     | Step<br>Description / Expected Result                                                                                                                                                                                                                                                                                                |  |  |  |  |
|                                 | 1<br>Description:                                                                                                                                                                                                                                                                                                                    |  |  |  |  |
|                                 | The IUT is called via the conformance test interface and a compliant finger<br>•<br>print presentation is performed.                                                                                                                                                                                                                 |  |  |  |  |
|                                 | •<br>At least three biometric subjects perform a compliant fingerprint presenta<br>tion (bona fide). The bona fide fingerprint of each biometric subject SHALL<br>be tested 20 times (meaning 60 compliant bona fide presentations overall).                                                                                         |  |  |  |  |

### **Test Case ID: TC-PAD-FP-APP-002**

#### *Expected Result:*

- **•** A compliant fingerprint image is acquired.
- **•** All acceptance conditions for the fingerprint image acquisition are satisfied and achieved.
- **•** No [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application. Also, an overall [PAD](#page-163-7) score (boolean) is returned.
- **•** The individual [PAD](#page-163-7) scores returned by the [IUT indicate a bona fide finger](#page-163-1) print presentation.
- **•** The overall [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates no [PAD](#page-163-7) alarms.
- **•** A message conforming to TR-03121 XML containing the encoded finger print image is returned via the test interface (bio:FingerAcquisition).

#### 2

- *Description:*
- **•** The [IUT](#page-163-1) is called via the conformance test interface and a fingerprint pre sentation attack is performed, using the artefacts created from silicon. Each artefact SHALL be tested ten times.
- **•** To test whether the fingers for which there is a positive [PAD](#page-163-7) result are also assigned to the correct finger codes, proceed as follows:
	- **•** The artefact SHOULD be present for at least three different fingers of at least one hand.
	- **•** Exactly one finger of exactly hand SHOULD be equipped with the ar tefact per fingerprint acquisition.
	- **•** In order to ensure that not always the same finger is equipped with an artefact for each fingerprint acquisition, a rotation principle should be in place that specifies the equipment of a finger with an artefact chan ges or rolls in each pass.

*Expected Result:*

- **•** Fingerprint images are acquired.
- **•** A [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application. Also, an overall [PAD](#page-163-7) score (boolean) is returned.
- **•** The individual [PAD](#page-163-7) scores returned by the [IUT indicate a presentation at](#page-163-1) tack for fingers with artefacts and bona fide for fingers without artefacts.
- **•** The overall [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a [PAD](#page-163-7) alarm.
- **•** Every finger originating from an artefact is correctly assigned to its corre sponding finger code. (Abstract example: If there is a hand with four bona fide fingers and one finger originating from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the corresponding finger. Concrete example: If there is a hand with only the index finger coming from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the index finger.)
- **•** A message conforming to TR-03121 XML containing the encoded finger print images is returned via the test interface (bio:FingerAcquisition).

| Test Case ID: TC-PAD-FP-APP-002 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 3                               | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                 | •<br>The IUT is called via the conformance test interface and a fingerprint pre<br>sentation attack is performed, using the artefacts created from latex. Each<br>artefact SHALL be tested ten times.                                                                                                                                                                                                                                                                                                                      |
|                                 | •<br>To test whether the fingers for which there is a positive PAD result are also<br>assigned to the correct finger codes, proceed as follows:                                                                                                                                                                                                                                                                                                                                                                            |
|                                 | •<br>The artefact SHOULD be present for at least three different fingers of at<br>least one hand.                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                                 | •<br>Exactly one finger of exactly hand SHOULD be equipped with the ar<br>tefact per fingerprint acquisition.                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                 | •<br>In order to ensure that not always the same finger is equipped with an<br>artefact for each fingerprint acquisition, a rotation principle should be in<br>place that specifies the equipment of a finger with an artefact chan<br>ges or rolls in each pass.                                                                                                                                                                                                                                                          |
|                                 | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                 | Fingerprint images are acquired.<br>•                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                 | A PAD alarm is shown to the operator.<br>•                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                 | •<br>The IUT's PAD returns its detection results in the form of a normalized PAD<br>score in the range [0,1] where 0 indicates bona fide and 1 presentation attack<br>to the calling application. Also, an overall PAD score (boolean) is returned.                                                                                                                                                                                                                                                                        |
|                                 | •<br>The individual PAD scores returned by the IUT indicate a presentation at<br>tack for fingers with artefacts and bona fide for fingers without artefacts.                                                                                                                                                                                                                                                                                                                                                              |
|                                 | •<br>The overall PAD score returned by the IUT indicates a PAD alarm.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                 | •<br>Every finger originating from an artefact is correctly assigned to its corre<br>sponding finger code. (Abstract example: If there is a hand with four bona<br>fide fingers and one finger originating from an artefact, then the PAD score<br>stating it is a presentation attack is assigned to the corresponding finger.<br>Concrete example: If there is a hand with only the index finger coming from<br>an artefact, then the PAD score stating it is a presentation attack is assigned<br>to the index finger.) |
|                                 | •<br>A message conforming to TR-03121 XML containing the encoded finger<br>print images is returned via the test interface (bio:FingerAcquisition).                                                                                                                                                                                                                                                                                                                                                                        |
| 4                               | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                 | •<br>The IUT is called via the conformance test interface and a fingerprint pre<br>sentation attack is performed, using the artefacts created from gelatine.<br>Each artefact SHALL be tested ten times.                                                                                                                                                                                                                                                                                                                   |
|                                 | •<br>To test whether the fingers for which there is a positive PAD result are also<br>assigned to the correct finger codes, proceed as follows:                                                                                                                                                                                                                                                                                                                                                                            |
|                                 | •<br>The artefact SHOULD be present for at least three different fingers of at<br>least one hand.                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                                 | Exactly one finger of exactly hand SHOULD be equipped with the ar<br>•<br>tefact per fingerprint acquisition.                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                 | In order to ensure that not always the same finger is equipped with an<br>•                                                                                                                                                                                                                                                                                                                                                                                                                                                |

artefact for each fingerprint acquisition, a rotation principle should be in place that specifies the equipment of a finger with an artefact chan ges or rolls in each pass.

### **Test Case ID: TC-PAD-FP-APP-002**

### *Expected Result:*

- **•** Fingerprint images are acquired.
- **•** A [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application. Also, an overall [PAD](#page-163-7) score (boolean) is returned.
- **•** The individual [PAD](#page-163-7) scores returned by the [IUT indicate a presentation at](#page-163-1) tack for fingers with artefacts and bona fide for fingers without artefacts.
- **•** The overall [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a [PAD](#page-163-7) alarm.
- **•** Every finger originating from an artefact is correctly assigned to its corre sponding finger code. (Abstract example: If there is a hand with four bona fide fingers and one finger originating from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the corresponding finger. Concrete example: If there is a hand with only the index finger coming from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the index finger.)
- **•** A message conforming to TR-03121 XML containing the encoded finger print images is returned via the test interface (bio:FingerAcquisition).

### *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and a fingerprint pre sentation attack is performed, using the artefacts created from wood glue. Each artefact SHALL be tested ten times.
- **•** To test whether the fingers for which there is a positive [PAD](#page-163-7) result are also assigned to the correct finger codes, proceed as follows:
	- **•** The artefact SHOULD be present for at least three different fingers of at least one hand.
	- **•** Exactly one finger of exactly hand SHOULD be equipped with the ar tefact per fingerprint acquisition.
	- **•** In order to ensure that not always the same finger is equipped with an artefact for each fingerprint acquisition, a rotation principle should be in place that specifies the equipment of a finger with an artefact chan ges or rolls in each pass.

### *Expected Result:*

- **•** Fingerprint images are acquired.
- **•** A [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application. Also, an overall [PAD](#page-163-7) score (boolean) is returned.
- **•** The individual [PAD](#page-163-7) scores returned by the [IUT indicate a presentation at](#page-163-1) tack for fingers with artefacts and bona fide for fingers without artefacts.
- **•** The overall [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a [PAD](#page-163-7) alarm.
- **•** Every finger originating from an artefact is correctly assigned to its corre sponding finger code. (Abstract example: If there is a hand with four bona fide fingers and one finger originating from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the corresponding finger. Concrete example: If there is a hand with only the index finger coming from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the index finger.)
- **•** A message conforming to TR-03121 XML containing the encoded finger print images is returned via the test interface (bio:FingerAcquisition).

5

| Test Case ID: TC-PAD-FP-APP-002 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 6                               | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                 | •<br>The IUT is called via the conformance test interface and a fingerprint pre<br>sentation attack is performed, using the artefacts created from window<br>painting. Each artefact SHALL be tested ten times.                                                                                                                                                                                                                                                                                                            |
|                                 | •<br>To test whether the fingers for which there is a positive PAD result are also<br>assigned to the correct finger codes, proceed as follows:                                                                                                                                                                                                                                                                                                                                                                            |
|                                 | The artefact SHOULD be present for at least three different fingers of at<br>•<br>least one hand.                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                                 | Exactly one finger of exactly hand SHOULD be equipped with the ar<br>•<br>tefact per fingerprint acquisition.                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                 | •<br>In order to ensure that not always the same finger is equipped with an<br>artefact for each fingerprint acquisition, a rotation principle should be in<br>place that specifies the equipment of a finger with an artefact chan<br>ges or rolls in each pass.                                                                                                                                                                                                                                                          |
|                                 | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                 | •<br>Fingerprint images are acquired.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                 | •<br>A PAD alarm is shown to the operator.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                 | •<br>The IUT's PAD returns its detection results in the form of a normalized PAD<br>score in the range [0,1] where 0 indicates bona fide and 1 presentation attack<br>to the calling application. Also, an overall PAD score (boolean) is returned.                                                                                                                                                                                                                                                                        |
|                                 | •<br>The individual PAD scores returned by the IUT indicate a presentation at<br>tack for fingers with artefacts and bona fide for fingers without artefacts.                                                                                                                                                                                                                                                                                                                                                              |
|                                 | •<br>The overall PAD score returned by the IUT indicates a PAD alarm.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                 | Every finger originating from an artefact is correctly assigned to its corre<br>•<br>sponding finger code. (Abstract example: If there is a hand with four bona<br>fide fingers and one finger originating from an artefact, then the PAD score<br>stating it is a presentation attack is assigned to the corresponding finger.<br>Concrete example: If there is a hand with only the index finger coming from<br>an artefact, then the PAD score stating it is a presentation attack is assigned<br>to the index finger.) |
|                                 | •<br>A message conforming to TR-03121 XML containing the encoded finger<br>print images is returned via the test interface (bio:FingerAcquisition).                                                                                                                                                                                                                                                                                                                                                                        |
| 7                               | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                 | The IUT is called via the conformance test interface and a fingerprint pre<br>•<br>sentation attack is performed, using the artefacts created from paper. Each<br>artefact SHALL be tested ten times.                                                                                                                                                                                                                                                                                                                      |
|                                 | To test whether the fingers for which there is a positive PAD result are also<br>•<br>assigned to the correct finger codes, proceed as follows:                                                                                                                                                                                                                                                                                                                                                                            |
|                                 | •<br>The artefact SHOULD be present for at least three different fingers of at<br>least one hand.                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                                 | •<br>Exactly one finger of exactly hand SHOULD be equipped with the ar<br>tefact per fingerprint acquisition.                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

**•** In order to ensure that not always the same finger is equipped with an artefact for each fingerprint acquisition, a rotation principle should be in place that specifies the equipment of a finger with an artefact chan ges or rolls in each pass.

### **Test Case ID: TC-PAD-FP-APP-002**

### *Expected Result:*

- **•** Fingerprint images are acquired.
- **•** A [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application. Also, an overall [PAD](#page-163-7) score (boolean) is returned.
- **•** The individual [PAD](#page-163-7) scores returned by the [IUT indicate a presentation at](#page-163-1) tack for fingers with artefacts and bona fide for fingers without artefacts.
- **•** The overall [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a [PAD](#page-163-7) alarm.
- **•** Every finger originating from an artefact is correctly assigned to its corre sponding finger code. (Abstract example: If there is a hand with four bona fide fingers and one finger originating from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the corresponding finger. Concrete example: If there is a hand with only the index finger coming from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the index finger.)
- **•** A message conforming to TR-03121 XML containing the encoded finger print images is returned via the test interface (bio:FingerAcquisition).

### *Description:*

- **•** The [IUT](#page-163-1) is called via the conformance test interface and a fingerprint pre sentation attack is performed, using the artefacts created from latex with window painting. Each artefact SHALL be tested ten times.
- **•** To test whether the fingers for which there is a positive [PAD](#page-163-7) result are also assigned to the correct finger codes, proceed as follows:
	- **•** The artefact SHOULD be present for at least three different fingers of at least one hand.
	- **•** Exactly one finger of exactly hand SHOULD be equipped with the ar tefact per fingerprint acquisition.
	- **•** In order to ensure that not always the same finger is equipped with an artefact for each fingerprint acquisition, a rotation principle should be in place that specifies the equipment of a finger with an artefact chan ges or rolls in each pass.

### *Expected Result:*

- **•** Fingerprint images are acquired.
- **•** A [PAD](#page-163-7) alarm is shown to the operator.
- **•** The [IUT](#page-163-1)'s [PAD](#page-163-7) returns its detection results in the form of a normalized PAD score in the range [0,1] where 0 indicates bona fide and 1 presentation attack to the calling application. Also, an overall [PAD](#page-163-7) score (boolean) is returned.
- **•** The individual [PAD](#page-163-7) scores returned by the [IUT indicate a presentation at](#page-163-1) tack for fingers with artefacts and bona fide for fingers without artefacts.
- **•** The overall [PAD](#page-163-7) score returned by the [IUT](#page-163-1) indicates a [PAD](#page-163-7) alarm.
- **•** Every finger originating from an artefact is correctly assigned to its corre sponding finger code. (Abstract example: If there is a hand with four bona fide fingers and one finger originating from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the corresponding finger. Concrete example: If there is a hand with only the index finger coming from an artefact, then the [PAD](#page-163-7) score stating it is a presentation attack is assigned to the index finger.)
- **•** A message conforming to TR-03121 XML containing the encoded finger print images is returned via the test interface (bio:FingerAcquisition).

8

| Test Case ID: TC-PAD-FP-APP-002 |                                                                                                                                                                                                               |  |
|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Evaluation                      | •<br>An artefact is considered as detected, if the device shows a PAD alarm in six out of ten attempts.                                                                                                       |  |
|                                 | •<br>A device failed the total test, if a single artefact class never triggered a PAD alarm.                                                                                                                  |  |
|                                 | •<br>A device failed the total test, if four or more artefacts in total were not detected as stated above.                                                                                                    |  |
|                                 | A device failed the total test, if within test step 1 more than three of the bona fide fingerprints<br>•<br>are not recognized as bona fide. Failures of detection from the other test steps do not count for |  |

this requirement. Note that during certification a more relaxed false-alarm-rate is tested than

spective Function Module is tested on operational collected data only. **Table 2.125** Test Case ID: TC-PAD-FP-APP-002

specified within the respective Function Module. The requirement of rate in re

## <span id="page-88-0"></span>2.6 Test Cases Compression

### 2.6.1 Test Cases FM COM-FI-BCL

| Test Case ID: TC-COM-FI-BCL-001             |                                                                                                                                                                                                                |                                                                                                                                                      |  |  |
|---------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                       | Examine the correctness of compression live images used within context border con<br>trol.                                                                                                                     |                                                                                                                                                      |  |  |
| Preconditions                               | •                                                                                                                                                                                                              | IUT is running, required modules are loaded.                                                                                                         |  |  |
|                                             | •<br>As necessary test resources: a test database containing multiple compressed and uncompressed<br>(including losslessly compressed) facial images. The provided formats are BMP, PNG, JPEG and<br>JPEG2000. |                                                                                                                                                      |  |  |
|                                             | •<br>Provision of the according biometric container including the image data.                                                                                                                                  |                                                                                                                                                      |  |  |
| CTS Mode                                    | •<br>automatic                                                                                                                                                                                                 |                                                                                                                                                      |  |  |
|                                             | •<br>Image provision using the test interface (see BSI TR-03122-1, Chapter 4, "Conformance Test In<br>terfaces")                                                                                               |                                                                                                                                                      |  |  |
|                                             | •<br>HTTP method: POST                                                                                                                                                                                         |                                                                                                                                                      |  |  |
|                                             | test case variants:<br>•                                                                                                                                                                                       |                                                                                                                                                      |  |  |
|                                             |                                                                                                                                                                                                                |                                                                                                                                                      |  |  |
|                                             |                                                                                                                                                                                                                | /TR03122/TC-COM-FI-BCL-001/1                                                                                                                         |  |  |
|                                             | Table 2.128 TC-COM-FI-BCL-001 Test Case Variants                                                                                                                                                               |                                                                                                                                                      |  |  |
| Description                                 | Step                                                                                                                                                                                                           | Description / Expected Result                                                                                                                        |  |  |
|                                             | 1                                                                                                                                                                                                              | Description:                                                                                                                                         |  |  |
|                                             |                                                                                                                                                                                                                | 1. Extraction of the compressed facial image file from the biometric container.                                                                      |  |  |
|                                             |                                                                                                                                                                                                                | Expected Result:                                                                                                                                     |  |  |
|                                             |                                                                                                                                                                                                                | The resulting image is compressed using JPEG2000 (according to ISO/IEC<br>•<br>15444-1) or JPEG (according to ISO/IEC 10918-1) compression standard. |  |  |
|                                             |                                                                                                                                                                                                                | The actual file size of the compressed image is below 375 kB.<br>•                                                                                   |  |  |
|                                             |                                                                                                                                                                                                                | •<br>The compression level is below 1:20.                                                                                                            |  |  |
| Table 2.127 Test Case ID: TC-COM-FI-BCL-001 |                                                                                                                                                                                                                |                                                                                                                                                      |  |  |

### 2.6.2 Test Cases FM COM-FI-IMA

### **Test Case ID: TC-COM-FI-IMA-001**

*Scope* Examine the correctness of the compression of live images used within the context of immigration authorities.

| Test Case ID: TC-COM-FI-IMA-001 |                                                                                                                  |                                                                                                                                                                                                                                                                           |  |  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Preconditions                   | •                                                                                                                |                                                                                                                                                                                                                                                                           |  |  |
|                                 | •                                                                                                                | IUT is running, required modules are loaded.<br>As necessary test resources: a test database containing multiple compressed and uncompressed                                                                                                                              |  |  |
|                                 |                                                                                                                  | (including losslessly compressed) facial images.                                                                                                                                                                                                                          |  |  |
|                                 | •                                                                                                                | Provision of the according biometric container including the image data.                                                                                                                                                                                                  |  |  |
| CTS Mode                        | automatic<br>•                                                                                                   |                                                                                                                                                                                                                                                                           |  |  |
|                                 | Image provision using the test interface (see BSI TR-03122-1, Chapter 4, "Conformance Test In<br>•<br>terfaces") |                                                                                                                                                                                                                                                                           |  |  |
|                                 | •                                                                                                                | HTTP method: POST                                                                                                                                                                                                                                                         |  |  |
|                                 | •                                                                                                                | test case variants:                                                                                                                                                                                                                                                       |  |  |
|                                 |                                                                                                                  |                                                                                                                                                                                                                                                                           |  |  |
|                                 |                                                                                                                  | /TR03122/TC-COM-FI-IMA-001/1                                                                                                                                                                                                                                              |  |  |
|                                 |                                                                                                                  | Table 2.130 TC-COM-FI-IMA-001 Test Case Variants                                                                                                                                                                                                                          |  |  |
| Description                     | Step                                                                                                             | Description / Expected Result                                                                                                                                                                                                                                             |  |  |
|                                 | 1                                                                                                                | Description:                                                                                                                                                                                                                                                              |  |  |
|                                 |                                                                                                                  | Check file size and file compression.                                                                                                                                                                                                                                     |  |  |
|                                 |                                                                                                                  | Initiate test via CTS.<br>•                                                                                                                                                                                                                                               |  |  |
|                                 |                                                                                                                  | •<br>Verify integrity of compressed file by decoding with a standard JPEG view<br>er/decoder                                                                                                                                                                              |  |  |
|                                 |                                                                                                                  | Expected Result:                                                                                                                                                                                                                                                          |  |  |
|                                 |                                                                                                                  | •<br>The resulting image is compressed using JPEG2000 (according to ISO/IEC<br>15444-1) or JPEG (according to ISO/IEC 10918-1) compression standard.                                                                                                                      |  |  |
|                                 |                                                                                                                  | •<br>The actual file size of the compressed image is below 375 kB.                                                                                                                                                                                                        |  |  |
|                                 |                                                                                                                  | •<br>The compression level is below 1:20.                                                                                                                                                                                                                                 |  |  |
|                                 | 2                                                                                                                | Description:                                                                                                                                                                                                                                                              |  |  |
|                                 |                                                                                                                  | Check rejection of already compressed face images and initiate test case by loa<br>ding a compressed reference facial image using the test interface, given stan<br>dard sized images as input.                                                                           |  |  |
|                                 |                                                                                                                  | Expected Result:                                                                                                                                                                                                                                                          |  |  |
|                                 |                                                                                                                  | Since multiple lossy compression is not allowed, either an error code that the<br>acceptance conditions are not met is returned, or no additional processing is<br>performed on the input image (i. e. the returned image is bitwise identical to<br>the provided image). |  |  |

**Table 2.129** Test Case ID: TC-COM-FI-IMA-001

### 2.6.3 Test Cases FM COM-FI-JPG

| Test Case ID: TC-COM-FI-JPG-001 |                                                                                                                                                                                                      |  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                           | Examine correct parametrisation of JPEG compression                                                                                                                                                  |  |
| Preconditions                   | IUT is running, required modules are loaded<br>•                                                                                                                                                     |  |
|                                 | •<br>As necessary test resources: a test database containing multiple compressed and uncompressed<br>(including losslessly compressed) facial reference images encoded in JPEG of varying resolution |  |
|                                 | •<br>small size (600 x 800 pixels) in the context of BCL and ARE                                                                                                                                     |  |
|                                 | •<br>small size (622 x 800 pixels) in the context of GID                                                                                                                                             |  |
|                                 | •<br>standard size (1200 x 1600 pixels) in the context of BCL and ARE                                                                                                                                |  |
|                                 | •<br>standard size (1244 x 1600 pixels) in the context of GID                                                                                                                                        |  |

### **Test Case ID: TC-COM-FI-JPG-001**

- *CTS Mode* **•** automatic
	- **•** Image provision using the test interface (TR-03122-1, Chapter 4, "Conformance Test Interfaces")
	- **•** HTTP method: POST
	- **•** test case variants:

*Description*

|                                                  | /TR03122/TC-COM-FI-JPG-001/1                                                                                                                                             |  |  |
|--------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Table 2.132 TC-COM-FI-JPG-001 Test Case Variants |                                                                                                                                                                          |  |  |
| Step                                             | Description / Expected Result                                                                                                                                            |  |  |
| 1                                                | Description:                                                                                                                                                             |  |  |
|                                                  | Check minimum file size after compression of small sized images (600 x 800 /<br>622 X 800 pixels)                                                                        |  |  |
|                                                  | •<br>Initiate test case by loading a uncompressed or losslessly compressed refe<br>rence facial image using the test interface, given small sized images as input        |  |  |
|                                                  | Verify integrity of compressed file by decoding with a standard JPEG view<br>•<br>er/decoder                                                                             |  |  |
|                                                  | Expected Result:                                                                                                                                                         |  |  |
|                                                  | •<br>As a result, message conforming to TR-03121 XML containing the com<br>pressed facial image is returned via the test interface (bio:Record)                          |  |  |
|                                                  | •<br>The actual file size the compressed image is greater than or equal to 35 KiB                                                                                        |  |  |
|                                                  | •<br>The resolution of the compressed images remains 600 x 800 / 622 pi<br>xels                                                                                          |  |  |
|                                                  | •<br>The resulting image can be decoded by a standard JPEG viewer/decoder                                                                                                |  |  |
| 2                                                | Description:                                                                                                                                                             |  |  |
|                                                  | Check minimum file size after compression of standard sized images (1200 x<br>1600 / 1244 x 1600 pixels)                                                                 |  |  |
|                                                  | Initiate test case by loading a uncompressed or losslessly compressed refe<br>•<br>rence facial image using the test interface, given standard sized images as in<br>put |  |  |
|                                                  | Verify integrity of compressed file by decoding with a standard JPEG view<br>•<br>er/decoder                                                                             |  |  |
|                                                  | Expected Result:                                                                                                                                                         |  |  |
|                                                  | •<br>As a result, message conforming to TR-03121 XML containing the com<br>pressed facial image is returned via the test interface (bio:Record)                          |  |  |
|                                                  | •<br>The actual file size of the compressed image is greater than or equal to 100<br>KiB                                                                                 |  |  |
|                                                  | •<br>The resolution of the compressed images remains 1200 x 1600 / 1244 x 1600<br>pixels                                                                                 |  |  |
|                                                  | •<br>The resulting images can be decoded by a standard JPEG viewer/decoder                                                                                               |  |  |
| 3                                                | Description:                                                                                                                                                             |  |  |
|                                                  | Check rejection of already compressed face images                                                                                                                        |  |  |
|                                                  | Initiate test case by loading a compressed reference facial image using the<br>•<br>test interface, given standard sized images as input                                 |  |  |
|                                                  | •<br>Verify integrity of compressed file by decoding with a standard JPEG view<br>er/decoder                                                                             |  |  |
|                                                  | Expected Result:                                                                                                                                                         |  |  |

As a result, a message that the acceptance conditions are not met is returned, since multiple lossy compression is not allowed.

**Table 2.131** Test Case ID: TC-COM-FI-JPG-001

### 2.6.4 Test Cases FM COM-FP-BCL

| Test Case ID: TC-COM-FP-BCL-001                  |                                                                                                                                              |                                                                                                                                                             |  |  |
|--------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                            | Examine the correctness of the compression of fingerprint images contained in ANSI/NIST-ITL 1<br>files within the context of border control. |                                                                                                                                                             |  |  |
| Preconditions                                    | •                                                                                                                                            | IUT is running, required modules are loaded.                                                                                                                |  |  |
|                                                  | As necessary test resources: a test database containing multiple fingerprint and slap images.<br>•                                           |                                                                                                                                                             |  |  |
| CTS Mode                                         | •<br>automatic                                                                                                                               |                                                                                                                                                             |  |  |
|                                                  | •<br>Image provision using the test interface (see BSI TR-03122-1, Chapter 4, "Conformance Test In<br>terfaces")                             |                                                                                                                                                             |  |  |
|                                                  | •<br>HTTP method: POST                                                                                                                       |                                                                                                                                                             |  |  |
|                                                  | •<br>test case variants:                                                                                                                     |                                                                                                                                                             |  |  |
|                                                  |                                                                                                                                              |                                                                                                                                                             |  |  |
|                                                  |                                                                                                                                              | /TR03122/TC-COM-FP-BCL-001/1                                                                                                                                |  |  |
| Table 2.134 TC-COM-FP-BCL-001 Test Case Variants |                                                                                                                                              |                                                                                                                                                             |  |  |
| Description                                      | Step                                                                                                                                         | Description / Expected Result                                                                                                                               |  |  |
|                                                  | 1                                                                                                                                            | Description:                                                                                                                                                |  |  |
|                                                  |                                                                                                                                              | Check file size and file compression: initiate test case by loading fingerprint<br>and slap images using the test interface.                                |  |  |
|                                                  |                                                                                                                                              | Expected Result:                                                                                                                                            |  |  |
|                                                  |                                                                                                                                              | •<br>The IUT returns a message conforming to TR-03121 XML containing an<br>ANSI/NIST container within type.bio.Record                                       |  |  |
|                                                  |                                                                                                                                              | •<br>The NIST file has either a maximum file size of 5332 kB (Entry-Exit System<br>(EES) purposes) or 3000 kB (Schengen Information System (SIS) purposes). |  |  |

**Table 2.133** Test Case ID: TC-COM-FP-BCL-001

### 2.6.5 Test Cases FM COM-FP-IMA

| Test Case ID: TC-COM-FP-IMA-001 |                                                                                                                                                       |                                                                                                                              |  |  |  |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope                           | Examine the correctness of the compression of fingerprint images contained in ANSI/NIST-ITL 1<br>files within the context of immigration authorities. |                                                                                                                              |  |  |  |
| Preconditions                   | IUT is running, required modules are loaded.<br>•                                                                                                     |                                                                                                                              |  |  |  |
|                                 | As necessary test resources: a test database containing multiple fingerprint and slap images.<br>•                                                    |                                                                                                                              |  |  |  |
| CTS Mode                        | •<br>automatic                                                                                                                                        |                                                                                                                              |  |  |  |
|                                 | •<br>Image provision using the test interface (see BSI TR-03122-1, Chapter 4, "Conformance Test In<br>terfaces")                                      |                                                                                                                              |  |  |  |
|                                 | •<br>HTTP method: POST                                                                                                                                |                                                                                                                              |  |  |  |
|                                 | •<br>test case variants:                                                                                                                              |                                                                                                                              |  |  |  |
|                                 |                                                                                                                                                       |                                                                                                                              |  |  |  |
|                                 | /TR03122/TC-COM-FP-IMA-001/1                                                                                                                          |                                                                                                                              |  |  |  |
|                                 | Table 2.136 TC-COM-FP-IMA-001 Test Case Variants                                                                                                      |                                                                                                                              |  |  |  |
| Description                     | Step                                                                                                                                                  | Description / Expected Result                                                                                                |  |  |  |
|                                 | 1                                                                                                                                                     | Description:                                                                                                                 |  |  |  |
|                                 |                                                                                                                                                       | Check file size and file compression: initiate test case by loading fingerprint<br>and slap images using the test interface. |  |  |  |

### **Test Case ID: TC-COM-FP-IMA-001**

*Expected Result:*

- **•** The IUT returns a message conforming to TR-03121 XML containing an ANSI/NIST container within type.bio.Record
- **•** The NIST file has either a maximum file size of 5332 kB [\(EES](#page-163-9) purposes) or 3000 kB [\(SIS](#page-163-10) purposes).

**Table 2.135** Test Case ID: TC-COM-FP-IMA-001

### 2.6.6 Test Cases FM COM-FP-WSQ

| Test Case ID: TC-COM-FP-WSQ-001 |                                                                                                                  |                                                                                                                                                                                |  |  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                           |                                                                                                                  | Examination of the size and compression format of the resulting fingerprint images.                                                                                            |  |  |
| Preconditions                   | •                                                                                                                | A necessary test resource: IUT with FBI certified Wavelet Scalar Quantisation (WSQ) algorithm.                                                                                 |  |  |
|                                 | •                                                                                                                | A FBI certificate for the used WSQ implementation of the IUT is available                                                                                                      |  |  |
|                                 | •                                                                                                                | IUT is running, required modules are loaded.                                                                                                                                   |  |  |
|                                 | •<br>hand.                                                                                                       | As necessary test resources: a Ground Truth database for conformance test and the CTS are at                                                                                   |  |  |
|                                 | •                                                                                                                | The test data base contains:                                                                                                                                                   |  |  |
|                                 | •                                                                                                                | Sequences of fingerprint images.                                                                                                                                               |  |  |
|                                 | •                                                                                                                | Corresponding Ground Truth values of WSQ compressed images with a bit-rate of 0.75.                                                                                            |  |  |
| CTS Mode                        | •<br>automatic                                                                                                   |                                                                                                                                                                                |  |  |
|                                 | •<br>image provision using the test interface (see BSI TR-03122-1, Chapter 4, "Conformance Test In<br>terfaces") |                                                                                                                                                                                |  |  |
|                                 | •<br>HTTP method: POST                                                                                           |                                                                                                                                                                                |  |  |
|                                 | •<br>test case variants:                                                                                         |                                                                                                                                                                                |  |  |
|                                 |                                                                                                                  |                                                                                                                                                                                |  |  |
|                                 |                                                                                                                  | /TR03122/TC-COM-FP-WSQ-001/1                                                                                                                                                   |  |  |
|                                 |                                                                                                                  | Table 2.138 TC-COM-FP-WSQ-001 Test Case Variants                                                                                                                               |  |  |
| Description                     | Step                                                                                                             | Description / Expected Result                                                                                                                                                  |  |  |
|                                 | 1                                                                                                                | Description:                                                                                                                                                                   |  |  |
|                                 |                                                                                                                  | •<br>Committing consecutively fingerprint images for this test case from the<br>conformance test data base.                                                                    |  |  |
|                                 |                                                                                                                  | •<br>Initiate test case by calling the IUT and providing the images via test in<br>terface.                                                                                    |  |  |
|                                 |                                                                                                                  | Expected Result:                                                                                                                                                               |  |  |
|                                 |                                                                                                                  | As a result, for every input sequence a message conforming to TR-03121 XML<br>containing the compressed fingerprint images is returned via the test interface<br>(bio:Record). |  |  |
|                                 | 2                                                                                                                | Description:                                                                                                                                                                   |  |  |
|                                 |                                                                                                                  | Examination of the size of the WSQ image data.                                                                                                                                 |  |  |
|                                 |                                                                                                                  | Expected Result:                                                                                                                                                               |  |  |
|                                 |                                                                                                                  | The size of the compressed WSQ image is between 1/10 and 1/20 of the origi<br>nal raw image.                                                                                   |  |  |
|                                 | 3                                                                                                                | Description:                                                                                                                                                                   |  |  |
|                                 |                                                                                                                  | Examination of the software implementation value (sf) from the WSQ header<br>of the image data and the certification of the WSQ algorithm used by the IUT.                     |  |  |

### **Test Case ID: TC-COM-FP-WSQ-001** *Expected Result:* **•** The sf value in the [WSQ](#page-163-11) header is not 0. **•** The sf value is referenced in the FBI certificate for the [WSQ](#page-163-11) implementation of the module. **•** The [WSQ](#page-163-11) implementation is certified by the FBI. **•** The [WSQ](#page-163-11) implementation of the module is version 3.1 and based on NBIS Version 5.0. *Description:* Examination of the resulting format of the images (decode image data from the biometric container using a certified [WSQ](#page-163-11) implementation). 4

*Expected Result:*

All returned fingerprint images can be decoded with the [WSQ](#page-163-11) algorithm.

### **Table 2.137** Test Case ID: TC-COM-FP-WSQ-001

### 2.6.7 Test Cases FM COM-FP-WSQE

| Test Case ID: TC-COM-FP-WSQE-001 |                                                                                                                                                                               |  |  |
|----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                            | Examination of the size and compression format of the resulting fingerprint images                                                                                            |  |  |
| Preconditions                    | A necessary test resource: IUT with FBI certified WSQ algorithm<br>•                                                                                                          |  |  |
|                                  | •<br>IUT is running, required modules are loaded                                                                                                                              |  |  |
|                                  | •<br>As necessary test resources: a Ground Truth database for conformance test and the CTS are at<br>hand                                                                     |  |  |
|                                  | •<br>The test data base contains:                                                                                                                                             |  |  |
|                                  | •<br>Sequences of fingerprint images                                                                                                                                          |  |  |
|                                  | •<br>Corresponding Ground Truth values of WSQ compressed images with a bit-rate of 0.75                                                                                       |  |  |
|                                  | Image provision using the test interface (TR-03122-1, Chapter 4, "Conformance Test Interfaces")<br>•                                                                          |  |  |
| CTS Mode                         | automatic<br>•                                                                                                                                                                |  |  |
|                                  | •<br>Image provision using the test interface (see BSI TR-03122-1, Chapter 4, "Conformance Test In<br>terfaces")                                                              |  |  |
|                                  | •<br>HTTP method: POST                                                                                                                                                        |  |  |
|                                  | •<br>test case variants:                                                                                                                                                      |  |  |
|                                  |                                                                                                                                                                               |  |  |
|                                  | Examination of the WSQ 3.0 compatibility<br>/TR03122/TC-COM-FP-WSQE-001/1                                                                                                     |  |  |
|                                  | Examination of the WSQ 3.1 compatibility<br>/TR03122/TC-COM-FP-WSQE-001/2                                                                                                     |  |  |
|                                  | Table 2.140 TC-COM-FP-WSQE-001 Test Case Variants                                                                                                                             |  |  |
| Description                      | Step<br>Description / Expected Result                                                                                                                                         |  |  |
|                                  | 1<br>Description:                                                                                                                                                             |  |  |
|                                  | Committing consecutively fingerprint images for this test case from the con<br>formance test data base                                                                        |  |  |
|                                  | Initiate test case by calling the IUT and providing the images via test inter<br>face                                                                                         |  |  |
|                                  | Expected Result:                                                                                                                                                              |  |  |
|                                  | As a result, for every input sequence a message conforming to TR-03121 XML<br>containing the compressed fingerprint images is returned via the test interface<br>(bio:Record) |  |  |

| Test Case ID: TC-COM-FP-WSQE-001 |                                                                                                                                            |  |  |
|----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| 2                                | Description:                                                                                                                               |  |  |
|                                  | Examination of the size of the WSQ image data                                                                                              |  |  |
|                                  | Expected Result:                                                                                                                           |  |  |
|                                  | The size of the compressed WSQ image is between 1/10 and 1/20 of the origi<br>nal raw image.                                               |  |  |
| 3                                | Description:                                                                                                                               |  |  |
|                                  | Examination of the software implementation value (sf) from the WSQ header<br>of the image data                                             |  |  |
|                                  | Expected Result:                                                                                                                           |  |  |
|                                  | •<br>The sf value in the WSQ header is not equal 0                                                                                         |  |  |
|                                  | •<br>The sf value is referenced in the FBI certificate for the WSQ implementation<br>of the module                                         |  |  |
| 4                                | Description:                                                                                                                               |  |  |
|                                  | Examination of the resulting format of the images (decode image data from the<br>biometric container using a certified WSQ implementation) |  |  |
|                                  | Expected Result:                                                                                                                           |  |  |
|                                  |                                                                                                                                            |  |  |

All returned fingerprint images can be decoded with the [WSQa](#page-163-11)lgorithm.

### **Table 2.139** Test Case ID: TC-COM-FP-WSQE-001

| Test Case ID: TC-COM-FP-WSQE-002 |                                                                            |                                                             |  |
|----------------------------------|----------------------------------------------------------------------------|-------------------------------------------------------------|--|
| Scope                            | Examination of the certification of the WSQ algorithm used by the IUT.     |                                                             |  |
| Preconditions                    | An FBI certificate for the used WSQ implementation of the IUT is available |                                                             |  |
| CTS Mode                         | Not supported                                                              |                                                             |  |
| Description                      | Step                                                                       | Description / Expected Result                               |  |
|                                  | 1                                                                          | Description:                                                |  |
|                                  |                                                                            | Check of the FBI certificate of the used WSQ implementation |  |
|                                  |                                                                            | Expected Result:                                            |  |
|                                  |                                                                            | The WSQ implementation is certified by the FBI.             |  |

**Table 2.141** Test Case ID: TC-COM-FP-WSQE-002

### 2.6.8 Test Cases FM COM-FP-WSQR

| Test Case ID: TC-COM-FP-WSQR-001 |                                                                                                    |                                                                             |  |
|----------------------------------|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|--|
| Scope                            | Examination of the size and compression format of the resulting fingerprint images                 |                                                                             |  |
| Preconditions                    | A necessary test resource: IUT with FBI certified WSQ algorithm<br>•                               |                                                                             |  |
|                                  | •<br>The FBI certificate is at hand                                                                |                                                                             |  |
|                                  | •<br>IUT is running, required modules are loaded<br>•<br>Acquisition of a fingerprint with the IUT |                                                                             |  |
|                                  |                                                                                                    |                                                                             |  |
| CTS Mode                         | Not supported                                                                                      |                                                                             |  |
| Description                      | Step                                                                                               | Description / Expected Result                                               |  |
|                                  | 1                                                                                                  | Description:                                                                |  |
|                                  |                                                                                                    | Extraction of the compressed facial image file from the biometric container |  |

### **Test Case ID: TC-COM-FP-WSQR-001**

*Expected Result:*

- **•** The size of the compressed [WSQ](#page-163-11) image is smaller than or equal to 18 kB.
- **•** The sf value in the [WSQ](#page-163-11) header is not equal 0
- **•** The sf value is referenced in the FBI certificate for the [WSQ](#page-163-11)implementation of the module
- **•** All returned fingerprint images can be decoded with the [WSQ](#page-163-11) algorithm

**Table 2.142** Test Case ID: TC-COM-FP-WSQR-001

### <span id="page-95-0"></span>2.7 Test Cases User Interface

### 2.7.1 Test Cases FM UI-FI-BSJ

| Test Case ID: TC-UI-FI-BSJ-001 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                |  |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          | Note that the requirement of presence of a feedback screen depends on the application context. If<br>the acquisition system is required to have a feedback screen for facial image wit<br>hin the specific application context in question, or if the vendor decided to implement a feedback<br>screen although it is not mandatory in the specific application context in question, the feedback<br>screen shall be examined according to the following specifications: |                                                                                                                                                |  |
|                                | Examination of availability of feedback screen, digital mirror or physical mirror image and user<br>guidance in the user interface shown to the biometric subject during facial image acquisition.                                                                                                                                                                                                                                                                       |                                                                                                                                                |  |
| Preconditions                  | •<br>The IUT is in operation, required modules are loaded.                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                |  |
|                                | The integrated camera system used in the specific application scenario is connected.<br>•                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                |  |
|                                | •<br>The IUT implements a user interface of facial image acquisition shown to the biometric subject.                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                |  |
|                                | •<br>The IUT is able to display a digital mirror or physical image and information for gui<br>dance to help the biometric subject with the correct positioning.                                                                                                                                                                                                                                                                                                          |                                                                                                                                                |  |
|                                | •<br>The acquisition system is required by another Function Module to have a feedback screen for<br>the facial acquisition                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                |  |
|                                | •                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Fake facial images (e.g. created with a 3D-printer) are available as necessary test resource.                                                  |  |
| CTS Mode                       | Not supported                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                |  |
| Description                    | Step                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Description / Expected Result                                                                                                                  |  |
|                                | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Description:                                                                                                                                   |  |
|                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | A biometric subject performs a compliant face presentation in the IUT's captu<br>re area.                                                      |  |
|                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Expected Result:                                                                                                                               |  |
|                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | •<br>A digital mirror or physical mirror image is shown by the IUT for guidance<br>to help the biometric subject with the correct positioning. |  |
|                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | •<br>A compliant facial image is acquired.                                                                                                     |  |
|                                | 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Description:                                                                                                                                   |  |
|                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | A biometric subject performs a non-compliant face presentation in the IUT's<br>capture area where positional requirements are not met.         |  |
|                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Expected Result:                                                                                                                               |  |
|                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | A digital mirror or physical mirror image is shown by the IUT for guidance<br>•<br>to help the biometric subject with the correct positioning. |  |
|                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | The IUT displays user guidance information to help the biometric subject<br>•<br>with the correct positioning in front of the camera.          |  |
|                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | The facial image acquisition is ommitted by the IUT.<br>•                                                                                      |  |

| Test Case ID: TC-UI-FI-BSJ-001 |                                                                                                                                                                                    |
|--------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 3                              | Description:                                                                                                                                                                       |
|                                | A biometric subject initially performs a non-compliant face presentation in<br>•<br>the IUT's capture area where positional requirements are not met.                              |
|                                | The biometric subject follows the user guidance information provided by<br>•<br>the IUT until a compliant face presentation is performed where positional<br>requirements are met. |
|                                | Expected Result:                                                                                                                                                                   |
|                                | •<br>A digital mirror or physical mirror image is shown by the IUT for guidance<br>to help the biometric subject with the correct positioning.                                     |
|                                | •<br>A compliant facial image is acquired.                                                                                                                                         |
| 4                              | Description:                                                                                                                                                                       |
|                                | A biometric subject initially performs a facial image presentation attack in the<br>IUT's capture area.                                                                            |
|                                | Expected Result:                                                                                                                                                                   |
|                                | A facial image is captured and the resulting image is displayed by the IUT.<br>•                                                                                                   |
|                                | Both the PAD result and the PAD score are only displayed to the operator.<br>•<br>Neither the PAD result nor the PAD score are displayed to the biometric<br>subject.              |

**Table 2.143** Test Case ID: TC-UI-FI-BSJ-001

### 2.7.2 Test Cases FM UI-FI-OP

| Test Case ID: TC-UI-FI-OP-001 |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                         |  |  |
|-------------------------------|-------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                         |                                                                                                       | Examination of the correct user interface for facial images with sufficient quality                                                                                                                                                                                                                                                                                     |  |  |
| Preconditions                 | IUT is running, required modules are loaded<br>•                                                      |                                                                                                                                                                                                                                                                                                                                                                         |  |  |
|                               | •<br>If the IUT does not provide a graphical user interface (e.g. it is implemented as library), rudi | mentary example user interface has to be provided for evaluation purposes                                                                                                                                                                                                                                                                                               |  |  |
| CTS Mode                      | Not supported                                                                                         |                                                                                                                                                                                                                                                                                                                                                                         |  |  |
| Description                   | Step                                                                                                  | Description / Expected Result                                                                                                                                                                                                                                                                                                                                           |  |  |
|                               | 1                                                                                                     | Description:                                                                                                                                                                                                                                                                                                                                                            |  |  |
|                               |                                                                                                       | An image with sufficient quality is captured using the IUT.                                                                                                                                                                                                                                                                                                             |  |  |
|                               |                                                                                                       | Expected Result:                                                                                                                                                                                                                                                                                                                                                        |  |  |
|                               |                                                                                                       | Any relevant quality criteria is displayed in the GUI (each resulting in OK)<br>•                                                                                                                                                                                                                                                                                       |  |  |
|                               |                                                                                                       | The overall quality is indicated visually by the IUT (OK)<br>•                                                                                                                                                                                                                                                                                                          |  |  |
|                               |                                                                                                       | •<br>The IUT provides the option to put in veto before release of image (ve<br>to is put in via UI, i.e. image is rejected despite positive Quality Assessment<br>(QA) result computed by IUT)                                                                                                                                                                          |  |  |
|                               |                                                                                                       | •<br>The IUT provides a warning message to the operator if PAD was performed<br>and a presentation attack was detected. All facial images that have caused a<br>PAD alarm SHALL be displayed to the operator as well. In addition, all facial<br>images within an acquisition where at least one facial image caused a PAD<br>alarm SHALL be displayed to the operator. |  |  |

### **Table 2.144** Test Case ID: TC-UI-FI-OP-001

### **Test Case ID: TC-UI-FI-OP-002**

*Scope* Examination of the correct user interface for facial images with insufficient quality.

| Test Case ID: TC-UI-FI-OP-002 |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                         |  |  |
|-------------------------------|-------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Preconditions                 | •                                                                                                     | IUT is running, required modules are loaded                                                                                                                                                                                                                                                                                                                             |  |  |
|                               | •<br>If the IUT does not provide a graphical user interface (e.g. it is implemented as library), rudi | mentary example user interface has to be provided for evaluation purposes                                                                                                                                                                                                                                                                                               |  |  |
| CTS Mode                      | Not supported                                                                                         |                                                                                                                                                                                                                                                                                                                                                                         |  |  |
| Description                   | Step                                                                                                  | Description / Expected Result                                                                                                                                                                                                                                                                                                                                           |  |  |
|                               | 1                                                                                                     | Description:                                                                                                                                                                                                                                                                                                                                                            |  |  |
|                               |                                                                                                       | An image with insufficient quality is captured using the IUT e.g. the eye are<br>closed test person closes the eyes and rotates the head.                                                                                                                                                                                                                               |  |  |
|                               |                                                                                                       | Initiate test case calling the IUT via the test interface                                                                                                                                                                                                                                                                                                               |  |  |
|                               |                                                                                                       | Expected Result:                                                                                                                                                                                                                                                                                                                                                        |  |  |
|                               |                                                                                                       | •<br>Any relevant quality criteria is displayed in the GUI (at least one resulting in<br>NOK)                                                                                                                                                                                                                                                                           |  |  |
|                               |                                                                                                       | •<br>The overall quality is indicated visually by the IUT (NOK)                                                                                                                                                                                                                                                                                                         |  |  |
|                               |                                                                                                       | •<br>The cause for the negative overall quality assessment is displayed                                                                                                                                                                                                                                                                                                 |  |  |
|                               |                                                                                                       | •<br>The IUT provides the option to put in veto before release of the image (veto<br>is put in via UI, i.e. image is accepted despite negative QA result computed<br>by IUT )                                                                                                                                                                                           |  |  |
|                               |                                                                                                       | The IUT provides a warning message to the operator if PAD was performed<br>•<br>and a presentation attack was detected. All facial images that have caused a<br>PAD alarm SHALL be displayed to the operator as well. In addition, all facial<br>images within an acquisition where at least one facial image caused a PAD<br>alarm SHALL be displayed to the operator. |  |  |

**Table 2.145** Test Case ID: TC-UI-FI-OP-002

### 2.7.3 Test Cases FM UI-FP-BSJ

| Test Case ID: TC-UI-FP-BSJ-001 |                                                                                                                                                             |                                                                                                                                                                                                         |  |  |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of availability of real-time feedback and user guidance in the user interface shown to<br>the biometric subject during fingerprint acquisition. |                                                                                                                                                                                                         |  |  |
| Preconditions                  | •<br>The IUT is in operation, required modules are loaded.                                                                                                  |                                                                                                                                                                                                         |  |  |
|                                | •<br>The fingerprint scanner used in the specific application scenario is connected.                                                                        |                                                                                                                                                                                                         |  |  |
|                                | The IUT implements a user interface of fingerprint acquisition shown to the biometric subject.<br>•                                                         |                                                                                                                                                                                                         |  |  |
|                                | •<br>The IUT is able to display feedback and information for guidance to help the biometric subject<br>with the correct positioning.                        |                                                                                                                                                                                                         |  |  |
|                                | •                                                                                                                                                           | Fake fingerprints (e.g. made of silicone) are available as necessary test resource.                                                                                                                     |  |  |
| CTS Mode                       | Not supported                                                                                                                                               |                                                                                                                                                                                                         |  |  |
| Description                    | Step                                                                                                                                                        | Description / Expected Result                                                                                                                                                                           |  |  |
|                                | 1                                                                                                                                                           | Description:                                                                                                                                                                                            |  |  |
|                                |                                                                                                                                                             | A biometric subject performs a compliant fingerprint presentation on the IUT's<br>fingerprint scanner.                                                                                                  |  |  |
|                                |                                                                                                                                                             | Expected Result:                                                                                                                                                                                        |  |  |
|                                |                                                                                                                                                             | A digital feedback is shown by the IUT in real-time including the acquisition<br>•<br>process status and guidance to help the biometric subject with finger<br>print selection and correct positioning. |  |  |
|                                |                                                                                                                                                             | A compliant fingerprint image is acquired.<br>•                                                                                                                                                         |  |  |
|                                | 2                                                                                                                                                           | Description:                                                                                                                                                                                            |  |  |
|                                |                                                                                                                                                             | A biometric subject performs a non-compliant fingerprint presentation on the<br>IUT's fingerprint scanner where positional requirements are not met.                                                    |  |  |

| Test Case ID: TC-UI-FP-BSJ-001 |                                                                                                                                                                                                         |
|--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                | Expected Result:                                                                                                                                                                                        |
|                                | A digital feedback is shown by the IUT in real-time including the acquisition<br>•<br>process status and guidance to help the biometric subject with finger<br>print selection and correct positioning. |
|                                | The IUT displays user guidance information to help the biometric subject<br>•<br>with the correct positioning on the sensor.                                                                            |
|                                | The fingerprint image acquisition is ommitted by the IUT.<br>•                                                                                                                                          |
| 3                              | Description:                                                                                                                                                                                            |
|                                | •<br>A biometric subject initially performs a non-compliant fingerprint presen<br>tation on the IUT's fingerprint scanner where positional requirements are<br>not met.                                 |
|                                | •<br>The biometric subject follows the user guidance information provided by<br>the IUT until a compliant fingerprint presentation is performed where posi<br>tional requirements are met.              |
|                                | Expected Result:                                                                                                                                                                                        |
|                                | •<br>A digital feedback is shown by the IUT in real-time including the acquisition<br>process status and guidance to help the biometric subject with finger<br>print selection and correct positioning. |
|                                | •<br>A compliant fingerprint image is acquired.                                                                                                                                                         |
| 4                              | Description:                                                                                                                                                                                            |
|                                | A biometric subject initially performs a fingerprint presentation attack on the<br>IUT's fingerprint scanner.                                                                                           |
|                                | Expected Result:                                                                                                                                                                                        |
|                                | •<br>A fingerprint or slap image is captured and the resulting image is displayed<br>by the IUT.                                                                                                        |
|                                | •<br>Both the PAD result and the PAD score are only displayed to the operator.                                                                                                                          |

Neither the [PAD](#page-163-7) result nor the [PAD](#page-163-7) score are displayed to the biometric subject.

**Table 2.146** Test Case ID: TC-UI-FP-BSJ-001

## 2.7.4 Test Cases FM UI-FP-OP

| Test Case ID: TC-UI-FP-OP-001 |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                        |  |  |
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|--|--|
| Scope                         | Examination of the correct user interface for capturing fingerprints.                                                                                                                                                                                                                                                                                                                                       |                                                                                                        |  |  |
| Preconditions                 | •<br>The IUT is in operation, required modules are loaded.<br>•<br>The fingerprint scanner used in the specific application scenario is connected.<br>•<br>The IUT implements a user interface of fingerprint acquisition shown to the biometric subject.<br>•<br>The IUT is able to display a digital feedback and information for guidance to help the biometric<br>subject with the correct positioning. |                                                                                                        |  |  |
|                               |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                        |  |  |
|                               |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                        |  |  |
|                               |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                        |  |  |
|                               | •<br>If the IUT does not provide a graphical user interface (e.g. it is implemented as library), rudi                                                                                                                                                                                                                                                                                                       | mentary example user interface has to be provided for evaluation purposes.                             |  |  |
| CTS Mode                      | Not supported                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                        |  |  |
| Description                   | Step                                                                                                                                                                                                                                                                                                                                                                                                        | Description / Expected Result                                                                          |  |  |
|                               | 1                                                                                                                                                                                                                                                                                                                                                                                                           | Description:                                                                                           |  |  |
|                               |                                                                                                                                                                                                                                                                                                                                                                                                             | A biometric subject performs a compliant fingerprint presentation on the IUT's<br>fingerprint scanner. |  |  |

### **Test Case ID: TC-UI-FP-OP-001**

### *Expected Result:*

- **•** Guidance to help the biometric subject with the fingerprint selection and correct positioning is shown by the [IUT.](#page-163-1)
- **•** Visual feedback of the actual fingerprints is given by the [IUT \(at least by dis](#page-163-1) playing the resulting captured images).
- **•** The [IUT](#page-163-1) provides the following information to the operator:
	- **•** Visual feedback of all segmented fingerprints.
	- **•** Feedback on the quality level of captured fingerprints.
	- **•** A warning message if a slap acquisition is in place, a slap classifier is in use and the classification result mismatches with the expected slap of the current acquisition.
	- **•** A warning message if [PAD](#page-163-7) was performed and a presentation attack was detected (for each finger individually and in form of an overall result).
- **•** The [IUT](#page-163-1) provides veto power for the operator for the enrolment.

### *Description:*

A biometric subject performs a non-compliant fingerprint presentation on the [IUT](#page-163-1)'s fingerprint scanner.

*Expected Result:*

- **•** Guidance to help the biometric subject with the fingerprint selection and correct positioning is shown by the [IUT.](#page-163-1)
- **•** Visual feedback of the actual fingerprints is given by the [IUT \(at least by dis](#page-163-1) playing the resulting captured images).
- **•** The [IUT](#page-163-1) provides the following information to the operator:
	- **•** Visual feedback of all segmented fingerprints.
	- **•** Feedback on the quality level of captured fingerprints.
	- **•** A warning message if a slap acquisition is in place, a slap classifier is in use and the classification result mismatches with the expected slap of the current acquisition.
	- **•** A warning message if [PAD](#page-163-7) was performed and a presentation attack was detected (for each finger individually and in form of an overall result).
- **•** The [IUT](#page-163-1) provides veto power for the operator for the enrolment.

**Table 2.147** Test Case ID: TC-UI-FP-OP-001

| Test Case ID: TC-UI-FP-OP-002                                                                                                                                                       |  |  |  |  |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|
| Examination of the correct user interface for capturing fingerprints if a uniqueness check error oc<br>curs.                                                                        |  |  |  |  |
| The IUT is in operation, required modules are loaded.<br>•                                                                                                                          |  |  |  |  |
| •<br>The fingerprint scanner used in the specific application scenario is connected.                                                                                                |  |  |  |  |
| •<br>The IUT implements a user interface of fingerprint acquisition shown to the biometric subject.                                                                                 |  |  |  |  |
| •<br>If the IUT does not provide a graphical user interface (e.g. it is implemented as library), rudi<br>mentary example user interface has to be provided for evaluation purposes. |  |  |  |  |
| Not supported                                                                                                                                                                       |  |  |  |  |
| Step<br>Description / Expected Result                                                                                                                                               |  |  |  |  |
|                                                                                                                                                                                     |  |  |  |  |

96 Federal Office for Information Security

2

| Test Case ID: TC-UI-FP-OP-002 |                                                                                                                                                       |
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1                             | Description:                                                                                                                                          |
|                               | A biometric subject performs a compliant fingerprint presentation on the IUT's<br>fingerprint scanner.                                                |
|                               | The biometric subject performs a fingerprint presentation on the IUT's finger<br>print scanner using the same finger for a different finger position. |
|                               | Expected Result:                                                                                                                                      |
|                               | •<br>The IUT displays a warning message that uniqueness check error was de<br>tected.                                                                 |
|                               | •<br>The fingers involved in the unexpected successful comparisons SHALL be<br>pictorially displayed to the operator.                                 |

**Table 2.148** Test Case ID: TC-UI-FP-OP-002

### 2.7.5 Test Cases FM UI-FP-VER

| Test Case ID: TC-UI-FP-VER-001 |                                                                                                    |                                                                                                                                         |  |
|--------------------------------|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                          | Examination of availability of user interface for operator during fingerprint verification.        |                                                                                                                                         |  |
| Preconditions                  | •<br>The IUT is in operation, required modules are loaded.                                         |                                                                                                                                         |  |
|                                | •                                                                                                  | The fingerprint scanner used in the specific application scenario is connected.                                                         |  |
|                                | •                                                                                                  | The IUT implements a user interface of fingerprint acquisition shown to the operator.                                                   |  |
|                                | The IUT is able to display a visual feedback of the fingerprint verification to the operator.<br>• |                                                                                                                                         |  |
| CTS Mode                       | Not supported                                                                                      |                                                                                                                                         |  |
| Description                    | Step                                                                                               | Description / Expected Result                                                                                                           |  |
|                                | 1                                                                                                  | Description:                                                                                                                            |  |
|                                |                                                                                                    | •<br>A biometric subject performs a compliant fingerprint presentation on the<br>IUT's fingerprint scanner.                             |  |
|                                |                                                                                                    | •<br>Depending on the used scanner a compliant presentation of a single finger,<br>multiple fingers or slap is conducted, respectively. |  |
|                                |                                                                                                    | Expected Result:                                                                                                                        |  |
|                                |                                                                                                    | A compliant fingerprint image is acquired.                                                                                              |  |
|                                | 2                                                                                                  | Description:                                                                                                                            |  |
|                                |                                                                                                    | The operator initiates a fingerprint verification process.                                                                              |  |
|                                |                                                                                                    | Expected Result:                                                                                                                        |  |
|                                |                                                                                                    | A visual feedback about the result of the verification process is shown by the<br>IUT to the operator.                                  |  |

**Table 2.149** Test Case ID: TC-UI-FP-VER-001

## <span id="page-100-0"></span>2.8 Test Cases Biometric Comparison

### 2.8.1 Test Cases FM CMP-FI-GENERIC

| Test Case ID: TC-CMP-FI-GENERIC-001 |                                                                                                                                                                                     |                               |  |  |
|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|--|--|
| Scope                               | Examination of the configured security level for biometric comparison                                                                                                               |                               |  |  |
| Preconditions                       | The vendor of the biometric comparison algorithm provides the documentation for his system<br>which gives information about the implemented facial image identification algorithms. |                               |  |  |
| CTS Mode                            | Not supported                                                                                                                                                                       |                               |  |  |
| Description                         | Step                                                                                                                                                                                | Description / Expected Result |  |  |

### **Test Case ID: TC-CMP-FI-GENERIC-001**

1

### *Description:*

Examination of the documentation provided by vendor identificati on algorithm.

*Expected Result:*

- **•** The documentation gives evidence that the comparison algorithms achieve one of the following operating points:
	- **•** A maximum [false-positive-identification-rate \(FPIR\)](#page-163-13) of 1 % and a [fal](#page-163-14) [se-negative-identification-rate \(FNIR\)](#page-163-14) below 2,5 %

or

**•** a maximum [FPIR](#page-163-13) of 0.1 % and a [FNIR](#page-163-14) below 5 %.

or

- **•** a maximum [FPIR](#page-163-13) of 0.01 % and a [FNIR](#page-163-14) below 10 %.
- **•** The claims stated above are supported by test results for a series of tests per formed on a database which is of similar size and characteristics as the one been used in the current application scenario.
- **•** Information about the data used for calibration of algorithm is pro vided, especially
	- **•** the size and image characteristics of the database which was used for training the algorithm is stated.
	- **•** the conversion routine between raw scores and threshold defined by Fal se Positive Identification Rate is stated.
- **•** The documentation states that the system also provides a list of potential matches for which their respective score exceeds the thresholds configured for the system. The documentation gives proof that the maximum size of this list can be configured.
- **•** The documentation gives evidence that the comparison algorithm can be calibrated for different use cases, especially higher [FPIR](#page-163-13) values in case of watchlist comparison scenarios.

**Table 2.150** Test Case ID: TC-CMP-FI-GENERIC-001

### 2.8.2 Test Cases FM CMP-FI-VER

| Test Case ID: TC-CMP-FI-VER-001 |                                                                                             |                                                                                         |  |  |
|---------------------------------|---------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|--|--|
| Scope                           |                                                                                             | Examination of the configured security level for biometric comparison.                  |  |  |
| Preconditions                   | The vendor of the biometric comparison algorithm provides a documentation which gives infor | mation about the working point of the comparison algorithm.                             |  |  |
| CTS Mode                        |                                                                                             | Not supported                                                                           |  |  |
| Description                     | Step                                                                                        | Description / Expected Result                                                           |  |  |
|                                 | 1                                                                                           | Description:                                                                            |  |  |
|                                 |                                                                                             | Examination of the documentation provided by the vendor of the comparison<br>algorithm. |  |  |

### **Test Case ID: TC-CMP-FI-VER-001**

### *Expected Result:*

- **•** The documentation gives information (typically a [Detection Error Tra](#page-163-15) [de-Off \(DET\)](#page-163-15) curve) of the performance of the algorithm based on a data.
- **•** The documentation gives evidence that the comparison algorithm ensures a working point of a maximum [false-match-rate \(FMR\)](#page-163-16) of 0.1 % and a [fal](#page-163-17) [se-non-match-rate \(FNMR\)](#page-163-17) below 2 %. Stronger settings are allowed (lower [FMR](#page-163-16) and/or [FNMR](#page-163-17)).
- **•** The documentation gives evidence that the comparison algorithm can be calibrated for the security level set within this specific scenario of verificati on.

**Table 2.151** Test Case ID: TC-CMP-FI-VER-001

### 2.8.3 Test Cases FM CMP-FP-CC

| Test Case ID: TC-CMP-FP-CC-001 |                                                                                                                                                             |                                                                                                                                                                                                |  |  |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                          | Examination of the configured security level for biometric comparison                                                                                       |                                                                                                                                                                                                |  |  |
| Preconditions                  | The vendor of the biometric comparison algorithm provides a documentation which gives infor<br>mation about the operating point of the comparison algorithm |                                                                                                                                                                                                |  |  |
| CTS Mode                       | Not supported                                                                                                                                               |                                                                                                                                                                                                |  |  |
| Description                    | Step                                                                                                                                                        | Description / Expected Result                                                                                                                                                                  |  |  |
|                                | 1                                                                                                                                                           | Description:                                                                                                                                                                                   |  |  |
|                                |                                                                                                                                                             | Examination of the documentation provided by the vendor of the comparison<br>algorithm                                                                                                         |  |  |
|                                |                                                                                                                                                             | Expected Result:                                                                                                                                                                               |  |  |
|                                |                                                                                                                                                             | •<br>The documentation gives information (typically a DET curve) of the perfor<br>mance of the algorithm based on a reference database.                                                        |  |  |
|                                |                                                                                                                                                             | •<br>The documentation gives evidence that the comparison algorithm ensures<br>an operating point of a maximum false match rate (FMR) of 0.1 % and a false<br>non-match rate (FNMR) below 2 %. |  |  |
|                                |                                                                                                                                                             | •<br>The documentation gives evidence that the comparison algorithm can be<br>calibrated for the security level set within this specific scenario of verificati<br>on.                         |  |  |

### **Table 2.152** Test Case ID: TC-CMP-FP-CC-001

| Test Case ID: TC-CMP-FP-CC-002                                                         |                                                                                                                                                                                                                                                |  |  |
|----------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                                                                  | Examination of proper crossmatching functionality of plain and rolled fingerprints                                                                                                                                                             |  |  |
| Preconditions                                                                          | •<br>IUT is running, required modules are loaded                                                                                                                                                                                               |  |  |
|                                                                                        | •<br>A multi fingerprint scanner is connected                                                                                                                                                                                                  |  |  |
|                                                                                        | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with                                                                                                                                                    |  |  |
| •<br>IUT is configured to perform the identification process including following steps |                                                                                                                                                                                                                                                |  |  |
|                                                                                        | Manual acquisition of ten plain fingerprints using the IUT<br>•                                                                                                                                                                                |  |  |
|                                                                                        | Provision of any other than biometric data (e.g. biographic, agency or process related) may be<br>•<br>done in form of static dummy values by IUT, so that the process can be finalized and re<br>sulting data is returned by IUT as GSAT3 XML |  |  |

### **Test Case ID: TC-CMP-FP-CC-002**

*CTS Mode* **•** interactive

1

2

- **•** no provision of pre-defined input data; Test case initiation via test interface (TR-03122-1, Chap ter 4, "Conformance Test Interfaces")
- **•** HTTP method: GET
- **•** test case variants:

/TR03122/TC-CMP-FP-CC-002/1

*Description*

**Table 2.154** TC-CMP-FP-CC-002 Test Case Variants **Step Description / Expected Result**

*Description:*

Check [IUT](#page-163-1) correct behaviour of a mated crossmatching

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Capture 10 fingerprints, each fingerprint plain and rolled (in identical, ma ted order)
- **•** Resulting in a total of 10 captured fingerprint pairs (plain, rolled) of identical fingerprints

#### *Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML is returned via the test interface (element bio:FingerAcquisition, including information on the capture and crossmatching results)
- **•** The [IUT](#page-163-1) returns a comparison score per pair of prints and each finger and a result of each verification (element bio:ControlVerification)
- **•** Each single comparison score is above the threshold and each verification result is positive

#### *Description:*

Check [IUT](#page-163-1) correct behaviour of a non-mated crossmatching

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Capture 10 fingerprints, each fingerprint rolled and plain (non-mated, e.g. by applying fingerprints of a second person or permuting fingers)
- **•** Resulting in a total of 10 captured pairs (rolled, plain) of distinct fingerprints

### *Expected Result:*

- **•** As a result, a message conforming to TR-03121 XML is returned via the test interface (element bio:FingerAcquisition, including information on the capture and crossmatching results)
- **•** The [IUT](#page-163-1) returns a comparison score per pair of prints and each finger and a result of each verification (element bio:ControlVerification)
- **•** Non-mated crossmatchings (distinct fingers) yield a comparison score be low the threshold and a negative verification result

**Table 2.153** Test Case ID: TC-CMP-FP-CC-002

### 2.8.4 Test Cases FM CMP-FP-VER

| Test Case ID: TC-CMP-FP-VER-001 |                                                                                                                                                            |                               |  |  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|--|--|
| Scope                           | Examination of the configured security level for biometric comparison.                                                                                     |                               |  |  |
| Preconditions                   | The vendor of the biometric comparison algorithm provides a documentation which gives infor<br>mation about the working point of the comparison algorithm. |                               |  |  |
| CTS Mode                        | Not supported                                                                                                                                              |                               |  |  |
| Description                     | Step                                                                                                                                                       | Description / Expected Result |  |  |

| Test Case ID: TC-CMP-FP-VER-001 |                                                                                                                                                                                                           |  |  |  |
|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| 1                               | Description:                                                                                                                                                                                              |  |  |  |
|                                 | Examination of the documentation provided by the vendor of the comparison<br>algorithm.                                                                                                                   |  |  |  |
|                                 | Expected Result:                                                                                                                                                                                          |  |  |  |
|                                 | •<br>The documentation gives information (typically a DET curve) of the perfor<br>mance of the algorithm based on a data.                                                                                 |  |  |  |
|                                 | •<br>The documentation gives evidence that the comparison algorithm ensures<br>a working point of a maximum FMR of 0.1 % and a FNMR below 2 %. Stron<br>ger settings are allowed (lower FMR and/or FNMR). |  |  |  |
|                                 | •<br>The documentation gives evidence that the comparison algorithm can be<br>calibrated for the security level set within this specific scenario of verificati<br>on.                                    |  |  |  |

**Table 2.155** Test Case ID: TC-CMP-FP-VER-001

### <span id="page-104-0"></span>2.9 Test Cases Logging

### 2.9.1 Test Cases FM LOG-ALL-GENERIC

| Test Case ID: TC-LOG-ALL-GENERIC-001 |                                                                                                      |                                                                               |  |  |
|--------------------------------------|------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|--|--|
| Scope                                | Examination of correct syntax and semantics for the logging information regarding generic pro        | cesses and transactions.                                                      |  |  |
| Preconditions                        | Five sets of logging data (encoded as XML) each, e.g. produced by performing five deviating pro<br>• | cesses using IUT                                                              |  |  |
|                                      | •                                                                                                    | The performed steps for each log data set are documented.                     |  |  |
|                                      | •                                                                                                    | TR-03121 XML schema definition files and documentation.                       |  |  |
|                                      | •                                                                                                    | Vendor specific documentation for error codes and further information.        |  |  |
| CTS Mode                             | File based                                                                                           |                                                                               |  |  |
| Description                          | Step                                                                                                 | Description / Expected Result                                                 |  |  |
|                                      | 1                                                                                                    | Description:                                                                  |  |  |
|                                      |                                                                                                      | Validate each log file against the TR-03121 schema definition "trbio5v1.xsd". |  |  |
|                                      |                                                                                                      | Expected Result:                                                              |  |  |
|                                      |                                                                                                      | Each file passes the validation process without errors.                       |  |  |
|                                      | 2                                                                                                    | Description:                                                                  |  |  |
|                                      |                                                                                                      | Verify the content of each log file and check the contained information.      |  |  |

### **Test Case ID: TC-LOG-ALL-GENERIC-001**

### *Expected Result:*

- **•** Each log file contains at least one element of type type.transaction.
- **•** The transaction UUIDs are globally unique.
- **•** The value of Location is compliant to the semantic of the relevant profile.
- **•** If this transaction is dependent or derived from another transaction, the TransactionReference is set to the corresponding transaction UUID.
- **•** In case of any abnormal termination of the transaction or any of its subprocesses, the ErrorCode is set.
- **•** Each during the transaction performed enrolment process is represented by an Enrolment element.
	- **•** If a central system replies directly with enrolment statues information, the SubmitTime is set.
	- **•** A ControlVerification element is logged for any control verification performed during the enrolment process.
- **•** Each during the transaction performed identification process is represented by an Identification element.

If a central system provides detailed scoring information, the list of candi dates is contained.

- **•** Each during the transaction performed verification process is represented by a Verification element.
	- **•** All performed comparisons are logged.
	- **•** For each comparison the vendor specific score as well as the threshold are logged.

**Table 2.156** Test Case ID: TC-LOG-ALL-GENERIC-001

### **Test Case ID: TC-LOG-ALL-GENERIC-002**

| Scope         |      | Examination of error code list for abnormal termination.                                                                                                                                       |  |  |
|---------------|------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Preconditions |      | Error code list for IUT is at hand.                                                                                                                                                            |  |  |
| CTS Mode      |      | Not supported                                                                                                                                                                                  |  |  |
| Description   | Step | Description / Expected Result                                                                                                                                                                  |  |  |
|               | 1    | Description:                                                                                                                                                                                   |  |  |
|               |      | Check availability of detailed error code list.                                                                                                                                                |  |  |
|               |      | Expected Result:                                                                                                                                                                               |  |  |
|               |      | A detailed list of error codes used with complete semantic descriptions is avail<br>able for any error code in case of abnormal termination of the transaction or<br>any of its sub-processes. |  |  |

**Table 2.157** Test Case ID: TC-LOG-ALL-GENERIC-002

### 2.9.2 Test Cases FM LOG-ALL-ARE

### **Test Case ID: TC-LOG-ALL-ARE-001**

*Scope* Examination of correct syntax and semantics for the logging of information in the context of alien register enrolment.

| Test Case ID: TC-LOG-ALL-ARE-001 |                                                                                                                                       |                                                                                                                                                                                                                        |  |  |  |
|----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Preconditions                    | •<br>Five sets of logging data (encoded as XML) containing are-log elements are available.                                            |                                                                                                                                                                                                                        |  |  |  |
|                                  | •<br>Each logging data set is produced by performing five deviating processes using the IUT, which<br>include but are not limited to: |                                                                                                                                                                                                                        |  |  |  |
|                                  | •                                                                                                                                     | Bona-fide acquisition of at least one modality with fulfilled quality criteria.                                                                                                                                        |  |  |  |
|                                  | •                                                                                                                                     | Acquisition of at least one modality with unfulfilled quality criteria.                                                                                                                                                |  |  |  |
|                                  | •                                                                                                                                     | Cancelled acquisition process.                                                                                                                                                                                         |  |  |  |
|                                  | •                                                                                                                                     | Rejected image acquisition result via veto by operator and repeated acquisition.                                                                                                                                       |  |  |  |
|                                  | •                                                                                                                                     | Failed acquisition process based on incorrect behaviour of the biometric subject.                                                                                                                                      |  |  |  |
|                                  | •<br>The performed steps for each log data set are documented.                                                                        |                                                                                                                                                                                                                        |  |  |  |
|                                  | •<br>TR-03121 XML schema definition files and documentation are at hand.                                                              |                                                                                                                                                                                                                        |  |  |  |
| CTS Mode                         | File based                                                                                                                            |                                                                                                                                                                                                                        |  |  |  |
| Description                      | Step                                                                                                                                  | Description / Expected Result                                                                                                                                                                                          |  |  |  |
|                                  | 1                                                                                                                                     | Description:                                                                                                                                                                                                           |  |  |  |
|                                  |                                                                                                                                       | Validate each log file against the TR-03121 schema definition "are5v1.xsd".                                                                                                                                            |  |  |  |
|                                  |                                                                                                                                       | Expected Result:                                                                                                                                                                                                       |  |  |  |
|                                  |                                                                                                                                       | Each file passes the validation process without errors.                                                                                                                                                                |  |  |  |
|                                  | 2                                                                                                                                     | Description:                                                                                                                                                                                                           |  |  |  |
|                                  |                                                                                                                                       | Verify the content of each log file and check the contained information.                                                                                                                                               |  |  |  |
|                                  |                                                                                                                                       | Expected Result:                                                                                                                                                                                                       |  |  |  |
|                                  |                                                                                                                                       | The process flow and information described by the contents of the log file<br>•<br>matches the actually performed process using the IUT.                                                                               |  |  |  |
|                                  |                                                                                                                                       | If information about existing facial images of the applicant exist in the CIR,<br>•<br>the number of images, whether an acceptable image is available and whe<br>ther any of the acceptable image was used are logged. |  |  |  |
|                                  |                                                                                                                                       | Details for each performed control verification are stored.<br>•                                                                                                                                                       |  |  |  |
|                                  |                                                                                                                                       | •<br>The name of the city or village where the biometric process takes place is set<br>as Location.                                                                                                                    |  |  |  |

**Table 2.158** Test Case ID: TC-LOG-ALL-ARE-001

## 2.9.3 Test Cases FM LOG-ALL-BCL

| Test Case ID: TC-LOG-ALL-BCL-001 |                                                                                                                                       |  |  |
|----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                            | Examination of correct syntax and semantics for the logging information in context bor<br>der control.                                |  |  |
| Preconditions                    | •<br>Five sets of logging data (encoded as XML) containing bcl-log elements are available.                                            |  |  |
|                                  | Each logging data set is produced by performing five deviating processes using the IUT, which<br>•<br>include but are not limited to: |  |  |
|                                  | Bona-fide acquisition of at least one modality with fulfilled quality criteria.<br>•                                                  |  |  |
|                                  | •<br>Acquisition of at least one modality with unfulfilled quality criteria.                                                          |  |  |
|                                  | •<br>Cancelled acquisition process.                                                                                                   |  |  |
|                                  | •<br>Rejected image acquisition result via veto by operator and repeated acquisition.                                                 |  |  |
|                                  | •<br>Failed acquisition process based on incorrect behaviour of the biometric subject.                                                |  |  |
|                                  | •<br>The performed steps for each log data set are documented.                                                                        |  |  |
|                                  | TR-03121 XML schema definition files and documentation are at hand.<br>•                                                              |  |  |
| CTS Mode                         | File based                                                                                                                            |  |  |

| Test Case ID: TC-LOG-ALL-BCL-001 |      |                                                                                                                                                                                     |  |
|----------------------------------|------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Description                      | Step | Description / Expected Result                                                                                                                                                       |  |
|                                  | 1    | Description:                                                                                                                                                                        |  |
|                                  |      | Validate each log file against the TR-03121 schema definition "bcl5v1.xsd".                                                                                                         |  |
|                                  |      | Expected Result:                                                                                                                                                                    |  |
|                                  |      | Each file passes the validation process without errors.                                                                                                                             |  |
|                                  | 2    | Description:                                                                                                                                                                        |  |
|                                  |      | Verify the content of each log file and check the contained information.                                                                                                            |  |
|                                  |      | Expected Result:                                                                                                                                                                    |  |
|                                  |      | •<br>The process flow and information described by the contents of the log file<br>matches the actually performed process using the IUT.                                            |  |
|                                  |      | •<br>For externally stored images the embedded type.data.record elements<br>refer to the image via the attribute externalReference and furthermore<br>do not contain Data elements. |  |

**Table 2.159** Test Case ID: TC-LOG-ALL-BCL-001

### 2.9.4 Test Cases FM LOG-ALL-GID

| Test Case ID: TC-LOG-ALL-GID-001 |                                                                                                                                                      |                                                                             |  |  |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|--|--|
| Scope                            | Examination of correct syntax and semantics for the logging information in context iden<br>tity documents.                                           |                                                                             |  |  |
| Preconditions                    | •<br>Five sets of logging data (encoded as XML) containing gid-log elements are available.                                                           |                                                                             |  |  |
|                                  | •<br>Each logging data set is produced by performing five deviating processes using the IUT, which<br>include but are not limited to:                |                                                                             |  |  |
|                                  | •<br>Bona-fide acquisition of at least one modality with fulfilled quality criteria.                                                                 |                                                                             |  |  |
|                                  | •                                                                                                                                                    | Acquisition of at least one modality with unfulfilled quality criteria.     |  |  |
|                                  | A transaction for a biometric subject with legal basis to take fingerprints.                                                                         |                                                                             |  |  |
|                                  | prints could be captured.                                                                                                                            |                                                                             |  |  |
|                                  | •<br>A transaction for a biometric subject without a legal basis to take fingerprints (i.e. under age).                                              |                                                                             |  |  |
|                                  | •<br>The performed steps for each log data set are documented.                                                                                       |                                                                             |  |  |
|                                  | •<br>TR-03121 XML schema definition files and documentation are at hand.                                                                             |                                                                             |  |  |
|                                  | •<br>Note: If the IUT is a biometric component only, this test case shall not be applied as the relevant<br>data are not acquired by the IUT itself. |                                                                             |  |  |
| CTS Mode                         | File based                                                                                                                                           |                                                                             |  |  |
| Description                      | Step                                                                                                                                                 | Description / Expected Result                                               |  |  |
|                                  | 1                                                                                                                                                    | Description:                                                                |  |  |
|                                  |                                                                                                                                                      | Validate each log file against the TR-03121 schema definition "gid5v1.xsd". |  |  |
|                                  |                                                                                                                                                      | Expected Result:                                                            |  |  |
|                                  |                                                                                                                                                      | Each file passes the validation process without errors.                     |  |  |
|                                  | 2                                                                                                                                                    | Description:                                                                |  |  |
|                                  |                                                                                                                                                      | Verify the content of each log file and check the contained information.    |  |  |

### **Test Case ID: TC-LOG-ALL-GID-001**

*Expected Result:*

- **•** Information whether fingerprint are legally allowed to be captured re presented by FingerprintCaptureAllowed.
- **•** If there was no legal basis to take fingerprints, the information is set to fal se and no fingerprint images are contained.
- **•** If there was a legal basis to take fingerprints for a person without fingers or hands, the information is set to true.
- **•** The element Location contains the "Behördenkennziffer".

**Table 2.160** Test Case ID: TC-LOG-ALL-GID-001

### 2.9.5 Test Cases FM LOG-ALL-IMA

| Test Case ID: TC-LOG-ALL-IMA-001 |                                                                                                                                       |                                                                                                                                          |  |
|----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                            | Examination of correct syntax and semantics for the logging information in context bor<br>der control.                                |                                                                                                                                          |  |
| Preconditions                    | •<br>Five sets of logging data (encoded as XML) containing ima-log elements are available.                                            |                                                                                                                                          |  |
|                                  | •<br>Each logging data set is produced by performing five deviating processes using the IUT, which<br>include but are not limited to: |                                                                                                                                          |  |
|                                  | •<br>bona-fide acquisition of at least one modality with fulfilled quality criteria                                                   |                                                                                                                                          |  |
|                                  | acquisition of at least one modality with unfulfilled quality criteria<br>•                                                           |                                                                                                                                          |  |
|                                  | cancelled acquisition process<br>•                                                                                                    |                                                                                                                                          |  |
|                                  | •<br>rejected image acquisition result via veto by operator and repeated acquisition                                                  |                                                                                                                                          |  |
|                                  | •<br>failed acquisition process based on incorrect behaviour of the subject.                                                          |                                                                                                                                          |  |
|                                  | •<br>The performed steps for each log data set are documented.                                                                        |                                                                                                                                          |  |
|                                  | •<br>TR-03121 XML schema definition files and documentation are at hand.                                                              |                                                                                                                                          |  |
| CTS Mode                         | File based                                                                                                                            |                                                                                                                                          |  |
| Description                      | Step                                                                                                                                  | Description / Expected Result                                                                                                            |  |
|                                  | 1                                                                                                                                     | Description:                                                                                                                             |  |
|                                  |                                                                                                                                       | Validate each log file against the TR-03121 schema definition "trbio5v1.xsd".                                                            |  |
|                                  |                                                                                                                                       | Expected Result:                                                                                                                         |  |
|                                  |                                                                                                                                       | Each file passes the validation process without errors.                                                                                  |  |
|                                  | 2                                                                                                                                     | Description:                                                                                                                             |  |
|                                  |                                                                                                                                       | Verify the content of each log file and check the contained information.                                                                 |  |
|                                  |                                                                                                                                       | Expected Result:                                                                                                                         |  |
|                                  |                                                                                                                                       | The process flow and information described by the contents of the log file<br>•<br>matches the actually performed process using the IUT. |  |
|                                  |                                                                                                                                       | The element ApplicationProfile is filled with a valid application profile<br>•<br>of volume IMA.                                         |  |

**Table 2.161** Test Case ID: TC-LOG-ALL-IMA-001

### 2.9.6 Test Cases FM LOG-FI-GENERIC

### **Test Case ID: TC-LOG-FI-GENERIC-001**

*Scope* Examination of correct syntax and semantics for the logging information regarding generic faci

al image acquisitions.

|                                                 |                                                                                                                                                                                                                                                       | Test Case ID: TC-LOG-FI-GENERIC-001                                                                                                          |  |  |  |
|-------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Preconditions                                   | •<br>Five sets of logging data (encoded as XML) containing FaceAcquisition elements are available.                                                                                                                                                    |                                                                                                                                              |  |  |  |
|                                                 | Each logging data set is produced by performing five deviating processes using the IUT, which<br>•<br>include but are not limited to:                                                                                                                 |                                                                                                                                              |  |  |  |
|                                                 | Bona-fide facial image acquisition with fulfilled quality criteria.<br>•                                                                                                                                                                              |                                                                                                                                              |  |  |  |
|                                                 | •<br>Facial image acquisition with unfulfilled quality criteria.<br>•<br>Cancelled acquisition process.<br>•<br>Rejected image acquisition result via veto by operator and repeated acquisition. (This is not<br>applicable to self-service systems.) |                                                                                                                                              |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       |                                                                                                                                              |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       |                                                                                                                                              |  |  |  |
|                                                 | •<br>Failed acquisition process based on incorrect behaviour of the biometric subject.<br>•<br>The performed steps for each log data set are documented.                                                                                              |                                                                                                                                              |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       |                                                                                                                                              |  |  |  |
|                                                 | TR-03121 XML schema definition files and documentation are at hand.<br>•                                                                                                                                                                              |                                                                                                                                              |  |  |  |
| CTS Mode                                        | File based                                                                                                                                                                                                                                            |                                                                                                                                              |  |  |  |
| Description                                     | Step                                                                                                                                                                                                                                                  | Description / Expected Result                                                                                                                |  |  |  |
|                                                 | 1                                                                                                                                                                                                                                                     | Description:                                                                                                                                 |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | Validate each log file against the TR-03121 schema definition "trbio5v1.xsd".                                                                |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | Expected Result:                                                                                                                             |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | Each file passes the validation process without errors.                                                                                      |  |  |  |
|                                                 | 2                                                                                                                                                                                                                                                     | Description:                                                                                                                                 |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | Verify the content of each log file and check the contained information.                                                                     |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | Expected Result:                                                                                                                             |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | •<br>For each performed capture a FaceCapture element exists.                                                                                |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | •<br>If a veto was put by the operator, the type of veto is logged.                                                                          |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | •<br>Quality information are provided at least for the selected capture.                                                                     |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | •<br>For each quality criterion the identifier, upper and lower value bound as<br>well as the upper and lower threshold are logged.          |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | •<br>If more than one FaceCapture element exists, the capture attribute refe<br>rences the related capture whithin each FaceQuality element. |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | The quality values are logged for each performed PAD.<br>•                                                                                   |  |  |  |
|                                                 |                                                                                                                                                                                                                                                       | If an user interface was available during the face acquisition, the displayed<br>•<br>information are stored in an UserInterface element.    |  |  |  |
| Table 2.162 Test Case ID: TC-LOG-FI-GENERIC-001 |                                                                                                                                                                                                                                                       |                                                                                                                                              |  |  |  |

2.9.7 Test Cases FM LOG-FI-BCL

## **Test Case ID: TC-LOG-FI-BCL-001** *Scope* Examination of correct syntax and semantics for the logging facial image acquisitions informati

on in the context of border control.

| Test Case ID: TC-LOG-FI-BCL-001 |            |                                                                                                                                                                                                                                                                                                   |  |  |
|---------------------------------|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Preconditions                   | •          | Five sets of logging data (encoded as XML) containing bcl-log elements are available.                                                                                                                                                                                                             |  |  |
|                                 | •          | Each logging data set is produced by performing five deviating processes using the IUT, which<br>include but are not limited to:                                                                                                                                                                  |  |  |
|                                 | •          | Bona-fide acquisition of at least one modality with fulfilled quality criteria.<br>Acquisition of at least one face image with unfulfilled quality criteria.<br>•<br>Cancelled acquisition process.<br>•<br>•<br>Rejected image acquisition result via veto by operator and repeated acquisition. |  |  |
|                                 |            |                                                                                                                                                                                                                                                                                                   |  |  |
|                                 |            |                                                                                                                                                                                                                                                                                                   |  |  |
|                                 |            |                                                                                                                                                                                                                                                                                                   |  |  |
|                                 | •          | Failed acquisition process based on incorrect behaviour of the biometric subject.<br>•<br>The performed steps for each log data set are documented.<br>•<br>TR-03121 XML schema definition files and documentation are at hand.                                                                   |  |  |
|                                 |            |                                                                                                                                                                                                                                                                                                   |  |  |
|                                 |            |                                                                                                                                                                                                                                                                                                   |  |  |
| CTS Mode                        | File based |                                                                                                                                                                                                                                                                                                   |  |  |
| Description                     | Step       | Description / Expected Result                                                                                                                                                                                                                                                                     |  |  |
|                                 | 1          | Description:                                                                                                                                                                                                                                                                                      |  |  |
|                                 |            | Validate each log file against the TR-03121 schema definition "bcl5v1.xsd".                                                                                                                                                                                                                       |  |  |
|                                 |            | Expected Result:                                                                                                                                                                                                                                                                                  |  |  |
|                                 |            | Each file passes the validation process without errors.                                                                                                                                                                                                                                           |  |  |
|                                 | 2          | Description:                                                                                                                                                                                                                                                                                      |  |  |
|                                 |            | Verify the content of each log file and check the contained information.                                                                                                                                                                                                                          |  |  |
|                                 |            | Expected Result:                                                                                                                                                                                                                                                                                  |  |  |
|                                 |            | The process flow and information described by the contents of the log file<br>•<br>matches the actually performed process using the IUT.                                                                                                                                                          |  |  |
|                                 |            | •<br>For each performed PAD the detailed PAD quality values are logged.                                                                                                                                                                                                                           |  |  |

**Table 2.163** Test Case ID: TC-LOG-FI-BCL-001

### 2.9.8 Test Cases FM LOG-FI-GID

| Test Case ID: TC-LOG-FI-GID-001 |                                                                                                                                                                                                |                                                                                                       |  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|--|
| Scope                           | Check of consistency of logged values                                                                                                                                                          |                                                                                                       |  |
| Preconditions                   | Scanning of application form or capturing of the facial image and provision of a selected single<br>•<br>image<br>•<br>Provision of the according biometric container including the image data |                                                                                                       |  |
|                                 |                                                                                                                                                                                                |                                                                                                       |  |
| Description                     | Step                                                                                                                                                                                           | Description / Expected Result                                                                         |  |
|                                 | 1                                                                                                                                                                                              | Description:                                                                                          |  |
|                                 |                                                                                                                                                                                                | Examination of relation of the range and/or tolerance if values are available                         |  |
|                                 |                                                                                                                                                                                                | Expected Result:                                                                                      |  |
|                                 |                                                                                                                                                                                                | If min, max, tmin or tmax are present the following relation has to be valid:<br>min<=tmin<=tmax<=max |  |
|                                 | 2                                                                                                                                                                                              | Description:                                                                                          |  |
|                                 |                                                                                                                                                                                                | Examination of the XML Logging                                                                        |  |

### **Test Case ID: TC-LOG-FI-GID-001**

### *Expected Result:*

- **•** The XML-element FaceAcquisition and/or FaceAcquisition MAY exist multiple times (including their Records/BinaryRecord children).
- **•**
- **•** The XML-element FaceAcquisition/Records/BinaryRecord/@type and/or FaceDelivery/Records/BinaryRecord/@type is jpeg when com ing from a face acquisition or delivery process.
- **•** The XML-element FaceAcquisition/Records/BinaryRecord/Bina ryData/Value or FaceDelivery/Records/BinaryRecord/BinaryDa ta/Valueoccurs exactly once before being sent to document production af ter the selection procedure. The output image fulfills the requirements to be sent to the document production (e.g. FaceAcquisition/Records/Bi naryRecord/@type or FaceDelivery/Records/BinaryRecord/@type is jpeg2000). All other binary data values of face deliveries or acquisitions have been deleted. However, multiple appearances of these elements are permit ted before being fed to the selection procedure (e.g. from any acquisition or delivery application).
- **•** Neither the XML-element FaceAcquisition/Records/XMLRecord nor the XML-element FaceDelivery/Records/XMLRecord is used.

**Table 2.164** Test Case ID: TC-LOG-FI-GID-001

### 2.9.9 Test Cases FM LOG-FP-GENERIC

| Test Case ID: TC-LOG-FP-GENERIC-001 |                                                                |                                                                                                                                  |  |  |
|-------------------------------------|----------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                               |                                                                | Examination of correct syntax and semantics for the logging of generic fingerprint information.                                  |  |  |
| Preconditions                       | •<br>able.                                                     | Five sets of logging data (encoded as XML) containing FingerAcquisition elements are avail                                       |  |  |
|                                     | •                                                              | Each logging data set is produced by performing five deviating processes using the IUT, which<br>include but are not limited to: |  |  |
|                                     | •                                                              | Bona-fide acquisition of at least one modality with fulfilled quality criteria.                                                  |  |  |
|                                     | •                                                              | Acquisition of at least one fingerprint with unfulfilled quality criteria.                                                       |  |  |
|                                     | Cancelled acquisition process.<br>•                            |                                                                                                                                  |  |  |
|                                     | •                                                              | Fingerprint acquisitions with missing fingers or slaps.                                                                          |  |  |
|                                     | •                                                              | Failed acquisition process based on incorrect behaviour of the biometric subject.                                                |  |  |
|                                     | •<br>The performed steps for each log data set are documented. |                                                                                                                                  |  |  |
|                                     | •                                                              | TR-03121 XML schema definition files and documentation are at hand.                                                              |  |  |
| CTS Mode                            | File based                                                     |                                                                                                                                  |  |  |
| Description                         | Step                                                           | Description / Expected Result                                                                                                    |  |  |
|                                     | 1                                                              | Description:                                                                                                                     |  |  |
|                                     |                                                                | Validate each log file against the TR-03121 schema definition "trbio5v1.xsd".                                                    |  |  |
|                                     |                                                                | Expected Result:                                                                                                                 |  |  |
|                                     |                                                                | Each file passes the validation process without errors.                                                                          |  |  |
|                                     | 2                                                              | Description:                                                                                                                     |  |  |
|                                     |                                                                | Verify the content of each log file and check the contained information.                                                         |  |  |

### **Test Case ID: TC-LOG-FP-GENERIC-001**

### *Expected Result:*

- **•** The process flow and information described by the contents of the log file matches the actually performed process using the IUT.
- **•** The reference to the corresponding record is logged if available
- **•** For each performed PAD the detailed PAD quality values are logged.
- **•** Details of the uniqueness check are contained if performed and duplicates are found.
- **•** In unsupervised acquisition scenarios the surveillance information are stored an linked to the fingerprint capture attempt.
- **•** The MultiplePersonDetectionInformation specifies whether multiple persons have been detected during the fingerprint acquisition process or not.
- **•** If a slap classification is performed during the acquisition process, de tails are be logged as FingerClassifierInformation.

**Table 2.165** Test Case ID: TC-LOG-FP-GENERIC-001

### 2.9.10 Test Cases FM LOG-FP-BCL

| Test Case ID: TC-LOG-FP-BCL-001 |                                                                                                                                       |                                                                          |  |
|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|--|
| Scope                           | Verification of semantics of logging data and information contained therein.                                                          |                                                                          |  |
| Preconditions                   | At least 2 biometric subjects<br>•                                                                                                    |                                                                          |  |
|                                 | Five sets of logging data (encoded as XML) containing FingerAcquisition elements are avail<br>able.                                   |                                                                          |  |
|                                 | •<br>Each logging data set is produced by performing five deviating processes using the IUT, which<br>include but are not limited to: |                                                                          |  |
|                                 | •<br>Bona-fide acquisition of at least one modality with fulfilled quality criteria.                                                  |                                                                          |  |
|                                 | •<br>Acquisition of at least one fingerprint with unfulfilled quality criteria.                                                       |                                                                          |  |
|                                 | •<br>Cancelled acquisition process.                                                                                                   |                                                                          |  |
|                                 | •<br>Fingerprint acquisitions with missing fingers or slaps.                                                                          |                                                                          |  |
|                                 | Failed acquisition process based on incorrect behaviour of the biometric subject.<br>•                                                |                                                                          |  |
|                                 | •<br>The performed steps for each log data set are documented.                                                                        |                                                                          |  |
|                                 | •<br>TR-03121 XML schema definition files and documentation are at hand.                                                              |                                                                          |  |
| CTS Mode                        | Not supported                                                                                                                         |                                                                          |  |
| Description                     | Step                                                                                                                                  | Description / Expected Result                                            |  |
|                                 | 1                                                                                                                                     | Description:                                                             |  |
|                                 |                                                                                                                                       | Verify the content of each log file and check the contained information. |  |

| Test Case ID: TC-LOG-FP-BCL-001 |                                                                                                                                            |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
|                                 | Expected Result:                                                                                                                           |
| •                               | The process flow and information described by the contents of the log file<br>matches the actually performed process using the IUT.        |
| •                               | The reference to the corresponding record is logged if available                                                                           |
| •                               | For each performed PAD the detailed PAD quality values are logged.                                                                         |
| •                               | Details of the uniqueness check are contained if performed and duplicates<br>are found.                                                    |
| •                               | In unsupervised acquisition scenarios the surveillance information are<br>stored an linked to the fingerprint capture attempt.             |
| •                               | The MultiplePersonDetectionInformation is specified when multiple<br>persons have been present during the fingerprint acquisition process. |
| •                               | If a slap classification is performed during the acquisition process, de<br>tails are be logged as FingerClassifierInformation.            |

**Table 2.166** Test Case ID: TC-LOG-FP-BCL-001

### 2.9.11 Test Cases FM LOG-FP-GID

| Test Case ID: TC-LOG-FP-GID-001 |      |                                                                                                                                                                                                                                                                                                                                                                                  |  |  |
|---------------------------------|------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                           |      | Check of consistency of logged values                                                                                                                                                                                                                                                                                                                                            |  |  |
| Preconditions                   | •    | Acquisition of the fingerprints of two different fingers                                                                                                                                                                                                                                                                                                                         |  |  |
|                                 | •    | Provision of the according biometric container including the image data                                                                                                                                                                                                                                                                                                          |  |  |
| Description                     | Step | Description / Expected Result                                                                                                                                                                                                                                                                                                                                                    |  |  |
|                                 | 1    | Description:                                                                                                                                                                                                                                                                                                                                                                     |  |  |
|                                 |      | For both elements of record in bio:FingerAcquistion:                                                                                                                                                                                                                                                                                                                             |  |  |
|                                 |      | Examination of the values in the field Biometric Data Block (BDB) Biometric<br>Subtype in the Common Biometric Exchange Formats Framework (CBEFF)<br>Header and finger position code in the finger image header                                                                                                                                                                  |  |  |
|                                 |      | Expected Result:                                                                                                                                                                                                                                                                                                                                                                 |  |  |
|                                 |      | For each record:                                                                                                                                                                                                                                                                                                                                                                 |  |  |
|                                 |      | the BDB Biometric Subtype contains the value for the same finger as the finger<br>position code in the finger image header record                                                                                                                                                                                                                                                |  |  |
|                                 | 2    | Description:                                                                                                                                                                                                                                                                                                                                                                     |  |  |
|                                 |      | For both elements record in bio:FingerAcquistion: Examination of the fin<br>ger position code in the finger image header and for both elements bio:Fin<br>gerCapture (or if a slap acquisition on multifinger scanner has been perfor<br>med for the one bio:FingerCapture with the repsective two bio:FingerRe<br>cordReference) : Examination of the value in the attribute fc |  |  |
|                                 |      | Expected Result:                                                                                                                                                                                                                                                                                                                                                                 |  |  |
|                                 |      | For both finger position codes in record there is a corresponding fc in qa_finger                                                                                                                                                                                                                                                                                                |  |  |
|                                 | 3    | Description:                                                                                                                                                                                                                                                                                                                                                                     |  |  |
|                                 |      | Check if the fingerprint positioned on the fingerprint sensor (as demanded in<br>the IUT graphical user interface (GUI)) is logged in the correct value in fc wit<br>hin bio:FingerAcquistion.                                                                                                                                                                                   |  |  |
|                                 |      | Expected Result:                                                                                                                                                                                                                                                                                                                                                                 |  |  |
|                                 |      | Value of fc is equal to the fingerprint positioned on the fingerprint sensor                                                                                                                                                                                                                                                                                                     |  |  |
|                                 | 4    | Description:                                                                                                                                                                                                                                                                                                                                                                     |  |  |
|                                 |      | Examination of the XML Logging                                                                                                                                                                                                                                                                                                                                                   |  |  |

### **Test Case ID: TC-LOG-FP-GID-001**

### *Expected Result:*

- **•** If the XML-element FingerprintCaptureAllowed is true the XML-ele ment FingerAcquisition occurs at least once for applicants applying for:
	- **•** Resindence Permit
	- **•** Passport
	- **•** Identity Card
- **•** The XML-element FingerAcquisition does not occur if the XML-element FingerprintCaptureAllowed is false.
- **•** The XML-elements of FingerAcquisition/Records/BinaryRecord may be missing e.g. if fingers are physically impossible to acquire.
- **•** The XML-element FingerAcquisition/Records occurs at maximum once in one of the FingerAcquisstion XML-elements.
- **•** The XML-element FingerAcquisition/Records/XMLRecord is not used.
- **•** The XML-element FingerAcquisition/Records/BinaryRecord/Bina ryData/Value occurs at least once and at maximum two times.
- **•** The XML-element FingerAcquisition/Records/BinaryRecord/@type is icao-cbeff-bit-bdb-19794-4
- **•** The XML-element FingerAcquisition/Records/BinaryRecord/Data occurs exactly once per record.

**Table 2.167** Test Case ID: TC-LOG-FP-GID-001

### <span id="page-114-0"></span>2.10 Test Cases Coding

### 2.10.1 Test Cases FM COD-ALL-ARE

| Test Case ID: TC-COD-ALL-ARE-001 |                                                                                                                                                                                                                                                 |  |
|----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                            | Examine proper overall encoding of input data (considering biographic, biometric and transaction<br>specific data) for identification purposes.                                                                                                 |  |
| Preconditions                    | •<br>The IUT is in operation, required modules are loaded.                                                                                                                                                                                      |  |
|                                  | •<br>A multi fingerprint scanner and facial camera is connected                                                                                                                                                                                 |  |
|                                  | •<br>IUT is configured to perform the identification process including the manual acquisition of ten<br>plain fingerprints using the IUT                                                                                                        |  |
|                                  | The following test resources are necessary:<br>•                                                                                                                                                                                                |  |
|                                  | A test person to perform the biometric acquisition with<br>•                                                                                                                                                                                    |  |
|                                  | •<br>Provision of any other than biometric data (e.g. biographic, agency or process related) may be<br>done in form of static dummy values by IUT, so that the process can be finalized and re<br>sulting data is returned by IUT as GSAT3 XML. |  |
| CTS Mode                         | •<br>interactive                                                                                                                                                                                                                                |  |
|                                  | •<br>no provision of pre-defined input data                                                                                                                                                                                                     |  |
|                                  | •<br>HTTP method: GET                                                                                                                                                                                                                           |  |
|                                  | •<br>test case variants:                                                                                                                                                                                                                        |  |
|                                  |                                                                                                                                                                                                                                                 |  |
|                                  | /TR03122/TC-COD-ALL-ARE-001/1                                                                                                                                                                                                                   |  |
|                                  | Table 2.169 TC-COD-ALL-ARE-001 Test Case Variants                                                                                                                                                                                               |  |
| Description                      | Step<br>Description / Expected Result                                                                                                                                                                                                           |  |
|                                  | 1<br>Description:                                                                                                                                                                                                                               |  |
|                                  | •<br>Perform the whole acquisition process using the IUT in the identification<br>scenario with subsequent examination of returned result data                                                                                                  |  |

### **Test Case ID: TC-COD-ALL-ARE-001**

### *Expected Result:*

- **•** The IUT delivers a response that is conformant to the schema file are5v1.xsd.
- **•** The response contains the correct number of elements based on the XPath expression /aad:aad-app/bio:Records/bio:XMLRecord[@type='g sat-xml']. Exactly 1 element is expected in accordance to the acquistion process.
- **•** The XML embedded in the element "bio:Record[@type=gsat-xml]" of re sponse XML is GSAT3-xml.

**Table 2.168** Test Case ID: TC-COD-ALL-ARE-001

### 2.10.2 Test Cases FM COD-ALL-BCL

| Test Case ID: TC-COD-ALL-BCL-001 |                                                                                                                                                                                                |                                                                                                                                                                                                                                                            |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Scope                            | Examine requirements and interfaces for the overall coding of biometric (facial image finger                                                                                                   | prints) and biographic data used within the context of border control.                                                                                                                                                                                     |
| Preconditions                    | •                                                                                                                                                                                              | The IUT is in operation, required modules are loaded.                                                                                                                                                                                                      |
|                                  | •                                                                                                                                                                                              | A multi fingerprint scanner and facial camera is connected                                                                                                                                                                                                 |
|                                  | •<br>The IUT implements an interface for conformance testing where biometric data can be acqui<br>red.                                                                                         |                                                                                                                                                                                                                                                            |
|                                  | •                                                                                                                                                                                              | The following test resources are necessary:                                                                                                                                                                                                                |
|                                  | •                                                                                                                                                                                              | A test person to perform the biometric acquisition with                                                                                                                                                                                                    |
|                                  | •<br>done in form of static and fictitious dummy values by the IUT. The goal is to focus on en<br>by IUT in TR-03121 XML format, i.e. a FaceAcquisition element is returned for facial data re | Provision of any other than biometric data (e.g. biographic, agency or process related) may be<br>coding of biometric data so that the process can be finalized and the resulting data is returned<br>spectively a FingerAcquisition for fingerprint data. |
| CTS Mode                         | interactive<br>•                                                                                                                                                                               |                                                                                                                                                                                                                                                            |
|                                  | •<br>no provision of pre-defined input data                                                                                                                                                    |                                                                                                                                                                                                                                                            |
|                                  | •<br>HTTP method: GET                                                                                                                                                                          |                                                                                                                                                                                                                                                            |
|                                  | •<br>test case variants:                                                                                                                                                                       |                                                                                                                                                                                                                                                            |
|                                  |                                                                                                                                                                                                |                                                                                                                                                                                                                                                            |
|                                  |                                                                                                                                                                                                | /TR03122/TC-COD-ALL-BCL-001/1                                                                                                                                                                                                                              |
|                                  |                                                                                                                                                                                                | Table 2.171 TC-COD-ALL-BCL-001 Test Case Variants                                                                                                                                                                                                          |
| Description                      | Step                                                                                                                                                                                           | Description / Expected Result                                                                                                                                                                                                                              |
|                                  | 1                                                                                                                                                                                              | Description:                                                                                                                                                                                                                                               |
|                                  |                                                                                                                                                                                                | •<br>Perform the acquisition process of all desired biometric elements using the<br>IUT with subsequent examination of returned result data                                                                                                                |
|                                  |                                                                                                                                                                                                | Expected Result:                                                                                                                                                                                                                                           |
|                                  |                                                                                                                                                                                                | •<br>The IUT delivers a response that is conformant to the schema file<br>bcl5v1.xsd.                                                                                                                                                                      |
|                                  |                                                                                                                                                                                                | •<br>The response contains the correct number of elements based on the XPath<br>expression /bcl:bcl-log. Exactly 1 element is expected in accordance to<br>the acquistion process.                                                                         |
|                                  |                                                                                                                                                                                                | •<br>The data encoded in the log matches the data acquired in the acquisition<br>process.                                                                                                                                                                  |

**Table 2.170** Test Case ID: TC-COD-ALL-BCL-001

### 2.10.3 Test Cases FM COD-ALL-GID

| Test Case ID: TC-COD-ALL-GID-001             |                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                         |
|----------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Scope                                        | Examine requirements and interfaces for the overall coding of biometric (facial image finger                                                                                                                                                                                                                                                                                                                                                                 | prints) and biographic data used within the context of German Identity Document.                                                                                                                        |
| Preconditions                                | •<br>The IUT is in operation, required modules are loaded.                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                         |
|                                              | •                                                                                                                                                                                                                                                                                                                                                                                                                                                            | A multi fingerprint scanner and facial camera is connected                                                                                                                                              |
|                                              | •<br>The IUT implements an interface for conformance testing where biometric data can be acqui<br>red.                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                         |
|                                              | •                                                                                                                                                                                                                                                                                                                                                                                                                                                            | The following test resources are necessary:                                                                                                                                                             |
|                                              | •                                                                                                                                                                                                                                                                                                                                                                                                                                                            | A test person to perform the biometric acquisition with                                                                                                                                                 |
|                                              | Provision of any other than biometric data (e.g. biographic, agency or process related) may be<br>•<br>done in form of static and fictitious dummy values by the IUT. The goal is to focus on en<br>coding of biometric data so that the process can be finalized and the resulting data is returned<br>by IUT in TR-03121 XML format, i.e. a FaceAcquisition element is returned for facial data re<br>spectively a FingerAcquisition for fingerprint data. |                                                                                                                                                                                                         |
| CTS Mode                                     | •<br>interactive                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                         |
|                                              | no provision of pre-defined input data<br>•                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                                         |
|                                              | •<br>HTTP method: GET                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                         |
|                                              | •<br>test case variants:                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                         |
|                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                         |
|                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                              | /TR03122/TC-COD-ALL-GID-001/1                                                                                                                                                                           |
|                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Table 2.173 TC-COD-ALL-GID-001 Test Case Variants                                                                                                                                                       |
| Description                                  | Step                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Description / Expected Result                                                                                                                                                                           |
|                                              | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Description:                                                                                                                                                                                            |
|                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Perform the acquisition process of all desired biometric elements using the<br>•<br>IUT with subsequent examination of returned result data                                                             |
|                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Expected Result:                                                                                                                                                                                        |
|                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                              | •<br>The IUT delivers a response that is conformant to the schema file gi<br>d5v1.xsd.                                                                                                                  |
|                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                              | •<br>The response contains the correct number of elements based on the XPath<br>expression //bio:Data. Any number of elements (including none) is possi<br>ble in accordance to the acquistion process. |
|                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                              | •<br>The data encoded in the log matches the data acquired in the acquisition<br>process.                                                                                                               |
| Table 2.172 Test Case ID: TC-COD-ALL-GID-001 |                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                         |

### 2.10.4 Test Cases FM COD-ALL-IMA

### **Test Case ID: TC-COD-ALL-IMA-001**

*Scope* Examine requirements and interfaces for the overall coding of biometric (facial image finger

prints) and biographic data used within the context of Immigration Authorities.

| Test Case ID: TC-COD-ALL-IMA-001 |                                                                                                                                                                                                |                                                                                                                                                                                                                                                            |  |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Preconditions                    | •                                                                                                                                                                                              | The IUT is in operation, required modules are loaded.                                                                                                                                                                                                      |  |
|                                  | •                                                                                                                                                                                              | All required acquisition devices, i.e. a fingerprint scanner respectively a digital camera are at<br>hand and connected to the IUT.                                                                                                                        |  |
|                                  | •<br>The IUT implements an interface for conformance testing where biometric data can be acqui<br>red.                                                                                         |                                                                                                                                                                                                                                                            |  |
|                                  | •                                                                                                                                                                                              | The following test resources are necessary:                                                                                                                                                                                                                |  |
|                                  | •                                                                                                                                                                                              | A test person to perform the biometric acquisition with                                                                                                                                                                                                    |  |
|                                  | •<br>done in form of static and fictitious dummy values by the IUT. The goal is to focus on en<br>by IUT in TR-03121 XML format, i.e. a FaceAcquisition element is returned for facial data re | Provision of any other than biometric data (e.g. biographic, agency or process related) may be<br>coding of biometric data so that the process can be finalized and the resulting data is returned<br>spectively a FingerAcquisition for fingerprint data. |  |
| CTS Mode                         | interactive<br>•                                                                                                                                                                               |                                                                                                                                                                                                                                                            |  |
|                                  | •                                                                                                                                                                                              | no provision of pre-defined input data                                                                                                                                                                                                                     |  |
|                                  | •<br>HTTP method: GET                                                                                                                                                                          |                                                                                                                                                                                                                                                            |  |
|                                  | •<br>test case variants:                                                                                                                                                                       |                                                                                                                                                                                                                                                            |  |
|                                  |                                                                                                                                                                                                |                                                                                                                                                                                                                                                            |  |
|                                  |                                                                                                                                                                                                | /TR03122/TC-COD-ALL-IMA-001/1                                                                                                                                                                                                                              |  |
|                                  |                                                                                                                                                                                                | Table 2.175 TC-COD-ALL-IMA-001 Test Case Variants                                                                                                                                                                                                          |  |
| Description                      | Step                                                                                                                                                                                           | Description / Expected Result                                                                                                                                                                                                                              |  |
|                                  | 1                                                                                                                                                                                              | Description:                                                                                                                                                                                                                                               |  |
|                                  |                                                                                                                                                                                                | •<br>Perform the acquisition process of all desired biometric elements using the<br>IUT with subsequent examination of returned result data                                                                                                                |  |
|                                  |                                                                                                                                                                                                | Expected Result:                                                                                                                                                                                                                                           |  |
|                                  |                                                                                                                                                                                                | •<br>The IUT delivers a response that is conformant to the schema file<br>ima5v1.xsd.                                                                                                                                                                      |  |
|                                  |                                                                                                                                                                                                | •<br>The response contains the correct number of elements based on the XPath<br>expression bio:FingerAcquisition//bio:Data. Any number of elements<br>(including none) is possible in accordance to the acquistion process.                                |  |
|                                  |                                                                                                                                                                                                | •<br>The response contains the correct number of elements based on the XPath<br>expression bio:FaceAcquisition//bio:Data. Any number of elements<br>(including none) is possible in accordance to the acquistion process.                                  |  |
|                                  |                                                                                                                                                                                                | •<br>The response contains the correct number of elements based on the XPath<br>expression /ima:ima-log/bio:Records/bio:Record/bio:Data. No ele<br>ments are expected to appear in accordance to the acquistion process.                                   |  |
|                                  |                                                                                                                                                                                                | •<br>The data encoded in the log matches the data acquired in the acquisition<br>process.                                                                                                                                                                  |  |

**Table 2.174** Test Case ID: TC-COD-ALL-IMA-001

## 2.10.5 Test Cases FM COD-FI-GENERIC

### **Test Case ID: TC-COD-FI-GENERIC-001**

*Scope* Examine requirements and interfaces for the overall coding used during the acquisition process of facial images.

| Test Case ID: TC-COD-FI-GENERIC-001             |                                                                                           |                                                                                                                     |  |  |
|-------------------------------------------------|-------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------|--|--|
| Preconditions                                   | •                                                                                         | The IUT is in operation, required modules are loaded.                                                               |  |  |
|                                                 | •<br>The integrated camera system used in the specific application scenario is connected. |                                                                                                                     |  |  |
|                                                 | •                                                                                         | The IUT implements an interface for conformance testing where a single image can be captured.                       |  |  |
|                                                 | •                                                                                         | The IUT is able to return the results as TR XML for every captured image via the test interface.                    |  |  |
|                                                 | •<br>the IUT.                                                                             | As necessary test resources: a biometric test subject whose biometric features are acquired using                   |  |  |
| CTS Mode<br>interactive<br>•                    |                                                                                           |                                                                                                                     |  |  |
|                                                 | •<br>no provision of pre-defined input data                                               |                                                                                                                     |  |  |
|                                                 | •<br>HTTP method: GET                                                                     |                                                                                                                     |  |  |
|                                                 | •<br>test case variants:                                                                  |                                                                                                                     |  |  |
|                                                 |                                                                                           |                                                                                                                     |  |  |
|                                                 |                                                                                           | /TR03122/TC-COD-FI-GENERIC-001/1                                                                                    |  |  |
|                                                 |                                                                                           | Table 2.177 TC-COD-FI-GENERIC-001 Test Case Variants                                                                |  |  |
| Description                                     | Step                                                                                      | Description / Expected Result                                                                                       |  |  |
|                                                 | 1                                                                                         | Description:                                                                                                        |  |  |
|                                                 |                                                                                           | In this test case a successful facial image acquisition is conducted.                                               |  |  |
|                                                 |                                                                                           | Perform the facial image acquisition process using IUT with subsequent ex<br>amination of returned result data.     |  |  |
|                                                 |                                                                                           | Initiate test case by calling the IUT via the test interface.                                                       |  |  |
|                                                 |                                                                                           | Expected Result:                                                                                                    |  |  |
|                                                 |                                                                                           | The resulting data is encoded in an appropriate XML TR-03121 format:                                                |  |  |
|                                                 |                                                                                           | The XML data can be successfully validated against the TR-03121 sche<br>•<br>ma definition files.                   |  |  |
|                                                 |                                                                                           | The XML data contains biometric data containers as record element only for<br>•<br>the acquired biometric modality. |  |  |
|                                                 |                                                                                           | Biometric data containers are embedded as record elements within the ac<br>•<br>quisition element FaceAcquisition.  |  |  |
|                                                 |                                                                                           | •<br>The contained biometric data can be successfully decoded.                                                      |  |  |
| Table 2.176 Test Case ID: TC-COD-FI-GENERIC-001 |                                                                                           |                                                                                                                     |  |  |

### 2.10.6 Test Case FM COD-FI-GID

| Test Case ID: TC-COD-FI-GID2-001 |                                                                                                               |                                                                        |  |
|----------------------------------|---------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|--|
| Scope                            | This test case checks the requirements and interfaces for coding of facial images used appli<br>cation of GID |                                                                        |  |
| Preconditions                    | As necessary test resources: Facial images intended to be stored on a GID chip card.<br>•                     |                                                                        |  |
| CTS Mode                         | not_supported<br>•                                                                                            |                                                                        |  |
| Description                      | Step                                                                                                          | Description / Expected Result                                          |  |
|                                  | 1                                                                                                             | Description:                                                           |  |
|                                  |                                                                                                               | •<br>Examine the resolution of the processed image.                    |  |
|                                  |                                                                                                               | •<br>Examine the aspect ratio of the processed image.                  |  |
|                                  |                                                                                                               | •<br>Examine the colour depth and colour space of the processed image. |  |

**•** Examine the encoded file format of the processed image.

### **Test Case ID: TC-COD-FI-GID2-001**

*Expected Result:*

- **•** The resolution of the facial images is 1244 x 1600 pixels for live capture dor delivered facial images respectively 622 x 800 pixels for scanned faciali mages.
- **•** The facial image was not upscaled and the aspect ratio of the image waskept.
- **•** The resulting facial image is a color image (24 bit sRGB) or a grey scale image(8 bit sRGB).
- **•** The facial images are encoded as JPEG.

**Table 2.178** Test Case ID: TC-COD-FI-GID2-001

### 2.10.7 Test Case FM COD-FI-PRD

| Test Case ID: TC-COD-FI-PRD-001 |                                                                                                                 |                                                                                                       |  |
|---------------------------------|-----------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|--|
| Scope                           | This test case checks the requirements and interfaces for coding of facial images used docu<br>ment production. |                                                                                                       |  |
| Preconditions                   |                                                                                                                 | As necessary test resources: Facial images intended to be used for document production.               |  |
| CTS Mode                        | File based                                                                                                      |                                                                                                       |  |
| Description                     | Step                                                                                                            | Description / Expected Result                                                                         |  |
|                                 | 1                                                                                                               | Description:                                                                                          |  |
|                                 |                                                                                                                 | Examine the processed image, i.e.:                                                                    |  |
|                                 |                                                                                                                 | the resolution of the facial image,<br>•                                                              |  |
|                                 |                                                                                                                 | •<br>the colour depth and colour space,                                                               |  |
|                                 |                                                                                                                 | •<br>the encoded file format of the image.                                                            |  |
|                                 |                                                                                                                 | Expected Result:                                                                                      |  |
|                                 |                                                                                                                 | The facial images meet the following criteria:                                                        |  |
|                                 |                                                                                                                 | The resolution of the facial images is 622 x 800 pixels without any up-sca<br>•<br>ling.              |  |
|                                 |                                                                                                                 | The resulting facial image is a color image (24 bit sRGB) or a grey scale image<br>•<br>(8 bit sRGB). |  |
|                                 |                                                                                                                 | The facial images are encoded as JPEG 2000.<br>•                                                      |  |
|                                 |                                                                                                                 |                                                                                                       |  |

### **Table 2.179** Test Case ID: TC-COD-FI-PRD-001

### 2.10.8 Test Case FM COD-FI-ROD

| Test Case ID: TC-COD-FI-ROR-001 |                                                                                                                                                       |                                            |  |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|--|
| Scope                           | This test case checks the requirements and interfaces for coding of facial images used Regis<br>ter of Documents (Pass- und Personalausweisregister). |                                            |  |
| Preconditions                   | As necessary test resources: Facial images intended to be stored Register of Documents.                                                               |                                            |  |
| CTS Mode                        | File based                                                                                                                                            |                                            |  |
| Description                     | Step                                                                                                                                                  | Description / Expected Result              |  |
|                                 | 1                                                                                                                                                     | Description:                               |  |
|                                 |                                                                                                                                                       | Examine the processed image, i.e.:         |  |
|                                 |                                                                                                                                                       | •<br>the resolution of the facial image,   |  |
|                                 |                                                                                                                                                       | •<br>the aspect ratio,                     |  |
|                                 |                                                                                                                                                       | the colour depth and colour space,<br>•    |  |
|                                 |                                                                                                                                                       | •<br>the encoded file format of the image. |  |

### **Test Case ID: TC-COD-FI-ROR-001**

### *Expected Result:*

The facial images meet the following criteria:

- **•** The resolution of the facial images is at least 1244 x 1600 pixels without any up-scaling.
- **•** The aspect ration of 1244 x 1600 pixels is kept if the image has a higher reso lution.
- **•** The resulting facial image is a color image (24 bit sRGB) or a grey scale image (8 bit sRGB).
- **•** The facial images are encoded as JPEG.

**Table 2.180** Test Case ID: TC-COD-FI-ROD-001

### 2.10.9 Test Cases FM COD-FI-VER

| Test Case ID: TC-COD-FI-VER-001 |               |                                                                                                                                                               |  |  |
|---------------------------------|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                           |               | Examine requirements for the coding used during the verification process of facial images.                                                                    |  |  |
| Preconditions                   | •             | The IUT is in operation, required modules are loaded.                                                                                                         |  |  |
|                                 | •             | The integrated camera system used in the specific application scenario is connected.                                                                          |  |  |
|                                 | •             | The IUT implements an interface for conformance testing where facial images can be captured.                                                                  |  |  |
|                                 | •             | The IUT is able to return the results as TR XML for every verification process of facial images.                                                              |  |  |
|                                 | •<br>the IUT. | As necessary test resources: a biometric test subject whose biometric features are acquired using                                                             |  |  |
| CTS Mode<br>•<br>interactive    |               |                                                                                                                                                               |  |  |
|                                 | •             | no provision of pre-defined input data                                                                                                                        |  |  |
|                                 | •             | HTTP method: GET                                                                                                                                              |  |  |
|                                 | •             | test case variants:                                                                                                                                           |  |  |
|                                 |               |                                                                                                                                                               |  |  |
|                                 |               | /TR03122/TC-COD-FI-VER-001/1                                                                                                                                  |  |  |
|                                 |               | Table 2.182 TC-COD-FI-VER-001 Test Case Variants                                                                                                              |  |  |
| Description                     | Step          | Description / Expected Result                                                                                                                                 |  |  |
|                                 | 1             | Description:                                                                                                                                                  |  |  |
|                                 |               | •<br>Perform the facial image acquisition process using the IUT.                                                                                              |  |  |
|                                 |               | •<br>Initiate a face verification process.                                                                                                                    |  |  |
|                                 |               | Expected Result:                                                                                                                                              |  |  |
|                                 |               | The resulting data of the verification process is encoded in an appropriate XML<br>TR-03121 format and can be successfully validated against the TR-03121 XML |  |  |

schema definition files.

**Table 2.181** Test Case ID: TC-COD-FI-VER-001

### 2.10.10 Test Cases FM COD-FP-GID

### **Test Case ID: TC-COD-FP-GID-001**

*Scope* Correct coding of the [CBEFF](#page-163-19) container

| Test Case ID: TC-COD-FP-GID-001 |                                                                                           |                                                                                                                                                                                                                                                 |  |  |
|---------------------------------|-------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Preconditions                   | •                                                                                         | IUT is running, required modules are loaded                                                                                                                                                                                                     |  |  |
|                                 | •<br>A multi fingerprint scanner and facial camera is connected                           |                                                                                                                                                                                                                                                 |  |  |
|                                 | As necessary test resources: a test person to perform the biometric acquisition with<br>• |                                                                                                                                                                                                                                                 |  |  |
|                                 | •                                                                                         | IUT is configured to perform the identification process including following steps                                                                                                                                                               |  |  |
|                                 | •                                                                                         | Manual acquisition of two plain fingerprints using the IUT                                                                                                                                                                                      |  |  |
|                                 | •                                                                                         | Provision of any other than biometric data (e.g. biographic, agency or process related) may be<br>done in form of static dummy values by IUT, so that the process can be finalized and re<br>sulting data is returned by IUT as CBEFF container |  |  |
| CTS Mode                        | •<br>interactive                                                                          |                                                                                                                                                                                                                                                 |  |  |
|                                 | •<br>no provision of pre-defined input data                                               |                                                                                                                                                                                                                                                 |  |  |
|                                 | •                                                                                         | HTTP method: GET                                                                                                                                                                                                                                |  |  |
|                                 | •                                                                                         | test case variants:                                                                                                                                                                                                                             |  |  |
|                                 |                                                                                           |                                                                                                                                                                                                                                                 |  |  |
|                                 |                                                                                           | /TR03122/TC-COD-FP-GID-001/1                                                                                                                                                                                                                    |  |  |
| Description                     |                                                                                           | Table 2.184 TC-COD-FP-GID-001 Test Case Variants                                                                                                                                                                                                |  |  |
|                                 | Step<br>1                                                                                 | Description / Expected Result<br>Description:                                                                                                                                                                                                   |  |  |
|                                 |                                                                                           | Decoding of the CBEFF Header, Biometric Header Template (BHT) (XML ele<br>ment <data>) for each fingerprint                                                                                                                                     |  |  |
|                                 |                                                                                           | Expected Result:                                                                                                                                                                                                                                |  |  |
|                                 |                                                                                           | Provision of the according biometric container including the fingerprint data:                                                                                                                                                                  |  |  |
|                                 |                                                                                           | CBEFF Patron Header Version = '0101'<br>•                                                                                                                                                                                                       |  |  |
|                                 |                                                                                           | BDB Biometric Type: value = '08' (Fingerprint)<br>•                                                                                                                                                                                             |  |  |
|                                 |                                                                                           | •<br>BDB Biometric Subtype: one of the following values:                                                                                                                                                                                        |  |  |
|                                 |                                                                                           | •<br>0000 0101 (thumb right)                                                                                                                                                                                                                    |  |  |
|                                 |                                                                                           | •<br>0000 0110 (thumb left)                                                                                                                                                                                                                     |  |  |
|                                 |                                                                                           | •<br>0000 1001 (index right)                                                                                                                                                                                                                    |  |  |
|                                 |                                                                                           | •<br>0000 1010 (index left)                                                                                                                                                                                                                     |  |  |
|                                 |                                                                                           | 0000 1101 (middle finger right)<br>•                                                                                                                                                                                                            |  |  |
|                                 |                                                                                           | 0000 1110 (middle finger left)<br>•                                                                                                                                                                                                             |  |  |
|                                 |                                                                                           | •<br>0001 0001 (ring finger right)                                                                                                                                                                                                              |  |  |
|                                 |                                                                                           | •<br>0001 0010 (ring finger left)                                                                                                                                                                                                               |  |  |
|                                 |                                                                                           | •<br>BDB Format Owner: value = '0x0101' (ISO/IEC JTC 1 SC 37-Biometrics)                                                                                                                                                                        |  |  |
|                                 |                                                                                           | •<br>BDB Format Type: value = '0x0007' (ISO/IEC JTC 1 SC 37-Biometrics)                                                                                                                                                                         |  |  |
|                                 | 2                                                                                         | Description:                                                                                                                                                                                                                                    |  |  |

Decoding of the general record header

### **Test Case ID: TC-COD-FP-GID-001**

### *Expected Result:*

- **•** Format Identifier = 0x46495200 ("FIR" Finger Image Record)
- **•** Version Number = 0x30313000 ("010")
- **•** Record Length = 32+ 1 \* (14 bytes + Data length)
- **•** Capture device ID = 2 bytes (Vendor specified)
- **•** Image acquisition level = '0x001F' (Level 31) or '0x0029' (Level 41)
- **•** Number of fingers = 1
- **•** Scale units = 1 (pixel/inch)
- **•** Scan resolution (horiz) = 01F4 (500ppi)
- **•** Scan resolution (vert) = 01F4 (500ppi)
- **•** Image resolution (horiz) <= Scan resolution (horiz)
- **•** Image resolution (vert) <= Scan resolution (vert)
- **•** Pixel depth = 08 (256 grae levels)
- **•** Image compression Algorithm = 02 ([WSQ\)](#page-163-11)
- **•** Reserved = 00 00
- *Description:*

Decoding of the finger image header record

*Expected Result:*

- **•** Length of finger data block (bytes) = includes header and the image data block
- **•** Finger position = finger code {1,2,3,4,6,7,8,9}
- **•** Count of views = '01'
- **•** View number = '01'
- **•** Finger image quality {0-100} or 255 in case of error
- **•** Impression type = 0 (Live-scan plain)
- **•** Horizontal line length >0
- **•** Vertical line length >0
- **•** Reserved = 00
- *Description:*

Examination of the finger image data

*Expected Result:*

- **•** Finger image data size < 18432 bytes
- **•** Encoded as [WSQ](#page-163-11) image
- **•** sf value coded in the image header unequal 0

**Table 2.183** Test Case ID: TC-COD-FP-GID-001

### 2.10.11 Test Cases FM COD-FP-VER

4

3

### **Test Case ID: TC-COD-FP-VER-001**

*Scope* Examine requirements for the coding used during the verification process of fingerpint images.

| Test Case ID: TC-COD-FP-VER-001 |                                                                                                                    |                                                                                                                                                                                           |  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Preconditions                   | •                                                                                                                  | The IUT is in operation, required modules are loaded.                                                                                                                                     |  |
|                                 | The integrated camera system used in the specific application scenario is connected.<br>•                          |                                                                                                                                                                                           |  |
|                                 | The IUT implements an interface for conformance testing where fingerprint images can be cap<br>•<br>tured.         |                                                                                                                                                                                           |  |
|                                 | The IUT is able to return the results as TR XML for every verification process of fingerprint<br>•<br>images.      |                                                                                                                                                                                           |  |
|                                 | •<br>As necessary test resources: a biometric test subject whose biometric features are acquired using<br>the IUT. |                                                                                                                                                                                           |  |
| CTS Mode                        | •<br>interactive                                                                                                   |                                                                                                                                                                                           |  |
|                                 | •<br>no provision of pre-defined input data                                                                        |                                                                                                                                                                                           |  |
|                                 | •<br>HTTP method: GET                                                                                              |                                                                                                                                                                                           |  |
|                                 | •<br>test case variants:                                                                                           |                                                                                                                                                                                           |  |
|                                 |                                                                                                                    |                                                                                                                                                                                           |  |
|                                 | /TR03122/TC-COD-FP-VER-001/1                                                                                       |                                                                                                                                                                                           |  |
|                                 | Table 2.186 TC-COD-FP-VER-001 Test Case Variants                                                                   |                                                                                                                                                                                           |  |
| Description                     | Step                                                                                                               | Description / Expected Result                                                                                                                                                             |  |
|                                 | 1                                                                                                                  | Description:                                                                                                                                                                              |  |
|                                 |                                                                                                                    | •<br>Perform the fingerprint image acquisition process using the IUT.                                                                                                                     |  |
|                                 |                                                                                                                    | •<br>Initiate a fingerprint verification process.                                                                                                                                         |  |
|                                 |                                                                                                                    | Expected Result:                                                                                                                                                                          |  |
|                                 |                                                                                                                    | The resulting data of the verification process is encoded in an appropriate XML<br>TR-03121 format and can be successfully validated against the TR-03121 XML<br>schema definition files. |  |

**Table 2.185** Test Case ID: TC-COD-FP-VER-001

# <span id="page-124-0"></span>3 Test Cases Partial Application Processes

The following sections define test cases for Partial Application Processes.

## <span id="page-124-1"></span>3.1 Test Cases PAP ACQ-FI-SV-5: Supervised Facial Image Acquisition System

| Test Case ID: TC-PAP-ACQ-FI-SV-5-001 |                                                                                                                                                                                                              |                                                                                                                                                                                           |  |  |
|--------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                | Examination of the availability and the correctness of veto power of the operator in the automated<br>and manual capturing process for facial image acquisition.                                             |                                                                                                                                                                                           |  |  |
|                                      | The test case is separated in different groups of steps:                                                                                                                                                     |                                                                                                                                                                                           |  |  |
|                                      | •                                                                                                                                                                                                            | Steps A.*: Test of manual rejection succeeded by an acceptance during automated facial image<br>acquisition.                                                                              |  |  |
|                                      | Steps B.*: Test of manual rejection succeeded by an acceptance, including switching from manu<br>•                                                                                                           | al to automated facial image acquisition.                                                                                                                                                 |  |  |
|                                      | Note that the support of a manual service mode is optional within the application context German<br>Identity Documents (GID). If the IUT does not supports a manual mode, the teststeps B.* are omit<br>ted. |                                                                                                                                                                                           |  |  |
| Preconditions                        | If HLBS is used by the system, service definition interface for "Facial Image Acquisiti<br>•<br>on" specified in TR-03121-2.2 is implemented.                                                                |                                                                                                                                                                                           |  |  |
|                                      | •<br>The integrated camera system used in the specific application scenario is connected.                                                                                                                    |                                                                                                                                                                                           |  |  |
| CTS Mode                             | •<br>interactive                                                                                                                                                                                             |                                                                                                                                                                                           |  |  |
|                                      | •<br>no provision of pre-defined input data                                                                                                                                                                  |                                                                                                                                                                                           |  |  |
|                                      | •<br>HTTP method: GET                                                                                                                                                                                        |                                                                                                                                                                                           |  |  |
|                                      | •<br>test case variants:                                                                                                                                                                                     |                                                                                                                                                                                           |  |  |
|                                      |                                                                                                                                                                                                              |                                                                                                                                                                                           |  |  |
|                                      | /TR03122/TC-PAP-ACQ-FI-SV-5-001/1<br>Table 3.2 TC-PAP-ACQ-FI-SV-5-001 Test Case Variants                                                                                                                     |                                                                                                                                                                                           |  |  |
| Description                          | Step                                                                                                                                                                                                         | Description / Expected Result                                                                                                                                                             |  |  |
|                                      | A.1                                                                                                                                                                                                          | Description:                                                                                                                                                                              |  |  |
|                                      |                                                                                                                                                                                                              | •<br>A single biometric subject is present in the IUT's acquisition area.                                                                                                                 |  |  |
|                                      |                                                                                                                                                                                                              | •<br>The operator starts an automated acquisition process of a facial image for<br>enrolment or verification/identification.                                                              |  |  |
|                                      |                                                                                                                                                                                                              | •<br>The operator triggers the capturing process of a facial image.                                                                                                                       |  |  |
|                                      |                                                                                                                                                                                                              | Expected Result:                                                                                                                                                                          |  |  |
|                                      |                                                                                                                                                                                                              | The IUT executes the process autonomously, i.e. system handles ent<br>•<br>ire process execution, including configuration of the camera system to the<br>height of the biometric subject. |  |  |
|                                      |                                                                                                                                                                                                              | The operator conducts a manual QA of the acquired facial image and re<br>•<br>views the software-based QA result.                                                                         |  |  |
|                                      | A.2                                                                                                                                                                                                          | Description:                                                                                                                                                                              |  |  |
|                                      |                                                                                                                                                                                                              | The operator rejects the acquired facial image.                                                                                                                                           |  |  |
|                                      |                                                                                                                                                                                                              | Expected Result:                                                                                                                                                                          |  |  |
|                                      |                                                                                                                                                                                                              | The IUT starts a new automated acquisition process of facial image for enrol<br>ment or verification/identification.                                                                      |  |  |
|                                      | A.3                                                                                                                                                                                                          | Description:                                                                                                                                                                              |  |  |
|                                      |                                                                                                                                                                                                              | The operator triggers the capturing process of a facial image.                                                                                                                            |  |  |

### **Test Case ID: TC-PAP-ACQ-FI-SV-5-001**

A.4

B.1

B.2

B.3

B.4

B.5

#### *Expected Result:*

- **•** The [IUT](#page-163-1) executes the process autonomously, i.e. system handles ent ire process execution, including configuration of the camera system to the height of the biometric subject.
- **•** The operator conducts a manual [QA of the acquired facial image and re](#page-163-12) views the software-based [QA](#page-163-12) result.

### *Description:*

The operator accepts the acquired facial image.

### *Expected Result:*

As a result, a message conforming to TR-03121 XML containing the encoded facial image is returned (bio:FaceAcquisition).

### *Description:*

- **•** A single biometric subject is present in the [IUT'](#page-163-1)s acquisition area.
- **•** The operator starts a manual acquisition process of facial image for enrol ment or verification/identification.

### *Expected Result:*

- **•** The [IUT](#page-163-1) executes the process where each sub-process requires manual handling of the operator.
- **•** The [IUT](#page-163-1)'s test interface offers the operator the option to manually adjust the camera system to the height of the biometric subject.

#### *Description:*

The operator triggers the automatic height configuration process of a facial image for enrolment or verification/identification.

### *Expected Result:*

The [IUT](#page-163-1) adjusts the configuration of the camera system to the height of the biometric subject.

#### *Description:*

The operator triggers the facial image capturing process.

### *Expected Result:*

- **•** The [IUT](#page-163-1) executes the face image capturing process.
- **•** The operator conducts a manual [QA of the acquired facial image and re](#page-163-12) views the software-based [QA](#page-163-12) result.

### *Description:*

The operator rejects the acquired facial image.

#### *Expected Result:*

- **•** The [IUT](#page-163-1) starts a new manual acquisition process of facial image for enrol ment or verification/identification.
- **•** The [IUT](#page-163-1) executes the process where each sub-process requires manual handling of the operator.

### *Description:*

The operator triggers the automatic height configuration process of a facial image for enrolment or verification/identification.

### *Expected Result:*

The [IUT](#page-163-1) adjusts the configuration of the camera system to the height of the biometric subject.

### B.6 *Description:*

The operator triggers the facial image capturing process.

### **Test Case ID: TC-PAP-ACQ-FI-SV-5-001**

### *Expected Result:*

- **•** The [IUT](#page-163-1) executes the face image capturing process.
- **•** The operator conducts a manual [QA of the acquired facial image and re](#page-163-12) views the software-based [QA](#page-163-12) result.

### *Description:*

The operator accepts the acquired facial image.

*Expected Result:*

As a result, a message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).

#### **Table 3.1** Test Case ID: TC-PAP-ACQ-FI-SV-5-001

B.7

| Test Case ID: TC-PAP-ACQ-FI-SV-5-002 |                                                                                                                                               |                                                                                                                                              |  |  |
|--------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                | Examination of the availability and correctness camera adjustment in manual captu<br>ring process for facial image acquisition.               |                                                                                                                                              |  |  |
| Preconditions                        | •<br>If HLBS is used by the system, service definition interface for "Facial Image Acquisiti<br>on" specified in TR-03121-2.2 is implemented. |                                                                                                                                              |  |  |
|                                      | •<br>The integrated camera system used in the specific application scenario is connected.                                                     |                                                                                                                                              |  |  |
| CTS Mode                             | •<br>interactive                                                                                                                              |                                                                                                                                              |  |  |
|                                      | no provision of pre-defined input data<br>•                                                                                                   |                                                                                                                                              |  |  |
|                                      | •<br>HTTP method: GET                                                                                                                         |                                                                                                                                              |  |  |
|                                      | •<br>test case variants:                                                                                                                      |                                                                                                                                              |  |  |
|                                      |                                                                                                                                               | /TR03122/TC-PAP-ACQ-FI-SV-5-002/1                                                                                                            |  |  |
|                                      |                                                                                                                                               | Table 3.4 TC-PAP-ACQ-FI-SV-5-002 Test Case Variants                                                                                          |  |  |
| Description                          | Step                                                                                                                                          | Description / Expected Result                                                                                                                |  |  |
|                                      | 1                                                                                                                                             | Description:                                                                                                                                 |  |  |
|                                      |                                                                                                                                               | •<br>A single biometric subject is present in the IUT's acquisition area.                                                                    |  |  |
|                                      |                                                                                                                                               | The operator starts a manual acquisition process of facial image for enrol<br>•<br>ment or verification/identification.                      |  |  |
|                                      |                                                                                                                                               | Expected Result:                                                                                                                             |  |  |
|                                      |                                                                                                                                               | •<br>The IUT executes the process where each sub-process requires manual<br>handling of the operator.                                        |  |  |
|                                      |                                                                                                                                               | •<br>The IUT's test interface offers the operator the option to manually adjust<br>the camera system to the height of the biometric subject. |  |  |
|                                      | 2                                                                                                                                             | Description:                                                                                                                                 |  |  |
|                                      |                                                                                                                                               | The operator triggers the automatic height configuration process of a facial<br>image for enrolment or verification/identification.          |  |  |
|                                      |                                                                                                                                               | Expected Result:                                                                                                                             |  |  |
|                                      |                                                                                                                                               | The IUT adjusts the configuration of the camera system to the height of the<br>biometric subject.                                            |  |  |
|                                      | 3                                                                                                                                             | Description:                                                                                                                                 |  |  |
|                                      |                                                                                                                                               | The operator triggers the facial image capturing process.                                                                                    |  |  |
|                                      |                                                                                                                                               | Expected Result:                                                                                                                             |  |  |
|                                      |                                                                                                                                               | •<br>The IUT executes the face image capturing process.                                                                                      |  |  |
|                                      |                                                                                                                                               | •<br>The operator conducts a manual QA of the acquired facial image and re<br>views the software-based QA result.                            |  |  |

| Test Case ID: TC-PAP-ACQ-FI-SV-5-002 |                                                                                                                                              |  |
|--------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|--|
| 4                                    | Description:                                                                                                                                 |  |
|                                      | The operator rejects the acquired facial image.                                                                                              |  |
|                                      | Expected Result:                                                                                                                             |  |
|                                      | •<br>The IUT starts a new manual acquisition process of facial image for enrol<br>ment or verification/identification.                       |  |
|                                      | •<br>The IUT executes the process where each sub-process requires manual<br>handling of the operator.                                        |  |
|                                      | •<br>The IUT's test interface offers the operator the option to manually adjust<br>the camera system to the height of the biometric subject. |  |
| 5                                    | Description:                                                                                                                                 |  |
|                                      | The operator manually increases the height configuration of camera sys<br>tem up to the maximum height configuration.                        |  |
|                                      | Expected Result:                                                                                                                             |  |
|                                      | The IUT adjusts the configuration of camera system to height configu<br>red by the operator.                                                 |  |
| 6                                    | Description:                                                                                                                                 |  |
|                                      | The operator manually decreases the height configuration of camera sys<br>tem down to the minimum height configuration.                      |  |
|                                      | Expected Result:                                                                                                                             |  |
|                                      | The IUT adjusts the configuration of camera system to height configu<br>red by the operator.                                                 |  |
| 7                                    | Description:                                                                                                                                 |  |
|                                      | The operator triggers the facial image capturing process.                                                                                    |  |
|                                      | Expected Result:                                                                                                                             |  |
|                                      | The IUT executes the face image capturing process.<br>•                                                                                      |  |
|                                      | •<br>The operator conducts a manual QA of the acquired facial image and re<br>views the software-based QA result.                            |  |
| 8                                    | Description:                                                                                                                                 |  |
|                                      | The operator accepts the acquired facial image.                                                                                              |  |
|                                      | Expected Result:                                                                                                                             |  |
|                                      | As a result, a message conforming to TR-03121 XML containing the encoded                                                                     |  |

**Table 3.3** Test Case ID: TC-PAP-ACQ-FI-SV-5-002

| Test Case ID: TC-PAP-ACQ-FI-SV-5-003 |                                                                                                                                                              |  |  |  |
|--------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope                                | Examination of the availability and correctness switching functionality between au<br>tomated and the manual capturing process for facial image acquisition. |  |  |  |
| Preconditions                        | •<br>If HLBS is used by the system, service definition interface for "Facial Image Acquisiti<br>on" specified in TR-03121-2.2 is implemented.                |  |  |  |
|                                      | •<br>The integrated camera system used in the specific application scenario is connected.                                                                    |  |  |  |

facial image is returned via the test interface (bio:FaceAcquisition).

### **Test Case ID: TC-PAP-ACQ-FI-SV-5-003**

*CTS Mode* **•** interactive

1

2

3

4

5

- **•** no provision of pre-defined input data
- **•** HTTP method: GET
- **•** test case variants:

/TR03122/TC-PAP-ACQ-FI-SV-5-003/3

**Step Description / Expected Result** *Description:*

*Description*

| Table 3.6 TC-PAP-ACQ-FI-SV-5-003 Test Case Variants |  |
|-----------------------------------------------------|--|
|-----------------------------------------------------|--|

- **•** A single biometric subject is present in the [IUT'](#page-163-1)s acquisition area.
- **•** The operator starts a manual acquisition process of facial image for enrol ment or verification/identification.
- **•** The operator switches from the manual acquisition process to an automated acquisition process.
- **•** The operator triggers the capturing process of a facial image.

### *Expected Result:*

- **•** The [IUT](#page-163-1) executes the process autonomously, i.e. system handles ent ire process execution, including configuration of the camera system to the height of the biometric subject.
- **•** The operator conducts a manual [QA of the acquired facial image and re](#page-163-12) views the software-based [QA](#page-163-12) result.

### *Description:*

The operator rejects the acquired facial image.

### *Expected Result:*

The [IUT starts a new automated acquisition process of facial image for enrol](#page-163-1) ment or verification/identification.

### *Description:*

The operator switches from the automated acquisition process to a manual ac quisition process.

### *Expected Result:*

- **•** The [IUT](#page-163-1) executes the process where each sub-process requires manual handling of the operator.
- **•** The [IUT](#page-163-1)'s test interface offers the operator the option to manually adjust the camera system to the height of the biometric subject.

### *Description:*

The operator triggers the automatic height configuration process of a facial image for enrolment or verification/identification.

### *Expected Result:*

The [IUT](#page-163-1) adjusts the configuration of the camera system to the height of the biometric subject.

### *Description:*

The operator triggers the facial image capturing process.

### *Expected Result:*

- **•** The [IUT](#page-163-1) executes the face image capturing process.
- **•** The operator conducts a manual [QA of the acquired facial image and re](#page-163-12) views the software-based [QA](#page-163-12) result.

### **Test Case ID: TC-PAP-ACQ-FI-SV-5-003**

6

*Description:*

The operator accepts the acquired facial image.

*Expected Result:*

As a result, a message conforming to TR-03121 XML containing the encoded facial image is returned via the test interface (bio:FaceAcquisition).

**Table 3.5** Test Case ID: TC-PAP-ACQ-FI-SV-5-003

## <span id="page-129-0"></span>3.2 Test Cases PAP ACQ-FI-AUTO-1: Automated Facial Image Acquisition

| Test Case ID: TC-PAP-ACQ-FI-AUTO-1-001 |                                                                                                                                     |                                                                                                                                                                                                                                                            |
|----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Scope                                  |                                                                                                                                     | Examination of the correctness and duration of the unsupervised automated face image acquisition<br>processes for optimal face presentations (bona fide).                                                                                                  |
| Preconditions                          | •<br>If HLBS is used by the system, service definition for "Facial Image Acquisition" speci<br>fied in TR-03121-2.2 is implemented. |                                                                                                                                                                                                                                                            |
|                                        | •                                                                                                                                   | The integrated camera system used in the specific application scenario is connected.                                                                                                                                                                       |
|                                        | •                                                                                                                                   | Depending on the scenario the IUT is used in (supervised or non-supervised), PAD functionali<br>ty is to be activated or disabled for performing the test case. The active setting has to be regarded<br>when the results of this test case are evaluated. |
| CTS Mode                               | •<br>interactive                                                                                                                    |                                                                                                                                                                                                                                                            |
|                                        | •<br>No provision of pre-defined input data                                                                                         |                                                                                                                                                                                                                                                            |
|                                        | •<br>HTTP method: GET                                                                                                               |                                                                                                                                                                                                                                                            |
|                                        | test case variants:<br>•                                                                                                            |                                                                                                                                                                                                                                                            |
|                                        |                                                                                                                                     |                                                                                                                                                                                                                                                            |
|                                        |                                                                                                                                     | /TR03122/TC-PAP-ACQ-FI-AUTO-1-001/1                                                                                                                                                                                                                        |
| Description                            |                                                                                                                                     | Table 3.8 TC-PAP-ACQ-FI-AUTO-1-001 Test Case Variants                                                                                                                                                                                                      |
|                                        | Step                                                                                                                                | Description / Expected Result                                                                                                                                                                                                                              |
|                                        | 1                                                                                                                                   | Description:                                                                                                                                                                                                                                               |
|                                        |                                                                                                                                     | •<br>A single biometric subject is present in the IUT's capture area.<br>The process for automated facial image acquisition is started.                                                                                                                    |
|                                        |                                                                                                                                     | •<br>Expected Result:                                                                                                                                                                                                                                      |
|                                        |                                                                                                                                     |                                                                                                                                                                                                                                                            |
|                                        |                                                                                                                                     | The IUT guides the biometric subject to present a compliant face presentati<br>•<br>on according to FM AS-FI-ICS3.                                                                                                                                         |
|                                        |                                                                                                                                     | •<br>The IUT adjusts the configuration of the camera system to the height of the<br>biometric subject.                                                                                                                                                     |
|                                        | 2                                                                                                                                   | Description:                                                                                                                                                                                                                                               |
|                                        |                                                                                                                                     | The biometric subject enters alone in the optimal distance range.                                                                                                                                                                                          |
|                                        |                                                                                                                                     | Expected Result:                                                                                                                                                                                                                                           |
|                                        |                                                                                                                                     | All acceptance conditions (no multiple faces and optimal distance) are met ac<br>cording to FM AS-FI-ICS3.                                                                                                                                                 |
|                                        | 3                                                                                                                                   | Description:                                                                                                                                                                                                                                               |
|                                        |                                                                                                                                     | The biometric subject performs an optimal (bona fide) face presentation.                                                                                                                                                                                   |

### **Test Case ID: TC-PAP-ACQ-FI-AUTO-1-001**

### *Expected Result:*

- **•** The [IUT](#page-163-1) captures a face image.
- **•** Depending on the [PAD](#page-163-7) configuration, the [IUT](#page-163-1) performs a [PAD](#page-163-7).
- **•** In case the [IUT](#page-163-1) performs a [PAD, all acceptance conditions are met accord](#page-163-7) ing to PAD-FI-APP.
- **•** The [IUT](#page-163-1) assesses the quality of the captured face image.
- **•** All acceptance conditions are met according to QA-FI-GENERIC.
- **•** As a result, a message conforming to TR-03121 XML containing the encoded facial image is returned (bio:FaceAcquisition).
- **•** Regarding acquisition time, the following requirements are met (depending on the application context in question):
	- **•** Within the application context Border Control (BCL), time requi red for the overall facial image acquisition process did not exceed ten se conds if [PAD](#page-163-7) is performed or seven seconds if no [PAD](#page-163-7) is performed.
	- **•** Within the application context German Identity Documents (GID), the time required for the overall facial image acquisition process did not ex ceed thirty seconds (including [PAD\)](#page-163-7).

#### **Table 3.7** Test Case ID: TC-ACQ-FI-AUTO-1-001

| Test Case ID: TC-ACQ-FI-AUTO-1-002 |                                                                                                                                                                                                                                                                 |                                                                                                                                                                    |  |
|------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                              |                                                                                                                                                                                                                                                                 | Examination of the correctness and availability of timeout of the unsupervised automated face<br>image acquisition processes for non-compliant face presentations. |  |
| Preconditions                      | •<br>If HLBS is used by the system, service definition for "Facial Image Acquisition" speci<br>fied in TR-03121-2.2 is implemented.                                                                                                                             |                                                                                                                                                                    |  |
|                                    | •                                                                                                                                                                                                                                                               | The integrated camera system used in the specific application scenario is connected.                                                                               |  |
|                                    | •<br>Depending on the scenario the IUT is used in (supervised or non-supervised), PAD functionali<br>ty is to be activated or disabled for performing the test case. The active setting has to be regarded<br>when the results of this test case are evaluated. |                                                                                                                                                                    |  |
| CTS Mode                           | •<br>interactive                                                                                                                                                                                                                                                |                                                                                                                                                                    |  |
|                                    | •                                                                                                                                                                                                                                                               | no provision of pre-defined input data                                                                                                                             |  |
|                                    | •<br>test case variants:                                                                                                                                                                                                                                        |                                                                                                                                                                    |  |
|                                    |                                                                                                                                                                                                                                                                 |                                                                                                                                                                    |  |
|                                    |                                                                                                                                                                                                                                                                 | /TR03122/TC-PAP-ACQ-FI-AUTO-1-002/1                                                                                                                                |  |
|                                    |                                                                                                                                                                                                                                                                 | Table 3.10 TC-PAP-ACQ-FI-AUTO-1-002 Test Case Variants                                                                                                             |  |
| Description                        | Step                                                                                                                                                                                                                                                            | Description / Expected Result                                                                                                                                      |  |
|                                    | 1                                                                                                                                                                                                                                                               | Description:                                                                                                                                                       |  |
|                                    |                                                                                                                                                                                                                                                                 | •<br>A single biometric subject is present in the IUT's capture area.                                                                                              |  |
|                                    |                                                                                                                                                                                                                                                                 | •<br>The process for automated facial image acquisition is started.                                                                                                |  |
|                                    |                                                                                                                                                                                                                                                                 | Expected Result:                                                                                                                                                   |  |
|                                    |                                                                                                                                                                                                                                                                 | The IUT guides the biometric subject to present a compliant face presentati<br>•<br>on according to FM AS-FI-ICS3.                                                 |  |
|                                    |                                                                                                                                                                                                                                                                 | The IUT adjusts the configuration of the camera system to the height of the<br>•<br>biometric subject.                                                             |  |
|                                    | 2                                                                                                                                                                                                                                                               | Description:                                                                                                                                                       |  |
|                                    |                                                                                                                                                                                                                                                                 | The biometric subject enters alone in the optimal distance range.                                                                                                  |  |

### **Test Case ID: TC-ACQ-FI-AUTO-1-002**

3

4

*Expected Result:*

- **•** All acceptance conditions (no multiple faces and optimal distance) are met according to FM AS-FI-ICS3.
- **•** As a result, a message conforming to TR-03121 XML containing the encoded facial image is returned (bio:FaceAcquisition).

### *Description:*

The biometric subject performs an non-conformant face presentation, e.g. the biometric subject does not look in the camera or disappears from the system.

### *Expected Result:*

- **•** The [IUT](#page-163-1) captures a face image.
- **•** Depending on the [PAD](#page-163-7) configuration, the [IUT](#page-163-1) performs a [PAD](#page-163-7).
- **•** In case the [IUT](#page-163-1) performs a [PAD, all acceptance conditions are met accord](#page-163-7) ing to PAD-FI-APP.
- **•** The [IUT](#page-163-1) assesses the quality of the captured face image.
- **•** The acceptance conditions are met according to QA-FI-GENERIC.

### *Description:*

The biometric subject repeats Step 3 for the duration of configured time out.

#### *Expected Result:*

- **•** The [IUT](#page-163-1) repeats the automated face image acquisition process until the timeout exceeds.
- **•** After the timeout is exceeded the [IUT aborts the face image acquisition pro](#page-163-1) cess.
- **•** After the timeout is exceeded a message conforming to TR-03121 XML con taining the encoded facial image exhibiting the best quality of all captured images may be returned (bio:FaceAcquisition).

**Table 3.9** Test Case ID: TC-ACQ-FI-AUTO-1-002

### <span id="page-131-0"></span>3.3 Test Cases PAP ACQ-FI-SV-2: Supervised Facial Image Acquisition with CIR Lookup

| Test Case ID: TC-PAP-ACQ-FI-SV-2_001 |                                                                                                                                          |  |  |
|--------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                | Verify correct behaviour of the image acquisition process when a single admissible is avail<br>able from Central Identity Register (CIR) |  |  |
| Preconditions                        | •<br>IUT is running, required modules are loaded                                                                                         |  |  |
|                                      | •<br>As necessary test resource:                                                                                                         |  |  |
|                                      | A locally available facial image of a test person (simulating CIR data)                                                                  |  |  |
| CTS Mode                             | interactive<br>•                                                                                                                         |  |  |
|                                      | Image provision as BMP or JPEG using the test interface (TR-03122-1, Chapter 4, "Conformance<br>•<br>Test Interfaces")                   |  |  |
|                                      | •<br>HTTP method: POST                                                                                                                   |  |  |
|                                      | •<br>test case variants:                                                                                                                 |  |  |
|                                      |                                                                                                                                          |  |  |
|                                      | /TR03122/TC-PAP-ACQ-FI-SV-2-001/1/                                                                                                       |  |  |
|                                      | Table 3.12 TC-PAP-ACQ-FI-SV-2-001 Test Case Variants                                                                                     |  |  |
| Description                          | Step<br>Description / Expected Result                                                                                                    |  |  |

| Test Case ID: TC-PAP-ACQ-FI-SV-2_001 |                                                                                                                                                                                                        |
|--------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1                                    | Description:                                                                                                                                                                                           |
|                                      | •<br>Check display of loaded image in IUT                                                                                                                                                              |
|                                      | •<br>Initiate test case by loading the reference facial image using inter<br>face                                                                                                                      |
|                                      | Expected Result:                                                                                                                                                                                       |
|                                      | The resource image used as input is displayed within the GUI of the IUT, if ap<br>plicable cropped and aligned                                                                                         |
| 2                                    | Description:                                                                                                                                                                                           |
|                                      | Check quality indication of loaded image                                                                                                                                                               |
|                                      | Expected Result:                                                                                                                                                                                       |
|                                      | A bio:FaceQuality element is returned by the IUT via the test interface and<br>an indication whether the face image from the CIR is reusable is given by the<br>IUT.                                   |
| 3                                    | Description:                                                                                                                                                                                           |
|                                      | Verify availability option for manual capture                                                                                                                                                          |
|                                      | Expected Result:                                                                                                                                                                                       |
|                                      | Besides displaying the loaded image, the IUT presents the option to capture a<br>new live image (do not perform).                                                                                      |
| 4                                    | Description:                                                                                                                                                                                           |
|                                      | Check proper take over of image by IUT<br>•                                                                                                                                                            |
|                                      | •<br>Select the displayed image for re-use                                                                                                                                                             |
|                                      | Expected Result:                                                                                                                                                                                       |
|                                      | The selected image is accepted for the further process within the IUT (either<br>sufficient quality indication or by operator veto).                                                                   |
| 5                                    | Description:                                                                                                                                                                                           |
|                                      | •<br>Verify encoding of selected image                                                                                                                                                                 |
|                                      | Proceed in the process until facial image is encoded output for<br>•<br>mat for export to CIR                                                                                                          |
|                                      | Expected Result:                                                                                                                                                                                       |
|                                      | The selected image is encoded and returned via the test interface in an ap<br>•<br>propriate XML format, e.g. as GSAT3 XML embedded within a TR-03121<br>XML (element bio:XMLRecord[@type="GSAT-xml"]) |

**•** The therein contained image data matches the of previously selec ted image (after proper decoding of element itl:FaceImage)

**Table 3.11** Test Case ID: TC-PAP-ACQ-FI-SV-2\_001

| Test Case ID: TC-PAP-ACQ-FI-SV-2_002 |                                                                                                                        |  |
|--------------------------------------|------------------------------------------------------------------------------------------------------------------------|--|
| Scope                                | Verify correct behaviour of the image acquisition process in case multiple admissible images are<br>available from CIR |  |
| Preconditions                        | •<br>IUT is running, required modules are loaded                                                                       |  |
|                                      | As necessary test resource:<br>•                                                                                       |  |
|                                      | Multiple locally available facial images of a test person (simulating CIR data)                                        |  |

- *CTS Mode* **•** interactive
	- **•** Images are provided as BMP or JPEG in a single XML file using the test interface (TR-03122-1, Chapter 4, "Conformance Test Interfaces")
	- **•** HTTP method: POST
	- **•** test case variants:

*Description*

|      | Table 3.14 TC-PAP-ACQ-FI-SV-2-002 Test Case Variants                                                                                                                                                                                                                   |
|------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Step | Description / Expected Result                                                                                                                                                                                                                                          |
| 1    | Description:                                                                                                                                                                                                                                                           |
|      | Check display of loaded images in IUT<br>•                                                                                                                                                                                                                             |
|      | •<br>Initiate test case by loading the reference facial images using inter<br>face                                                                                                                                                                                     |
|      | Expected Result:                                                                                                                                                                                                                                                       |
|      | The resource images used as input are displayed within the GUI of the IUT, if<br>applicable cropped and aligned.                                                                                                                                                       |
| 2    | Description:                                                                                                                                                                                                                                                           |
|      | Check quality indication of loaded images                                                                                                                                                                                                                              |
|      | Expected Result:                                                                                                                                                                                                                                                       |
|      | The quality assessment result for each displayed image is indicated and a hint<br>regarding re-usability of each image is given by the IUT. Further, the images<br>are displayed in descending order of QA-rating and the best image is indicated<br>and pre-selected. |
| 3    | Description:                                                                                                                                                                                                                                                           |
|      | Verify availability option for manual capture                                                                                                                                                                                                                          |
|      | Expected Result:                                                                                                                                                                                                                                                       |
|      | Besides the display of the available images, the IUT presents the option to cap<br>ture a new live image (do not perform).                                                                                                                                             |
| 4    | Description:                                                                                                                                                                                                                                                           |
|      | •<br>Check proper take over of image by IUT                                                                                                                                                                                                                            |
|      | Select one of the displayed images for re-use<br>•                                                                                                                                                                                                                     |
|      | Expected Result:                                                                                                                                                                                                                                                       |
|      | The selected image is accepted for the further process within the IUT (either<br>sufficient quality indication or by operator veto).                                                                                                                                   |
| 5    | Description:                                                                                                                                                                                                                                                           |
|      | •<br>Verify encoding of selected image                                                                                                                                                                                                                                 |
|      | •<br>Proceed in the process until facial image is encoded output for<br>mat for export to CIR                                                                                                                                                                          |
|      | Expected Result:                                                                                                                                                                                                                                                       |
|      | The selected image is encoded and returned via the test interface in an ap<br>•<br>propriate XML format, e.g. as GSAT3 XML embedded within a TR-03121<br>XML (element bio:XMLRecord[@type="GSAT-xml"])                                                                 |
|      |                                                                                                                                                                                                                                                                        |

**•** The therein contained image data matches the of previously selec ted image (after proper decoding of element itl:FaceImage)

**Table 3.13** Test Case ID: TC-PAP-ACQ-FI-SV-2\_002

| Test Case ID: TC-PAP-ACQ-FI-SV-2_003 |                                                                                                        |                                                                                                                                              |  |  |  |
|--------------------------------------|--------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope                                |                                                                                                        | Verify correct behaviour of the image acquisition when no admissible image is available from CIR                                             |  |  |  |
| Preconditions                        | •                                                                                                      | IUT is running, required modules are loaded                                                                                                  |  |  |  |
|                                      | •                                                                                                      | A connected digital camera, accessible by IUT                                                                                                |  |  |  |
|                                      | •                                                                                                      | If HLBS is used by the system, the HLBS service definition for "Basic Facial Image Acquisition"<br>specified in TR-03121-2.2 is implemented. |  |  |  |
|                                      | no provision of pre-defined input data; Test case initiation via test interface (TR-03122-1, Chap<br>• | ter 4, "Conformance Test Interfaces")                                                                                                        |  |  |  |
| CTS Mode                             | interactive<br>•                                                                                       |                                                                                                                                              |  |  |  |
|                                      | •                                                                                                      | no provision of pre-defined input data                                                                                                       |  |  |  |
|                                      | •<br>HTTP method: GET                                                                                  |                                                                                                                                              |  |  |  |
|                                      | •<br>test case variants:                                                                               |                                                                                                                                              |  |  |  |
|                                      |                                                                                                        |                                                                                                                                              |  |  |  |
|                                      |                                                                                                        | /TR03122/TC-PAP-ACQ-FI-SV-2-003/1/                                                                                                           |  |  |  |
|                                      |                                                                                                        | Table 3.16 TC-PAP-ACQ-FI-SV-2-003 Test Case Variants                                                                                         |  |  |  |
| Description                          | Step                                                                                                   | Description / Expected Result                                                                                                                |  |  |  |
|                                      | 1                                                                                                      | Description:                                                                                                                                 |  |  |  |
|                                      |                                                                                                        | •<br>Verify proper behaviour of IUT                                                                                                          |  |  |  |
|                                      |                                                                                                        | •<br>Initiate test case by calling the IUT via the test interface                                                                            |  |  |  |
|                                      |                                                                                                        | •<br>Check for dialogue in order to perform a live capture                                                                                   |  |  |  |
|                                      |                                                                                                        | Expected Result:                                                                                                                             |  |  |  |
|                                      |                                                                                                        | •<br>IUT does not display any images                                                                                                         |  |  |  |
|                                      |                                                                                                        | IUT displays the option to perform a live capture<br>•                                                                                       |  |  |  |
|                                      | 2                                                                                                      | Description:                                                                                                                                 |  |  |  |
|                                      |                                                                                                        | Check availability of live image acquisition process                                                                                         |  |  |  |
|                                      |                                                                                                        | Expected Result:                                                                                                                             |  |  |  |
|                                      |                                                                                                        | When option for live acquisition is selected, the process starts                                                                             |  |  |  |
|                                      | 3                                                                                                      | Description:                                                                                                                                 |  |  |  |
|                                      |                                                                                                        | Check availability of live image acquisition process                                                                                         |  |  |  |
|                                      |                                                                                                        | Perform a facial capture intentionally resulting in subsequent quality as<br>•<br>sessment to fail                                           |  |  |  |
|                                      |                                                                                                        | Check for hint and option to re-capture in IUT (ignore both)<br>•                                                                            |  |  |  |
|                                      |                                                                                                        | •<br>Check for availability of option to veto (i.e. override the negative result of<br>the quality assessment)                               |  |  |  |
|                                      |                                                                                                        | •<br>Put in veto                                                                                                                             |  |  |  |
|                                      |                                                                                                        | Expected Result:                                                                                                                             |  |  |  |
|                                      |                                                                                                        | •<br>Veto is accepted by IUT                                                                                                                 |  |  |  |
|                                      |                                                                                                        | •<br>Captured photo is used in further steps of process                                                                                      |  |  |  |
|                                      | 4                                                                                                      | Description:                                                                                                                                 |  |  |  |
|                                      |                                                                                                        | Verify encoding of selected image<br>•                                                                                                       |  |  |  |
|                                      |                                                                                                        | •<br>Proceed in the process until facial image is encoded output for<br>mat for export to CIR                                                |  |  |  |

### *Expected Result:*

- **•** The selected image is encoded and returned via the test interface in an ap propriate XML format, e.g. as [GSAT3](#page-163-6) XML embedded within a TR-03121 XML (element bio:XMLRecord[@type="GSAT-xml"])
- **•** The therein contained image data matches the of previously captu red image (after proper decoding of element itl:FaceImage)

**Table 3.15** Test Case ID: TC-PAP-ACQ-FI-SV-2\_003

## <span id="page-135-0"></span>3.4 Test Cases PAP ACQ-FI-SV-4: Supervised Facial Image Acquisition

| Test Case ID: TC-PAP-ACQ-FI-SV-4-001 |                                                                                                                                     |                                                                                                          |  |  |
|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|--|--|
| Scope                                | Verify correct behaviour of facial image acquisition process using live enrolment equipment opera<br>ted by an operator.            |                                                                                                          |  |  |
| Preconditions                        | •                                                                                                                                   | The IUT is in operation, required modules are loaded.                                                    |  |  |
|                                      | If HLBS is used by the system, service definition for "Facial Image Acquisition" speci<br>•<br>fied in TR-03121-2.2 is implemented. |                                                                                                          |  |  |
|                                      | •<br>As test resource: a biometric test subject.                                                                                    |                                                                                                          |  |  |
| CTS Mode                             | •<br>interactive                                                                                                                    |                                                                                                          |  |  |
|                                      | •<br>no provision of pre-defined input data                                                                                         |                                                                                                          |  |  |
|                                      | •<br>HTTP method: GET                                                                                                               |                                                                                                          |  |  |
|                                      | •<br>test case variants:                                                                                                            |                                                                                                          |  |  |
|                                      |                                                                                                                                     |                                                                                                          |  |  |
|                                      |                                                                                                                                     | /TR03122/TC-PAP-ACQ-FI-SV-4-001/1/                                                                       |  |  |
|                                      |                                                                                                                                     | Table 3.18 TC-PAP-ACQ-FI-SV-4-001 Test Case Variants                                                     |  |  |
| Description                          | Step                                                                                                                                | Description / Expected Result                                                                            |  |  |
|                                      | 1                                                                                                                                   | Description:                                                                                             |  |  |
|                                      |                                                                                                                                     | Check the automatic capturing of a proper facial image.                                                  |  |  |
|                                      |                                                                                                                                     | •<br>Initiate test case using the test interface.                                                        |  |  |
|                                      |                                                                                                                                     | •<br>Place the biometric test subject properly in front of the digital camera.                           |  |  |
|                                      |                                                                                                                                     | •<br>Wait for an automatic captured image.                                                               |  |  |
|                                      |                                                                                                                                     | Verify the displayed image and accept it.<br>•                                                           |  |  |
|                                      |                                                                                                                                     | Expected Result:                                                                                         |  |  |
|                                      |                                                                                                                                     | •<br>The IUT captured a facial image automatically.                                                      |  |  |
|                                      |                                                                                                                                     | •<br>The captured image is cropped and derotated.                                                        |  |  |
|                                      |                                                                                                                                     | •<br>A quality assessment of the captured image has been performed.                                      |  |  |
|                                      |                                                                                                                                     | •<br>The image is displayed by the IUT.                                                                  |  |  |
|                                      |                                                                                                                                     | •<br>The image is released to the requesting application after beeing accepted.                          |  |  |
|                                      |                                                                                                                                     | As a result, an image is returned via the test interface in XML-Log confor<br>•<br>ming to TR-03121 XML. |  |  |

### **Test Case ID: TC-PAP-ACQ-FI-SV-4-001**

2

### *Description:*

Check the automatic capturing of an insufficient facial image.

- **•** Initiate test case using the test interface.
- **•** Place the biometric test subject inproperly in front of the digital camera. The quality assessment of the captured images has to be negative for every capture. At least two images SHALL be captured.
- **•** Wait for the timeout.
- **•** Accept the displayed image.

#### *Expected Result:*

- **•** The [IUT](#page-163-1) captured a facial images automatically.
- **•** A quality assessment of the captured images was negative.
- **•** The [IUT](#page-163-1) chose the best captured image and displayes it.
- **•** The image can be cropped and rotated manually.
- **•** The image is released to the requesting application after beeing accepted.
- **•** As a result, an image is returned via the test interface in XML-Log confor ming to TR-03121 XML.

#### *Description:*

3

Check the manual capturing of an image. Note, the quality of the captured image is not relevant for this test.

- **•** Initiate test case using the test interface.
- **•** Verify the option to capture an image manually.
- **•** Capture an image manually.
- **•** Verify the option to crop and rotate the captured image.
- **•** Accept the image.

#### *Expected Result:*

- **•** The [IUT](#page-163-1) displays an option to take an image manually.
- **•** An image was captured and is displayed by the [IUT.](#page-163-1)
- **•** The displayed image can be cropped and rotated manually.
- **•** The image is released to the requesting application after being accepted.
- **•** As a result, an image is returned via the test interface in XML-Log confor ming to TR-03121 XML.

#### 4

## *Description:*

Check correct timeout handling.

- **•** Initiate test case using the test interface without placing a test subject in front of the camera.
- **•** Wait for the timeout to trigger.

### *Expected Result:*

- **•** No image was captured.
- **•** The acquisition process ended.

### **Test Case ID: TC-PAP-ACQ-FI-SV-4-001**

5

### *Description:*

Check the rejection of a captured image and restart capturing process af ter image rejection.

- **•** Initiate test case using the test interface.
- **•** Wait roughly 70 % of the timeout time.
- **•** Capture an image.
- **•** Reject the captured image.
- **•** Wait roughly 70 % of the timeout time.
- **•** Capture a new image without restarting the capturing process manually.

### *Expected Result:*

- **•** The [IUT](#page-163-1) displays an image.
- **•** An image can be and was manually rejected.
- **•** The image capture process was restarted automatically.
- **•** The timeout was reset and did not end the capturing process.
- **•** A new image could be captured.

**Table 3.17** Test Case ID: TC-PAP-ACQ-FI-SV-4-001

### <span id="page-137-0"></span>3.5 Test Cases PAP ACQ-FPS-SV-1: Supervised Acquisition Single Slap

| Test Case ID: TC-PAP-ACQ-FPS-SV-1_001 |                                                                                                                                         |                                                                                                                  |  |  |
|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                 |                                                                                                                                         | Verify the overall supervised acquisition process for single slap images.                                        |  |  |
| Preconditions                         | •<br>The IUT is in operation, required modules are loaded.                                                                              |                                                                                                                  |  |  |
|                                       | •<br>Hardware capable of capturing fingerprint images is connected.                                                                     |                                                                                                                  |  |  |
|                                       | •<br>As test resource: a biometric test subject for fingerprint capture.                                                                |                                                                                                                  |  |  |
|                                       | •<br>If HLBS is used by the system, the "Service Definition Fingerprint Acquisition" of Part 2, Volume<br>2 of TR-03121 is implemented. |                                                                                                                  |  |  |
| CTS Mode                              | •<br>interactive                                                                                                                        |                                                                                                                  |  |  |
|                                       | no provision of pre-defined input data<br>•                                                                                             |                                                                                                                  |  |  |
|                                       | •<br>HTTP method: GET                                                                                                                   |                                                                                                                  |  |  |
|                                       | •<br>test case variants:                                                                                                                |                                                                                                                  |  |  |
|                                       |                                                                                                                                         | /TR03122/TC-PAP-ACQ-FPS-SV-1-001/1                                                                               |  |  |
|                                       |                                                                                                                                         | Table 3.20 TC-PAP-ACQ-FPS-SV-1-001 Test Case Variants                                                            |  |  |
| Description                           | Step                                                                                                                                    | Description / Expected Result                                                                                    |  |  |
|                                       |                                                                                                                                         |                                                                                                                  |  |  |
|                                       | 1                                                                                                                                       | Description:                                                                                                     |  |  |
|                                       |                                                                                                                                         | Check the Process without a second slap capture.                                                                 |  |  |
|                                       |                                                                                                                                         | Initiate test case using the test interface.<br>•                                                                |  |  |
|                                       |                                                                                                                                         | •<br>Select one finger as missing.                                                                               |  |  |
|                                       |                                                                                                                                         | •<br>Follow the instructions of the IUT for the slap placement on the scanner for<br>the biometric test subject. |  |  |

2

### *Expected Result:*

- **•** The instructions were displayed and correct for the captured fingers.
- **•** The process ended without capturing the second slap.
- **•** A message conforming to TR-03121 XML containing the images for cap tured fingers is returned via the test interface.

### *Description:*

Check the Process with a second slap capture.

- **•** Initiate test case using the test interface.
- **•** Follow the instructions of the [IUT](#page-163-1) for the slap placement on the scanner for the biometric test subject.
- **•** Choose to capture the second slap.
- **•** Follow the instructions of the [IUT](#page-163-1) for the slap placement on the scanner for the biometric test subject.

*Expected Result:*

- **•** The instructions were displayed for both slaps and correct for the captured fingers.
- **•** The process ended after capturing the second slap.
- **•** A message conforming to TR-03121 XML containing the encoded images is returned via the test interface.

**Table 3.19** Test Case ID: TC-PAP-ACQ-FPS-SV-1\_001

| Test Case ID: TC-PAP-ACQ-FPS-SV-1_002 |                                                                          |                                                                                                                  |  |
|---------------------------------------|--------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|--|
| Scope                                 |                                                                          | Verify the correct acquisition process for a single slap.                                                        |  |
| Preconditions                         | The IUT is in operation, required modules are loaded.<br>•               |                                                                                                                  |  |
|                                       | Hardware capable of capturing fingerprint images is connected.<br>•      |                                                                                                                  |  |
|                                       | •<br>As test resource: a biometric test subject for fingerprint capture. |                                                                                                                  |  |
| CTS Mode                              | •<br>interactive                                                         |                                                                                                                  |  |
|                                       | •<br>no provision of pre-defined input data                              |                                                                                                                  |  |
|                                       | •<br>HTTP method: GET                                                    |                                                                                                                  |  |
|                                       | •<br>test case variants:                                                 |                                                                                                                  |  |
|                                       |                                                                          | /TR03122/TC-PAP-ACQ-FPS-SV-1-002/1                                                                               |  |
|                                       |                                                                          | Table 3.22 TC-PAP-ACQ-FPS-SV-1-002 Test Case Variants                                                            |  |
| Description                           | Step                                                                     | Description / Expected Result                                                                                    |  |
|                                       | 1                                                                        | Description:                                                                                                     |  |
|                                       |                                                                          | Check the segmentation, quality assessment and PAD of the slap image acqui<br>sition.                            |  |
|                                       |                                                                          | •<br>Initiate test case using the test interface.                                                                |  |
|                                       |                                                                          | •<br>Follow the instructions of the IUT for the slap placement on the scanner for<br>the biometric test subject. |  |
|                                       |                                                                          | •<br>Choose not to capture the second slap.                                                                      |  |

#### *Expected Result:*

- **•** The captured slap image has been segmented into four single fingerprint images.
- **•** The quality assesment is performed for each single fingerprint image indivi dually.
- **•** [PAD](#page-163-7) has been performed and no warning or error is shown.
- **•** Uniqueness check has been performed and no warning or error for duplica ted fingerprints is shown.
- **•** A message conforming to TR-03121 XML containing the encoded images with the QA value and PAD result is returned via the test interface.

### *Description:*

Check the uniqueness check of the slap image acquisition.

- **•** Initiate test case using the test interface.
- **•** Follow the instructions of the [IUT](#page-163-1) for the slap placement on the scanner for the biometric test subject.
- **•** Choose to capture the second slap
- **•** Place the same hand again on the finger scan area.

### *Expected Result:*

- **•** The [IUT](#page-163-1) shows a warning or error for duplicated fingerprint images.
- **•** A message conforming to TR-03121 XML containing the warning was retur ned via the test interface.

3

2

### *Description:*

Check the slap classifier. *(Only for Volume ARE: This test step is skipped if the re commended FM AS-FP-SLP is not implemented.)*

- **•** Verfiy the option to toggle the slap classifier between off and evaluation mode.
- **•** Set the slap classifier to evaluation mode.
- **•** Initiate test case using the test interface.
- **•** Follow the instructions of the [IUT](#page-163-1) for the slap placement on the scanner for the biometric test subject.
- **•** Choose to capture the second slap
- **•** Place the same hand again on the finger scan area.

*Expected Result:*

- **•** The [IUT](#page-163-1) threw an error.
- **•** A message conforming to TR-03121 XML containing the error was returned via the test interface.

**Table 3.21** Test Case ID: TC-PAP-ACQ-FPS-SV-1\_002

| Test Case ID: TC-PAP-ACQ-FPS-SV-1_003 |                                                                                                                                      |  |
|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                                 | Verify the correct behaviour of supervised acquisition process for a single finger. This test case co<br>vers PAP Task ACQ-FPP-SV-2. |  |
| Preconditions                         | •<br>The IUT is in operation, required modules are loaded.                                                                           |  |
|                                       | •<br>Hardware capable of capturing fingerprint images is connected.                                                                  |  |
|                                       | As test resource: a biometric test subject for fingerprint capture.<br>•                                                             |  |

|             | •<br>no provision of pre-defined input data<br>•<br>HTTP method: GET |                                                                                                                              |  |  |
|-------------|----------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|--|--|
|             |                                                                      |                                                                                                                              |  |  |
|             | •                                                                    | test case variants:                                                                                                          |  |  |
|             |                                                                      |                                                                                                                              |  |  |
|             |                                                                      | /TR03122/TC-PAP_ACQ-FPS-SV-1-003/1                                                                                           |  |  |
|             |                                                                      | Table 3.24 TC-PAP-ACQ-FPS-SV-1_003 Test Case Variants                                                                        |  |  |
| Description | Step                                                                 | Description / Expected Result                                                                                                |  |  |
|             | 1                                                                    | Description:                                                                                                                 |  |  |
|             |                                                                      | Check the behaviour of captured images.                                                                                      |  |  |
|             |                                                                      | •<br>Initiate test case using the test interface.                                                                            |  |  |
|             |                                                                      | Start the acquisition process and switch to the single finger acquisition.<br>•                                              |  |  |
|             |                                                                      | •<br>Follow the instructions of the IUT for the single finger placement on the<br>scanner for the biometric test subject.    |  |  |
|             |                                                                      | Expected Result:                                                                                                             |  |  |
|             |                                                                      | •<br>PAD has been performed and no warning or error is shown.                                                                |  |  |
|             |                                                                      | •<br>Uniqueness check has been performed and no warning or error for duplica<br>ted fingerprints is shown.                   |  |  |
|             |                                                                      | •<br>A message conforming to TR-03121 XML containing the fingerprint and its<br>QA value is returned via the test interface. |  |  |
|             | 2                                                                    | Description:                                                                                                                 |  |  |
|             |                                                                      | Check the uniqueness check.                                                                                                  |  |  |
|             |                                                                      | Initiate test case using the test interface.<br>•                                                                            |  |  |
|             |                                                                      | •<br>Select one finger as missing.                                                                                           |  |  |
|             |                                                                      | •<br>Start the acquisition process and switch to the single finger acquisition.                                              |  |  |
|             |                                                                      | •<br>Follow the instructions of the IUT for the single finger placement on the<br>scanner for the biometric test subject.    |  |  |
|             |                                                                      | •<br>Place the same finger on the finger scan area.                                                                          |  |  |
|             |                                                                      | Expected Result:                                                                                                             |  |  |
|             |                                                                      | The IUT shows a warning or error for duplicated fingerprint images.<br>•                                                     |  |  |
|             |                                                                      | A message conforming to TR-03121 XML containing the error was returned<br>•<br>via the test interface.                       |  |  |
|             | Table 3.23 Test Case ID: TC-PAP-ACQ-FPS-SV-1_003                     |                                                                                                                              |  |  |

| Test Case ID: TC-PAP-ACQ-FPS-SV-1_004 |                                                                                                                                         |  |  |
|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                 | Verify the overall supervised acquisition process for single slap images where the capture is forced<br>manually.                       |  |  |
| Preconditions                         | The IUT is in operation, required modules are loaded.<br>•                                                                              |  |  |
|                                       | •<br>Hardware capable of capturing fingerprint images is connected.                                                                     |  |  |
|                                       | •<br>As test resource: a biometric test subject for fingerprint capture.                                                                |  |  |
|                                       | •<br>If HLBS is used by the system, the "Service Definition Fingerprint Acquisition" of Part 2, Volume<br>2 of TR-03121 is implemented. |  |  |

**Test Case ID: TC-PAP-ACQ-FPS-SV-1\_003** *CTS Mode* **•** interactive

|             | Test Case ID: TC-PAP-ACQ-FPS-SV-1_004 |                                                                                                                                                                                                                           |  |  |  |  |
|-------------|---------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|
| CTS Mode    | •<br>interactive                      |                                                                                                                                                                                                                           |  |  |  |  |
|             | •                                     | no provision of pre-defined input data                                                                                                                                                                                    |  |  |  |  |
|             | •                                     | HTTP method: GET                                                                                                                                                                                                          |  |  |  |  |
|             | •                                     | test case variants:                                                                                                                                                                                                       |  |  |  |  |
|             |                                       |                                                                                                                                                                                                                           |  |  |  |  |
|             | /TR03122/TC-PAP-ACQ-FPS-SV-1-004/1    |                                                                                                                                                                                                                           |  |  |  |  |
|             |                                       | Table 3.26 TC-PAP-ACQ-FPS-SV-1-004 Test Case Variants                                                                                                                                                                     |  |  |  |  |
| Description | Step                                  | Description / Expected Result                                                                                                                                                                                             |  |  |  |  |
|             | 1                                     | Description:                                                                                                                                                                                                              |  |  |  |  |
|             |                                       | Check the Process without a second slap capture.                                                                                                                                                                          |  |  |  |  |
|             |                                       | Initiate test case using the test interface.<br>•                                                                                                                                                                         |  |  |  |  |
|             |                                       | •<br>Follow the instructions of the IUT for the slap placement on the scanner for<br>the biometric test subject, but place the fingers in such a manner (with bad<br>quality) that the pre-qualification is insufficient. |  |  |  |  |
|             |                                       | •<br>The operator forces the capture manually.                                                                                                                                                                            |  |  |  |  |
|             |                                       | •<br>Choose not to capture the second slap.                                                                                                                                                                               |  |  |  |  |
|             |                                       | Expected Result:                                                                                                                                                                                                          |  |  |  |  |
|             |                                       | •<br>The instructions were displayed and correct for the captured fingers.                                                                                                                                                |  |  |  |  |
|             |                                       | •<br>The process ended without capturing the second slap.                                                                                                                                                                 |  |  |  |  |
|             |                                       | A message conforming to TR-03121 XML containing the images for cap<br>•<br>tured fingers is returned via the test interface.                                                                                              |  |  |  |  |
|             |                                       | In case the quality of captured slap was too bad and therefore a segmen<br>•<br>tation was not possible, an error message is shown. In this case a TR-03121<br>XML is not required.                                       |  |  |  |  |

### **Table 3.25** Test Case ID: TC-PAP-ACQ-FPS-SV-1\_004

| Test Case ID: TC-PAP-ACQ-FPS-SV-1_005 |                                                                                                                                                                          |  |  |
|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                 | Verify the correct behaviour of supervised acquisition process for a single finger where the capture<br>is forced manually. This test case covers PAP Task ACQ-FPP-SV-2. |  |  |
| Preconditions                         | The IUT is in operation, required modules are loaded.<br>•                                                                                                               |  |  |
|                                       | •<br>Hardware capable of capturing fingerprint images is connected.                                                                                                      |  |  |
|                                       | •<br>As test resource: a biometric test subject for fingerprint capture.                                                                                                 |  |  |
| CTS Mode                              | •<br>interactive                                                                                                                                                         |  |  |
|                                       | •<br>no provision of pre-defined input data                                                                                                                              |  |  |
|                                       | •<br>HTTP method: GET                                                                                                                                                    |  |  |
|                                       | test case variants:<br>•                                                                                                                                                 |  |  |
|                                       |                                                                                                                                                                          |  |  |
|                                       | /TR03122/TC-PAP_ACQ-FPS-SV-1-005/1                                                                                                                                       |  |  |
|                                       | Table 3.28 TC-PAP-ACQ-FPS-SV-1_005 Test Case Variants                                                                                                                    |  |  |
| Description                           | Step<br>Description / Expected Result                                                                                                                                    |  |  |

1

### *Description:*

Check the behaviour of captured images.

- **•** Initiate test case using the test interface.
- **•** Start the acquisition process and switch to the single finger acquisition.
- **•** Follow the instructions of the [IUT](#page-163-1) for the single finger placement on the scanner for the biometric test subject, but place fingers in such a man ner (with bad quality) that the pre-qualification is insufficient.
- **•** The operator forces the capture manually.

*Expected Result:*

- **•** [PAD](#page-163-7) has been performed and no warning or error is shown.
- **•** Uniqueness check has been performed and no warning or error for duplica ted fingerprints is shown. Further, the overall result of the uniqueness check is logged properly.
- **•** A message conforming to TR-03121 XML containing the fingerprint and its QA value is returned via the test interface.

**Table 3.27** Test Case ID: TC-PAP-ACQ-FPS-SV-1\_005

### <span id="page-142-0"></span>3.6 Test Cases PAP ACQ-FP442-SV-1: Supervised Acquisition 4-4-2 for Enrolment

|               | Test Case ID: TC-PAP-ACQ-FP442-SV-1_001 |                                                                                                                                          |  |  |  |
|---------------|-----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope         |                                         | Verify the overall process of supervised acquisition of fingerprint slaps in the order of 4-4-2.                                         |  |  |  |
| Preconditions | •                                       | The IUT is in operation, required modules are loaded.                                                                                    |  |  |  |
|               | •                                       | Hardware capable of capturing fingerprint images is connected.                                                                           |  |  |  |
|               | •                                       | As test resource: a biometric test subject for fingerprint capture.                                                                      |  |  |  |
|               | •                                       | If HLBS is used by the system, the "Service Definition Fingerprint Acquisition" of Part 2, Volume<br>2 of TR-03121 is implemented.       |  |  |  |
| CTS Mode      | •                                       | interactive                                                                                                                              |  |  |  |
|               | •                                       | no provision of pre-defined input data                                                                                                   |  |  |  |
|               | •                                       | HTTP method: GET                                                                                                                         |  |  |  |
|               | test case variants:<br>•                |                                                                                                                                          |  |  |  |
|               |                                         |                                                                                                                                          |  |  |  |
|               |                                         | /TR03122/TC-PAP-ACQ-FP442-SV-1-001/1                                                                                                     |  |  |  |
|               |                                         | Table 3.30 TC-PAP-ACQ-FP442-SV-1-001 Test Case Variants                                                                                  |  |  |  |
| Description   | Step                                    | Description / Expected Result                                                                                                            |  |  |  |
|               | 1                                       | Description:                                                                                                                             |  |  |  |
|               |                                         | Verify the order of captured fingerprint images.                                                                                         |  |  |  |
|               |                                         | Initiate test case using the test interface.<br>•                                                                                        |  |  |  |
|               |                                         | Follow the instructions of the IUT for the slap placement on the scanner for<br>•<br>the biometric test subject.                         |  |  |  |
|               |                                         | Expected Result:                                                                                                                         |  |  |  |
|               |                                         | •<br>The instructions are displayed and correct.                                                                                         |  |  |  |
|               |                                         | •<br>The order of captured fingerprint images is right slap, left slap, both thumbs.                                                     |  |  |  |
|               |                                         | •<br>A message conforming to TR-03121 XML containing the encoded images<br>within FingerAcquisition is returned via the test interface . |  |  |  |

2

### *Description:*

This test case PAP ACQ-FP4141-SV-1 uses PAP Task ACQ-FPS-SV-1 and PAP Task ACQ-FPP-SV-2 which have been defined as part of PAP ACQ-FPS-SV-1. [Test Cases PAP ACQ-FPS-SV-1: Supervised Acquisition Single Slap](#page-137-0) has to be tested separately for conformance.

*Expected Result:*

[Test Cases PAP ACQ-FPS-SV-1: Supervised Acquisition Single Slap](#page-137-0) is passed.

**Table 3.29** Test Case ID: TC-PAP-ACQ-FP442-SV-1\_001

## <span id="page-143-0"></span>3.7 Test Cases PAP ACQ-FP4141-SV-1: Supervised Acquisition 4-1-4-1 for Enrolment

| Test Case ID: TC-PAP-ACQ-FP4141-SV-1_001 |                                                                                                   |                                                                                                                                                                                                                              |  |  |  |
|------------------------------------------|---------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope                                    | Verify the overall process of supervised acquisition of fingeprint slaps in the order of 4-1-4-1. |                                                                                                                                                                                                                              |  |  |  |
| Preconditions                            | •                                                                                                 | The IUT is in operation, required modules are loaded.                                                                                                                                                                        |  |  |  |
|                                          | •                                                                                                 | Hardware capable of capturing fingerprint images is connected.                                                                                                                                                               |  |  |  |
|                                          | •                                                                                                 | As test resource: a biometric test subject for fingerprint capture.                                                                                                                                                          |  |  |  |
|                                          | •                                                                                                 | If HLBS is used by the system, the "Service Definition Fingerprint Acquisition" of Part 2, Volume<br>2 of TR-03121 is implemented.                                                                                           |  |  |  |
| CTS Mode                                 | •<br>interactive                                                                                  |                                                                                                                                                                                                                              |  |  |  |
|                                          | •                                                                                                 | no provision of pre-defined input data                                                                                                                                                                                       |  |  |  |
|                                          | •                                                                                                 | HTTP method: GET                                                                                                                                                                                                             |  |  |  |
|                                          | •                                                                                                 | test case variants:                                                                                                                                                                                                          |  |  |  |
|                                          |                                                                                                   | /TR03122/TC-PAP-ACQ-FP4141-SV-1-001/1                                                                                                                                                                                        |  |  |  |
|                                          |                                                                                                   | Table 3.32 TC-PAP-ACQ-FP4141-SV-1-001 Test Case Variants                                                                                                                                                                     |  |  |  |
| Description                              | Step                                                                                              | Description / Expected Result                                                                                                                                                                                                |  |  |  |
|                                          | 1                                                                                                 | Description:                                                                                                                                                                                                                 |  |  |  |
|                                          |                                                                                                   | Verifys the order of captured fingerprint images.                                                                                                                                                                            |  |  |  |
|                                          |                                                                                                   | •<br>Initiate test case using the test interface.                                                                                                                                                                            |  |  |  |
|                                          |                                                                                                   | •<br>Follow the instructions of the IUT for the slap placement on the scanner for<br>the biometric test subject.                                                                                                             |  |  |  |
|                                          |                                                                                                   | Expected Result:                                                                                                                                                                                                             |  |  |  |
|                                          |                                                                                                   | The instructions are displayed and correct.<br>•                                                                                                                                                                             |  |  |  |
|                                          |                                                                                                   | The order of captured fingerprint images is right slap, right thumb, left slap,<br>•<br>left thumb.                                                                                                                          |  |  |  |
|                                          |                                                                                                   | •<br>A message conforming to TR-03121 XML containing the encoded images<br>within FingerAcquisition is returned via the test interface .                                                                                     |  |  |  |
|                                          | 2                                                                                                 | Description:                                                                                                                                                                                                                 |  |  |  |
|                                          |                                                                                                   | This test case PAP ACQ-FP4141-SV-1 uses PAP Task ACQ-FPS-SV-1 and PAP<br>Task ACQ-FPP-SV-2 which have been defined as part of PAP ACQ-FPS-SV-1.<br>Test Cases PAP ACQ-FPS-SV-1: Supervised Acquisition Single Slap has to be |  |  |  |
|                                          |                                                                                                   | tested separately for conformance.                                                                                                                                                                                           |  |  |  |
|                                          |                                                                                                   | Expected Result:                                                                                                                                                                                                             |  |  |  |
|                                          |                                                                                                   | Test Cases PAP ACQ-FPS-SV-1: Supervised Acquisition Single Slap is passed.                                                                                                                                                   |  |  |  |

**Table 3.31** Test Case ID: TC-PAP-ACQ-FP4141-SV-1\_001

## <span id="page-144-0"></span>3.8 Test Cases PAP ACQ-FP2P-SV-1: Supervised Acquisition of Two Plain Fingers on Multi-Finger Hardware for Enrolment

| Test Case ID: TC-PAP-ACQ-FP2P-SV-1_001 |                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|
| Scope                                  | Examination of the correct process for acquisition up to two fingerprints using fin<br>ger capture mode with a multi fingerprint scanner   |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
| Preconditions                          | •                                                                                                                                          | IUT is running, required modules are loaded                                                                                                                                                                                                                                                                                                                                                                                                                   |  |  |
|                                        | •<br>A multi fingerprint scanner is connected                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
|                                        | •<br>If HLBS is used by the system, the HLBS service definition for "Fingerprint Acquisition" specified<br>in TR-03121-2.2 is implemented. |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
|                                        | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
| CTS Mode                               | •<br>interactive                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
|                                        | •<br>no provision of pre-defined input data                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
|                                        | •<br>HTTP method: GET                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
|                                        | test case variants:<br>•                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
|                                        |                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
|                                        |                                                                                                                                            | /TR03122/TC-PAP-ACQ-FP2P-SV-1-001/1                                                                                                                                                                                                                                                                                                                                                                                                                           |  |  |
|                                        |                                                                                                                                            | Table 3.34 TC-PAP-ACQ-FP2P-SV-1-001 Test Case Variants                                                                                                                                                                                                                                                                                                                                                                                                        |  |  |
| Description                            | Step                                                                                                                                       | Description / Expected Result                                                                                                                                                                                                                                                                                                                                                                                                                                 |  |  |
|                                        | 1                                                                                                                                          | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                  |  |  |
|                                        |                                                                                                                                            | Check the correct execution of acquisition process with fingerprints suf<br>ficient quality                                                                                                                                                                                                                                                                                                                                                                   |  |  |
|                                        |                                                                                                                                            | •<br>Initiate test case by calling the IUT via the test interface                                                                                                                                                                                                                                                                                                                                                                                             |  |  |
|                                        |                                                                                                                                            | Perform the acquisition process of the two fingerprints<br>•                                                                                                                                                                                                                                                                                                                                                                                                  |  |  |
|                                        |                                                                                                                                            | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                              |  |  |
|                                        |                                                                                                                                            | •<br>The acquisition is triggered by placing the finger(s) on hard<br>ware in the two finger mode (right index and left index)                                                                                                                                                                                                                                                                                                                                |  |  |
|                                        |                                                                                                                                            | •<br>The IUT finishes without any error message                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |
|                                        |                                                                                                                                            | •<br>As a result, two encoded fingerprints (left and right index fingers) are retur<br>ned via the test interface in a message conforming to TR-03121 XML. The<br>XML must also include the information corresponding to performed ac<br>quisition process (element bio:FingerAcquisition and relevant sub-ele<br>ments). The raw fingerprint data may be stored either as sub-element of this<br>element or as descendant of the sibling element bio:Records |  |  |
|                                        | 2                                                                                                                                          | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                  |  |  |
|                                        |                                                                                                                                            | Check the correct execution of acquisition process with fingerprints suf<br>ficient quality, with a handicap on the right hand                                                                                                                                                                                                                                                                                                                                |  |  |
|                                        |                                                                                                                                            | •<br>Initiate test case by calling the IUT via the test interface                                                                                                                                                                                                                                                                                                                                                                                             |  |  |
|                                        |                                                                                                                                            | •<br>Mark index finger of the right hand as handicapped                                                                                                                                                                                                                                                                                                                                                                                                       |  |  |

**•** Perform the acquisition process

### *Expected Result:*

- **•** The [IUT](#page-163-1) allows marking handicapped fingers before acquisition
- **•** The acquisition is triggered by placing the finger(s) on hard ware
- **•** The marked finger is excluded from the acquisition process
- **•** The [IUT](#page-163-1) changes to single finger mode
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, two encoded fingerprints (right thumb, left index finger) are re turned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to performed ac quisition process (element bio:FingerAcquisition and relevant sub-ele ments). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records
- 3

#### *Description:*

Check the correct execution of acquisition process with fingerprints suf ficient quality, with a handicap on the left hand

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Mark index finger of the left hand as handicapped
- **•** Perform the acquisition process

### *Expected Result:*

- **•** The [IUT](#page-163-1) allows marking handicapped fingers before acquisition
- **•** The acquisition is triggered by placing the finger(s) on hard ware
- **•** The marked finger is excluded from the acquisition process
- **•** The [IUT](#page-163-1) changes to single finger mode
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, two encoded fingerprints (right index finger, left thumb) are re turned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to performed ac quisition process (element bio:FingerAcquisition and relevant sub-ele ments). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records
- 

### 4 *Description:*

Check the correct execution of acquisition process with fingerprints suf ficient quality, with a missing hand

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Mark a whole hand (right or left) as not available/handicapped
- **•** Perform the acquisition process

### *Expected Result:*

- **•** The [IUT](#page-163-1) allows marking a hand (or all fingers of one hand individually) as not available before acquisition
- **•** The acquisition is triggered by placing the finger(s) on hard ware
- **•** The marked hand is excluded from the acquisition process
- **•** The [IUT](#page-163-1) changes to single finger mode for the existing hand
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, two encoded fingerprints (index finger and thumb of left, re spectively right hand) are returned via the test interface in a message con forming to TR-03121 XML. The XML must also include the information cor responding to the performed acquisition process (element bio:FingerAc quisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records

### *Description:*

Check the correct execution of acquisition process with fingerprints in sufficient quality, regarding capture repetition

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Enforce insufficient quality of at least one fingerprint during capture
- **•** Perform the acquisition process

#### *Expected Result:*

- **•** The [IUT](#page-163-1) detects the insufficient quality and restarts the acquisition of the current slap
- **•** The acquisition of the slap of insufficient fingerprint quality is repeated twice (i.e. total of three performed attempts)
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, two encoded fingerprints (both index fingers) returned via the test interface in a message conforming to TR-03121 XML. The XML must al so include the information corresponding to performed acquisition pro cess (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records

#### *Description:*

Check whether the [IUT](#page-163-1) supports the execution of mandatory fallback sin gle-finger acquisition process for cases where a slap capture is not practical.

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Perform the acquisition process

*Expected Result:*

- **•** After selecting the two-finger sequence for multi-finger hardware, the [IUT](#page-163-1) offers an option to start acquisition in single finger mode
- **•** As a result, two encoded fingerprints (both index fingers) are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this ele ment or as descendant of the sibling element bio:Records

5

6

7

8

#### *Description:*

In case of a plain fingerprint enrolment scenario: Check whether the [IUT sup](#page-163-1) ports the execution of the mandatory fallback single finger acquisition process for fingers of insufficient quality.

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Ensure insufficient fingerprint quality of at least one fingerprint
- **•** Perform the acquisition process

### *Expected Result:*

- **•** After capturing the slap, the [IUT offers an option to start acquisition in sin](#page-163-1) gle finger mode
- **•** As a result, two encoded fingerprints (both index fingers) are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this ele ment or as descendant of the sibling element bio:Records

#### *Description:*

In case of a plain fingerprint enrolment scenario: Check whether the mandato ry fallback single finger acquisition process actually replaces the corresponding fingerprints from the slap capture.

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Enforce insufficient quality of one fingerprint during capture of slap
- **•** Ensure sufficient quality of the same fingerprint during capture in sin gle-finger acquisition
- **•** Perform the acquisition process

### *Expected Result:*

- **•** As a result, two encoded fingerprints (both index fingers) are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this ele ment or as descendant of the sibling element bio:Records
- **•** The enforced fingerprint of insufficient quality is replaced by the finger print of ensured good quality from single-finger acquisition

#### **Table 3.33** Test Case ID: TC-PAP-ACQ-FP2P-SV-1\_001

| Test Case ID: TC-PAP-ACQ-FP2P-SV-1_002 |                                                                                                                                                                                |  |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                                  | Examination of the correct process for acquisition up to two fingerprints using fin<br>ger capture mode with a multi fingerprint scanner where the capture is forced manually. |  |
| Preconditions                          | •<br>IUT is running, required modules are loaded                                                                                                                               |  |
|                                        | •<br>A multi fingerprint scanner is connected                                                                                                                                  |  |
|                                        | •<br>If HLBS is used by the system, the HLBS service definition for "Fingerprint Acquisition" specified<br>in TR-03121-2.2 is implemented.                                     |  |
|                                        | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with                                                                                    |  |

- *CTS Mode* **•** interactive
	- **•** no provision of pre-defined input data
	- **•** HTTP method: GET
	- **•** test case variants:

*Description*

|      | /TR03122/TC-PAP-ACQ-FP2P-SV-1-002/1                                                                                                                                                                                                                                                                                                                                                                                                                           |
|------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      | Table 3.36 TC-PAP-ACQ-FP2P-SV-1-002 Test Case Variants                                                                                                                                                                                                                                                                                                                                                                                                        |
| Step | Description / Expected Result                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1    | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|      | Check the correct execution of acquisition process with fingerprints suf<br>ficient quality                                                                                                                                                                                                                                                                                                                                                                   |
|      | Initiate test case by calling the IUT via the test interface, but place fin<br>•<br>gers in such a manner (with bad quality) that the pre-qualification is insuffi<br>cient.                                                                                                                                                                                                                                                                                  |
|      | The operator then forces the capture of the two fingerprints manually.<br>•                                                                                                                                                                                                                                                                                                                                                                                   |
|      | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|      | •<br>The acquisition is triggered by placing the finger(s) on hard<br>ware in the two finger mode (right index and left index)                                                                                                                                                                                                                                                                                                                                |
|      | •<br>The acquisition is triggered not until the operator forced capture manu<br>ally.                                                                                                                                                                                                                                                                                                                                                                         |
|      | •<br>The IUT finishes without any error message                                                                                                                                                                                                                                                                                                                                                                                                               |
|      | •<br>As a result, two encoded fingerprints (left and right index fingers) are retur<br>ned via the test interface in a message conforming to TR-03121 XML. The<br>XML must also include the information corresponding to performed ac<br>quisition process (element bio:FingerAcquisition and relevant sub-ele<br>ments). The raw fingerprint data may be stored either as sub-element of this<br>element or as descendant of the sibling element bio:Records |
| 2    | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|      | Check whether the IUT supports the execution of mandatory fallback sin<br>gle-finger acquisition process for cases where a slap capture is not practical.                                                                                                                                                                                                                                                                                                     |
|      | •<br>Initiate test case by calling the IUT via the test interface, but place fin<br>gers in such a manner (with bad quality) that the pre-qualification is insuffi<br>cient.                                                                                                                                                                                                                                                                                  |
|      | •<br>The operator then forces the capture of the two fingerprints manually.                                                                                                                                                                                                                                                                                                                                                                                   |
|      | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|      | After selecting the two-finger sequence for multi-finger hardware, the IUT<br>•<br>offers an option to start acquisition in single finger mode                                                                                                                                                                                                                                                                                                                |
|      | •<br>The acquisition is triggered not until the operator forced capture manu<br>ally.                                                                                                                                                                                                                                                                                                                                                                         |
|      | •<br>As a result, two encoded fingerprints (both index fingers) are returned via<br>the test interface in a message conforming to TR-03121 XML. The XML must<br>also include the information corresponding to the performed acquisition<br>process (element bio:FingerAcquisition and relevant sub-elements).<br>The raw fingerprint data may be stored either as sub-element of this ele                                                                     |

ment or as descendant of the sibling element bio:Records

**Table 3.35** Test Case ID: TC-PAP-ACQ-FP2P-SV-1\_002

## <span id="page-149-0"></span>3.9 Test Cases PAP ACQ-FP2P-SV-2: Supervised Acquisition of Two Plain Fingers on Single-Finger Hardware for Enrolment

| Test Case ID: TC-PAP-ACQ-FP2P-SV-2_001 |                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                       |  |
|----------------------------------------|-------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                                  | Examination of the correct process for acquisition up to two fingerprints using fin | ger capture mode with a single fingerprint scanner                                                                                                                                                                                                                                                                                                                                                                                                    |  |
| Preconditions                          | •                                                                                   | IUT is running, required modules are loaded                                                                                                                                                                                                                                                                                                                                                                                                           |  |
|                                        | •<br>A single fingerprint scanner is connected                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                       |  |
|                                        | •                                                                                   | If HLBS is used by the system, the HLBS service definition for "Fingerprint Acquisition" specified<br>in TR-03121-2.2 is implemented.                                                                                                                                                                                                                                                                                                                 |  |
|                                        | •                                                                                   | As necessary test resources: a test person to perform the fingerprint acquisition with                                                                                                                                                                                                                                                                                                                                                                |  |
| CTS Mode                               | •<br>interactive                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                       |  |
|                                        | •                                                                                   | no provision of pre-defined input data                                                                                                                                                                                                                                                                                                                                                                                                                |  |
|                                        | •<br>HTTP method: GET                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                       |  |
|                                        | •<br>test case variants:                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                       |  |
|                                        |                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                       |  |
|                                        |                                                                                     | /TR03122/TC-PAP-ACQ-FP2P-SV-2-001/1                                                                                                                                                                                                                                                                                                                                                                                                                   |  |
|                                        |                                                                                     | Table 3.38 TC-PAP-ACQ-FP2P-SV-2-001 Test Case Variants                                                                                                                                                                                                                                                                                                                                                                                                |  |
| Description                            | Step                                                                                | Description / Expected Result                                                                                                                                                                                                                                                                                                                                                                                                                         |  |
|                                        | 1                                                                                   | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                          |  |
|                                        |                                                                                     | Check the correct execution of acquisition process with fingerprints suf<br>ficient quality                                                                                                                                                                                                                                                                                                                                                           |  |
|                                        |                                                                                     | Initiate test case by calling the IUT via the test interface<br>•                                                                                                                                                                                                                                                                                                                                                                                     |  |
|                                        |                                                                                     | Perform the acquisition process of the two fingerprints<br>•                                                                                                                                                                                                                                                                                                                                                                                          |  |
|                                        |                                                                                     | Expected Result:                                                                                                                                                                                                                                                                                                                                                                                                                                      |  |
|                                        |                                                                                     | •<br>The acquisition is triggered by placing the finger(s) on hard<br>ware in the two finger mode (right index and left index)                                                                                                                                                                                                                                                                                                                        |  |
|                                        |                                                                                     | •<br>The IUT finishes without any error message                                                                                                                                                                                                                                                                                                                                                                                                       |  |
|                                        |                                                                                     | •<br>As a result, two encoded fingerprints (both index fingers) are returned via<br>the test interface in a message conforming to TR-03121 XML. The XML must<br>also include the information corresponding to the performed acquisition<br>process (element bio:FingerAcquisition and relevant sub-elements).<br>The raw fingerprint data may be stored either as sub-element of this ele<br>ment or as descendant of the sibling element bio:Records |  |
|                                        | 2                                                                                   | Description:                                                                                                                                                                                                                                                                                                                                                                                                                                          |  |
|                                        |                                                                                     | Check the correct execution of acquisition process with fingerprints suf<br>ficient quality, with a handicap on the right slap                                                                                                                                                                                                                                                                                                                        |  |
|                                        |                                                                                     | •<br>Initiate test case by calling the IUT via the test interface                                                                                                                                                                                                                                                                                                                                                                                     |  |
|                                        |                                                                                     | Mark index finger of the right slap as handicapped<br>•                                                                                                                                                                                                                                                                                                                                                                                               |  |
|                                        |                                                                                     | Perform the acquisition process<br>•                                                                                                                                                                                                                                                                                                                                                                                                                  |  |

### *Expected Result:*

- **•** The [IUT](#page-163-1) allows marking handicapped fingers before acquisition
- **•** The acquisition is triggered by placing the finger(s) on hard ware
- **•** The marked finger is excluded from the acquisition process
- **•** The [IUT](#page-163-1) changes to single finger mode
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, two encoded fingerprints (right thumb, left index finger) are re turned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to performed ac quisition process (element bio:FingerAcquisition and relevant sub-ele ments). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records
- 3

#### *Description:*

Check the correct execution of acquisition process with fingerprints suf ficient quality, with a handicap on the left slap

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Mark index finger of the left slap as handicapped
- **•** Perform the acquisition process

### *Expected Result:*

- **•** The [IUT](#page-163-1) allows marking handicapped fingers before acquisition
- **•** The acquisition is triggered by placing the finger(s) on hard ware
- **•** The marked finger is excluded from the acquisition process
- **•** The [IUT](#page-163-1) changes to single finger mode
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, two encoded fingerprints (right index finger, left thumb) are re turned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to performed ac quisition process (element bio:FingerAcquisition and relevant sub-ele ments). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records
- 

### 4 *Description:*

Check the correct execution of acquisition process with fingerprints suf ficient quality, with a missing hand.

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Mark a whole hand (right or left) as not available/handicapped
- **•** Perform the acquisition process

### *Expected Result:*

- **•** The [IUT](#page-163-1) allows marking a hand (or all fingers of one hand individually) as not available before acquisition
- **•** The acquisition is triggered by placing the finger(s) on hard ware
- **•** The marked hand is excluded from the acquisition process
- **•** The [IUT](#page-163-1) captures two fingerprints from the existing hand
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, two encoded fingerprints (index finger and thumb of left, re spectively right hand) are returned via the test interface in a message con forming to TR-03121 XML. The XML must also include the information cor responding to the performed acquisition process (element bio:FingerAc quisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records

### *Description:*

Check the correct execution of acquisition process with fingerprints in sufficient quality, regarding capture repetition

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Enforce insufficient quality of at least one fingerprint during capture
- **•** Perform the acquisition process

### *Expected Result:*

- **•** The [IUT](#page-163-1) detects the insufficient quality and restarts the acquisition of the current slap
- **•** The acquisition of the slap of insufficient fingerprint quality is repeated twice (i.e. total of three performed attempts)
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, two encoded fingerprints are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records

### **Table 3.37** Test Case ID: TC-PAP-ACQ-FP2P-SV-2\_001

| Test Case ID: TC-PAP-ACQ-FP2P-SV-2_002 |                                                                                                                                                                                 |  |
|----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                                  | Examination of the correct process for acquisition up to two fingerprints using fin<br>ger capture mode with a single fingerprint scanner where the capture is forced manually. |  |
| Preconditions                          | IUT is running, required modules are loaded<br>•                                                                                                                                |  |
|                                        | •<br>A single fingerprint scanner is connected                                                                                                                                  |  |
|                                        | •<br>If HLBS is used by the system, the HLBS service definition for "Fingerprint Acquisition" specified<br>in TR-03121-2.2 is implemented.                                      |  |
|                                        | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with                                                                                     |  |

5

### **Test Case ID: TC-PAP-ACQ-FP2P-SV-2\_002** *CTS Mode* **•** interactive **•** no provision of pre-defined input data **•** HTTP method: GET **•** test case variants: /TR03122/TC-PAP-ACQ-FP2P-SV-2-002/1 **Table 3.40** TC-PAP-ACQ-FP2P-SV-2-002 Test Case Variants **Step Description / Expected Result** *Description:* Check the correct execution of acquisition process with fingerprints suf ficient quality **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface, but place fin gers in such a manner (with bad quality) that the pre-qualification is insuffi cient. *Description* 1

**•** The operator then forces the capture of the two fingerprints manually.

### *Expected Result:*

- **•** The acquisition is triggered by placing the finger(s) on hard ware in the two finger mode (right index and left index)
- **•** The acquisition is triggered not until the operator forced capture manu ally.
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, two encoded fingerprints (both index fingers) are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this ele ment or as descendant of the sibling element bio:Records

**Table 3.39** Test Case ID: TC-PAP-ACQ-FP2P-SV-2\_002

## <span id="page-152-0"></span>3.10 Test Cases PAP ACQ-FP10R-SV-1: Ten Finger Rolled Supervised Acquisition for Enrolment

| Test Case ID: TC-PAP-ACQ-FP10R-SV-1_001 |                                                                                                                                                   |  |  |  |
|-----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope                                   | Examination of the correct process for the acquisition of up to ten rolled fingerprints                                                           |  |  |  |
| Preconditions                           | •<br>IUT is running                                                                                                                               |  |  |  |
|                                         | •<br>A fingerprint scanner providing rolled fingerprints is connected                                                                             |  |  |  |
|                                         | •<br>If HLBS is used by the system, the HLBS service definition for "Rolled Fingerprint Acquisition"<br>specified in TR-03121-2.2 is implemented. |  |  |  |
|                                         | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with                                                       |  |  |  |
| CTS Mode                                | interactive<br>•                                                                                                                                  |  |  |  |
|                                         | no provision of pre-defined input data<br>•                                                                                                       |  |  |  |
|                                         | •<br>HTTP method: GET                                                                                                                             |  |  |  |
|                                         | •<br>test case variants:                                                                                                                          |  |  |  |
|                                         |                                                                                                                                                   |  |  |  |
|                                         | /TR03122/TC-PAP-ACQ-FP10R-SV-1-001/1                                                                                                              |  |  |  |
|                                         | Table 3.42 TC-PAP-ACQ-FP10R-SV-1-001 Test Case Variants                                                                                           |  |  |  |
| Description                             | Step<br>Description / Expected Result                                                                                                             |  |  |  |

1

### *Description:*

Check the correct execution of acquisition process with fingerprints suf ficient quality

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Perform the flat acquisition process of all fingers in order to obtain ne cessary reference data for the control verification
- **•** Perform the rolled acquisition process of all fingers, beginning with the thumb of the right hand and ending with the little finger of the left hand

### *Expected Result:*

- **•** The acquisition of the reference slaps is performed by the [IUT](#page-163-1)
- **•** The [IUT](#page-163-1) successively performs the acquisition of the rolled fingerprints
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, ten encoded fingerprints are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records

### 2

### *Description:*

Check the correct execution of acquisition process with fingerprints suf ficient quality, with a handicapped finger

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Mark one finger as handicapped in the [IUT](#page-163-1)
- **•** Perform the acquisition process for the control slaps
- **•** Perform the acquisition process for the rolled prints

#### *Expected Result:*

- **•** The [IUT](#page-163-1) allows marking handicapped fingers before acquisition
- **•** The marked finger is excluded from both acquisition processes
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, nine encoded fingerprints are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records

### 3 *Description:*

Check the correct execution of acquisition process with fingerprints suf ficient quality, with multiple handicapped fingers

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Mark multiple fingers as handicapped in the [IUT](#page-163-1)
- **•** Perform the acquisition process for the control slaps
- **•** Perform the acquisition process for the rolled prints

4

### *Expected Result:*

- **•** The [IUT](#page-163-1) allows marking multiple handicapped fingers before acquisition.
- **•** The marked fingers are excluded from both acquisition processes.
- **•** The [IUT](#page-163-1) finishes without any error message.
- **•** As a result, encoded fingerprints (depending on missing ones) are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to performed acqui sition process (element bio:FingerAcquisition and relevant sub-ele ments). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records.

### *Description:*

Check the correct execution of acquisition process with fingerprints in sufficient quality, regarding capture repetition

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Enforce insufficient quality of at least one fingerprint during capture
- **•** Perform the acquisition process for the control slaps
- **•** Perform the acquisition process for the rolled prints

*Expected Result:*

- **•** The [IUT](#page-163-1) detects the insufficient quality and restarts the acquisition of the current finger
- **•** Perform the control slap acquisition regularly, e.g. without inducing errors
- **•** The rolled acquisition of the finger with insufficient fingerprint quality is repeated twice (i.e. total of three performed attempts)
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, ten encoded fingerprints are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records

**Table 3.41** Test Case ID: TC-PAP-ACQ-FP10R-SV-1\_001

| Test Case ID: TC-PAP-ACQ-FP10R-SV-1_002 |                                                                                                                                                   |  |  |  |
|-----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|
| Scope                                   | Examination of the correct process for the acquisition of rolled fingerprints in case the IUTs hard<br>ware reports issues                        |  |  |  |
| Preconditions                           | IUT is running<br>•                                                                                                                               |  |  |  |
|                                         | A fingerprint scanner providing rolled fingerprints is connected<br>•                                                                             |  |  |  |
|                                         | •<br>If HLBS is used by the system, the HLBS service definition for "Rolled Fingerprint Acquisition"<br>specified in TR-03121-2.2 is implemented. |  |  |  |
|                                         | •<br>As necessary test resources: a test person to perform the fingerprint acquisition with                                                       |  |  |  |
| CTS Mode                                | •<br>interactive                                                                                                                                  |  |  |  |
|                                         | •<br>no provision of pre-defined input data                                                                                                       |  |  |  |
|                                         | •<br>HTTP method: GET                                                                                                                             |  |  |  |
|                                         | test case variants:<br>•                                                                                                                          |  |  |  |
|                                         |                                                                                                                                                   |  |  |  |
|                                         | /TR03122/TC-PAP-ACQ-FP10R-SV-1-002/1                                                                                                              |  |  |  |
|                                         | Table 3.44 TC-PAP-ACQ-FP10R-SV-1-002 Test Case Variants                                                                                           |  |  |  |
| Description                             | Step<br>Description / Expected Result                                                                                                             |  |  |  |

1

### *Description:*

Check the correct execution of acquisition process with fingerprints suf ficient quality, but with hardware reported issues

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Perform the control slap acquisition regularly, e.g. without inducing errors
- **•** Enforce a hardware reported issue during the rolled capture process for at least one finger. Consult the documentation of the hardware in regards of supported issues (e.g. "finger shifted")
- **•** Repeat the capture without enforcing any further errors and finalize ac quisition process

### *Expected Result:*

- **•** The [IUT](#page-163-1) detects the hardware issue and restarts acquisition of cur rent finger.
- **•** The [IUT](#page-163-1) finishes without any error message.
- **•** As a result, ten encoded fingerprints are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw finger print data may be stored either as sub-element of this element or descen dant of the sibling element bio:Records. The rejectionReason element matches the reason chosen by the operator.

#### 2

### *Description:*

Check the correct execution of acquisition process with fingerprints in sufficient quality and with hardware reported issues

- **•** Initiate test case by calling the [IUT](#page-163-1) via the test interface
- **•** Perform the control slap acquisition regularly, e.g. without inducing errors
- **•** Enforce a hardware reported issue during the rolled capture process for at least one finger. Consult the documentation of the hardware in regards of supported issues (e.g. shift)
- **•** Two times: Enforce insufficient quality of the same fingerprint during the capture
- **•** For the remaining fingers: perform the acquisition process as usual

#### *Expected Result:*

- **•** The [IUT](#page-163-1) detects the hardware issue and restarts the rolled acquisition of the current finger
- **•** The [IUT](#page-163-1) detects the insufficient quality and restarts the rolled acquisition of the current finger
- **•** The acquisition was repeated twice in total (one time due to the rolling is sue, one time due to the quality)
- **•** The [IUT](#page-163-1) finishes without any error message
- **•** As a result, ten encoded fingerprints are returned via the test interface in a message conforming to TR-03121 XML. The XML must also include the information corresponding to the performed acquisition process (element bio:FingerAcquisition and relevant sub-elements). The raw fingerprint data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records. The repetition with the best [QA](#page-163-12) score is marked as "selected" and the rejectionReason for the first attempts matches the reason chosen by the operator.

| Test Case ID: TC-PAP-ACQ-FP10R-SV-1_002 |                                                                                                                                                                                                                                                                                                              |  |
|-----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| 3                                       | Description:                                                                                                                                                                                                                                                                                                 |  |
|                                         | Check the ability of operators to accept negative capture results in case both<br>fingerprints of insufficient quality and hardware reported issues are encounte<br>red                                                                                                                                      |  |
|                                         | •<br>Initiate test case by calling the IUT via the test interface                                                                                                                                                                                                                                            |  |
|                                         | Perform the control slap acquisition regularly, e.g. without inducing errors<br>•                                                                                                                                                                                                                            |  |
|                                         | •<br>Enforce a hardware reported issue during the rolled capture process for at<br>least one finger. Consult the documentation of the hardware in regards of<br>supported issues (e.g. shift)                                                                                                                |  |
|                                         | •<br>Enforce insufficient quality of the same fingerprint during capture                                                                                                                                                                                                                                     |  |
|                                         | •<br>Enforce another hardware reported issue during the final capture attempt<br>for the finger. Afterwards select the option to keep the current results                                                                                                                                                    |  |
|                                         | •<br>For the remaining fingers: perform the acquisition process as usual                                                                                                                                                                                                                                     |  |
|                                         | Expected Result:                                                                                                                                                                                                                                                                                             |  |
|                                         | •<br>The IUT detects the hardware issue and restarts acquisition of cur<br>rent finger.                                                                                                                                                                                                                      |  |
|                                         | •<br>The IUT detects the insufficient quality and restarts the acquisition of the<br>current finger.                                                                                                                                                                                                         |  |
|                                         | The IUT detects the hardware issue and offers to either restart the capture<br>•<br>or to continue with the current result.                                                                                                                                                                                  |  |
|                                         | As a result, ten encoded fingerprints are returned via the test interface in<br>•<br>a message conforming to TR-03121 XML. The XML must also include the<br>information corresponding to the performed acquisition process (element<br>bio:FingerAcquisition and relevant sub-elements). The raw fingerprint |  |

**Table 3.43** Test Case ID: TC-PAP-ACQ-FP10R-SV-1\_002

## <span id="page-156-0"></span>3.11 Test Cases PAP ACQ-FPS-USV-1: Unsupervised Acquisition Single Slap

data may be stored either as sub-element of this element or as descendant of the sibling element bio:Records. The first repetition with insufficient [QA](#page-163-12) score is marked as "selected" and the rejectionReason for the first and

last attempts matches the reason chosen by the operator.

| Test Case ID: TC-PAP-ACQ-FPS-USV-1_001 |                                                                                                                                            |  |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                                  | Verify the correct acquisition process for a single slap with four fingers and missing finger(s).                                          |  |
| Preconditions                          | •<br>The IUT is in operation, required modules are loaded.                                                                                 |  |
|                                        | •<br>Hardware capable of capturing fingerprint images is connected.                                                                        |  |
|                                        | •<br>If HLBS is used by the system, the HLBS service definition for "Fingerprint Acquisition" specified<br>in TR-03121-2.2 is implemented. |  |
|                                        | •<br>As test resource: a biometric test subject for fingerprint capture.                                                                   |  |
| CTS Mode                               | •<br>interactive                                                                                                                           |  |
|                                        | no provision of pre-defined input data<br>•                                                                                                |  |
|                                        | •<br>HTTP method: GET                                                                                                                      |  |
|                                        | •<br>test case variants:                                                                                                                   |  |
|                                        | /TR03122/TC-PAP-ACQ-FPS-USV-1-001/1<br>Table 3.46 TC-PAP-ACQ-FPS-USV-1-001 Test Case Variants                                              |  |
| Description                            |                                                                                                                                            |  |
|                                        | Step<br>Description / Expected Result                                                                                                      |  |

1

### *Description:*

Check the capturing of surveillance images, segmentation, quality assessment, [PAD,](#page-163-7) uniqueness check result and time required for the slap image acquisition.

- **•** Initiate test case using the test interface.
- **•** Present slap with four fingers.
- **•** Follow the instructions of the [IUT](#page-163-1) for the slap placement on the scanner for the biometric test subject.

### *Expected Result:*

- **•** The captured slap image are segmented into four single fingerprint images.
- **•** [PAD](#page-163-7) has been performed for each single fingerprint image and no warning or error (such as uniqueness check error) is shown.
- **•** Surveillance images are captured.
- **•** The quality assessment is performed for each single fingerprint image indi vidually.
- **•** The slap classification is performed.
- **•** The overall finger slap capture process was performed in under ten seconds.
- **•** A message conforming to TR-03121 XML containing the encoded images with the QA value, PAD result, result of slap classifier, uni queness check result and captured surveillance images is returned via the test interface.

2

### *Description:*

Check the timeout of the capturing process.

- **•** Initiate test case using the test interface.
- **•** Increase the minimum required quality thresholds for each fingerprint to 100.
- **•** Consecutively present slap with four fingers.
- **•** Follow the instructions of the [IUT](#page-163-1) for the slap placement on the scanner for the biometric test subject.

*Expected Result:*

- **•** The captured slap image are segmented into four single fingerprint images.
- **•** [PAD](#page-163-7) has been performed for each single fingerprint image and no warning or error (such as uniqueness check error) is shown.
- **•** Surveillance images are captured.
- **•** The quality assessment is performed for each single fingerprint image indi vidually and the overall quality assessment is negative.
- **•** The slap classification is performed.
- **•** The capturing process is restarted until the timeout of 10 seconds is reached.
- **•** After the timeout is reached captured slap with best quality identi fied and a message conforming to TR-03121 XML containing the encoded images with the QA value, the PAD result, the result of the slap classifier, the uniqueness check result and captured surveillance images is returned via the test interface.

#### 3 *Description:*

Check the Process with missing fingers.

- **•** Initiate test case using the test interface.
- **•** Present slap with at least one finger missing.
- **•** Follow the instructions of the [IUT](#page-163-1) for the slap placement on the scanner for the biometric test subject.

4

5

### *Expected Result:*

- **•** The captured finger and surveillance images are discarded.
- **•** The process ended without capturing the slap.
- *Description:*

Check retry option for wrong slap.

- **•** Initiate test case using the test interface.
- **•** Set number of retries larger than zero.
- **•** Present wrong slap (i.e. left hand slap instead of right hand slap) with four fingers, follow the instructions of the [IUT](#page-163-1) for the slap placement on the scanner for the biometric test subject.
- **•** Repeat presenting the wrong slap until process ends.

*Expected Result:*

- **•** The number of retries is the same as configured.
- **•** For every retry a message is shown, asking the biometric test subject to pre sent the correct slap. (I.e. if the right hand slap is presented, the message asks for the left hand slap.)
- **•** A warning is sent to the operator, that slap classifier detected pre sentation of the wrong slap.
- *Description:*

Check sequence error function.

- **•** Initiate test case using the test interface.
- **•** Present a slap.
- **•** Follow the instructions of the [IUT](#page-163-1) for the placement of slap on scan ner for the biometric test subject.
- **•** Present the same slap a second time, following the instructions of the [IUT](#page-163-1) for the placement of the slap on the scanner for the biometric test subject.
- **•** Present the same slap a third time, following the instructions of the [IUT](#page-163-1) for the placement of the slap on the scanner for the biometric test subject.

*Expected Result:*

- **•** After the second presentation of the same slap, a warning message about the detected sequence error (i.e. "This slap has already been captured.") is shown to the biometric subject.
- **•** After the third presentation of same slap, process ends without cap turing a slap.

**Table 3.45** Test Case ID: TC-PAP-ACQ-FPS-USV-1\_001

## <span id="page-158-0"></span>3.12 Test Cases PAP ACQ-FP2P-USV-1: Unsupervised Acquisition of Two Plain Fingerprints on Multi-Finger Hardware for Enrolment

| Test Case ID: TC-PAP-ACQ-FP2P-USV-1_001 |                                                                                                                                            |  |
|-----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                                   | Verify the correct acquisition process for a single slap with two fingers and missing finger(s).                                           |  |
| Preconditions                           | The IUT is in operation, required modules are loaded.<br>•                                                                                 |  |
|                                         | Hardware capable of capturing fingerprint images is connected.<br>•                                                                        |  |
|                                         | •<br>If HLBS is used by the system, the HLBS service definition for "Fingerprint Acquisition" specified<br>in TR-03121-2.2 is implemented. |  |
|                                         | •<br>As test resource: a biometric test subject for fingerprint capture.                                                                   |  |

- *CTS Mode* **•** interactive
	- **•** no provision of pre-defined input data
	- **•** HTTP method: GET
	- **•** test case variants:

*Description*

|      | /TR03122/TC-PAP-ACQ-FP2P-USV-1-001/1                                                                                                                                                                                                                  |
|------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      | Table 3.48 TC-PAP-ACQ-FP2P-USV-1-001 Test Case Variants                                                                                                                                                                                               |
| Step | Description / Expected Result                                                                                                                                                                                                                         |
| 1    | Description:                                                                                                                                                                                                                                          |
|      | Check the segmentation, quality assessment, PAD,uniqueness check result and<br>time required for the slap image acquisition.                                                                                                                          |
|      | •<br>Initiate test case using the test interface.                                                                                                                                                                                                     |
|      | •<br>Present slap with two fingers.                                                                                                                                                                                                                   |
|      | •<br>Follow the instructions of the IUT for the slap placement on the scanner for<br>the biometric test subject.                                                                                                                                      |
|      | Expected Result:                                                                                                                                                                                                                                      |
|      | •<br>The captured slap image are segmented into two single fingerprint images.                                                                                                                                                                        |
|      | PAD has been performed for each single fingerprint image and no warning<br>•<br>or error (such as uniqueness check error) is shown.                                                                                                                   |
|      | The quality assessment is performed for each single fingerprint image indi<br>•<br>vidually.                                                                                                                                                          |
|      | •<br>The slap classification is performed.                                                                                                                                                                                                            |
|      | •<br>The overall finger slap capture process was performed in under ten seconds.                                                                                                                                                                      |
|      | •<br>A message conforming to TR-03121 XML containing the encoded images<br>with the QA value, PAD result, result of slap classifier, uni<br>queness check result and potentially captured surveillance images is retur<br>ned via the test interface. |
| 2    | Description:                                                                                                                                                                                                                                          |
|      | Check the timeout of the capturing process.                                                                                                                                                                                                           |
|      | •<br>Initiate test case using the test interface.                                                                                                                                                                                                     |
|      | Increase the minimum required quality thresholds for each fingerprint to<br>•<br>100.                                                                                                                                                                 |
|      | Consecutively present slap with two fingers.<br>•                                                                                                                                                                                                     |
|      | •<br>Follow the instructions of the IUT for the slap placement on the scanner for<br>the biometric test subject.                                                                                                                                      |

### *Expected Result:*

- **•** The captured slap image are segmented into two single fingerprint images.
- **•** [PAD](#page-163-7) has been performed for each single fingerprint image and no warning or error (such as uniqueness check error) is shown.
- **•** The quality assessment is performed for each single fingerprint image indi vidually and the overall quality assessment is negative.
- **•** The slap classification is performed.
- **•** The capturing process is restarted until the timeout of 10 seconds is reached.
- **•** After the timeout is reached captured slap with best quality identi fied and a message conforming to TR-03121 XML containing the encoded images with the QA value, the PAD result, the result of the slap classifier, the uniqueness check result and potentially captured surveillance images is re turned via the test interface.

#### *Description:*

Check the Process with missing fingers.

- **•** Initiate test case using the test interface.
- **•** Present slap with at least one finger missing.
- **•** Follow the instructions of the [IUT](#page-163-1) for the slap placement on the scanner for the biometric test subject.

*Expected Result:*

- **•** The captured fingers are discarded.
- **•** The process ended without capturing the slap.

### **Table 3.47** Test Case ID: TC-PAP-ACQ-FP2P-USV-1\_001

3

## <span id="page-160-0"></span>3.13 Test Cases PAP ACQ-FP2P-USV-2: Unsupervised Acquisition of Two Plain Fingerprints on Single-Finger Hardware for Enrolment

| Test Case ID: TC-PAP-ACQ-FP2P-USV-2_001 |                                                                                                                                            |  |
|-----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|--|
| Scope                                   | Verify the correct acquisition process for two fingers and missing finger(s).                                                              |  |
| Preconditions                           | The IUT is in operation, required modules are loaded.<br>•                                                                                 |  |
|                                         | •<br>Hardware capable of capturing fingerprint images is connected.                                                                        |  |
|                                         | •<br>If HLBS is used by the system, the HLBS service definition for "Fingerprint Acquisition" specified<br>in TR-03121-2.2 is implemented. |  |
|                                         | •<br>As test resource: a biometric test subject for fingerprint capture.                                                                   |  |
| CTS Mode                                | •<br>interactive                                                                                                                           |  |
|                                         | •<br>no provision of pre-defined input data                                                                                                |  |
|                                         | •<br>HTTP method: GET                                                                                                                      |  |
|                                         | test case variants:<br>•                                                                                                                   |  |
|                                         | /TR03122/TC-PAP-ACQ-FP2P-USV-2-001/1<br>Table 3.50 TC-PAP-ACQ-FP2P-USV-2-001 Test Case Variants                                            |  |
| Description                             | Step<br>Description / Expected Result                                                                                                      |  |

1

2

### *Description:*

Check the quality assessment, [PAD](#page-163-7), uniqueness check result and time required for the fingerprint image acquisition.

- **•** Initiate test case using the test interface.
- **•** Present single fingers subsequently.
- **•** Follow the instructions of the [IUT](#page-163-1) for the placement of one finger on the scanner for the biometric test subject.

### *Expected Result:*

- **•** [PAD](#page-163-7) has been performed for the fingerprint image and no warning or error (such as uniqueness check error) is shown.
- **•** The quality assessment is performed for the fingerprint image.
- **•** The overall fingerprint capture process was performed in under ten se conds.
- **•** A message conforming to TR-03121 XML containing the encoded images with the QA value, PAD result, uniqueness check result and potenti ally captured surveillance images is returned via the test interface.

### *Description:*

Check the timeout of the capturing process.

- **•** Initiate test case using the test interface.
- **•** Increase the minimum required quality thresholds for the fingerprint to 100.
- **•** Consecutively present single fingerprints.
- **•** Follow the instructions of the [IUT](#page-163-1) for the placement of the single finger on the scanner for the biometric test subject.

#### *Expected Result:*

- **•** [PAD](#page-163-7) has been performed for the fingerprint image and no warning or error (such as uniqueness check error) is shown.
- **•** The quality assessment is performed for the fingerprint image and over all quality assessment is negative.
- **•** The capturing process is restarted until the timeout of ten seconds is reached.
- **•** After the timeout is reached the captured fingerprint with best quality is identified and a message conforming to TR-03121 XML containing the en coded images with the QA value, PAD result, uniqueness check re sult and potentially captured surveillance images is returned via the test in terface.

#### 3

### *Description:*

Check the Process with missing fingers.

- **•** Initiate test case using the test interface.
- **•** Present no finger.

*Expected Result:*

The process ended without capturing the fingerprint.

4

### *Description:*

Check sequence error function.

- **•** Initiate test case using the test interface.
- **•** Present a single finger.
- **•** Follow the instructions of the [IUT](#page-163-1) for the placement of the single finger on the scanner for the biometric test subject.
- **•** Present the same single finger a second time, following the instructions of the [IUT for the placement of single finger on scanner bio](#page-163-1) metric test subject.
- **•** Present the same single finger a third time, following the instructions of the [IUT](#page-163-1) for the placement of the single finger on the scanner for the biometric test subject.

*Expected Result:*

- **•** After the second presentation of the same finger, a warning message about the detected sequence error (i.e. "This finger has already been captured.") is shown to the biometric subject.
- **•** After the third presentation of the same finger, the process ends without capturing a fingerprint.

**Table 3.49** Test Case ID: TC-PAP-ACQ-FP2P-USV-1\_001

# <span id="page-163-0"></span>List of Abbreviations

<span id="page-163-22"></span><span id="page-163-21"></span><span id="page-163-20"></span><span id="page-163-19"></span><span id="page-163-18"></span><span id="page-163-17"></span><span id="page-163-16"></span><span id="page-163-15"></span><span id="page-163-14"></span><span id="page-163-13"></span><span id="page-163-12"></span><span id="page-163-11"></span><span id="page-163-10"></span><span id="page-163-9"></span><span id="page-163-8"></span><span id="page-163-7"></span><span id="page-163-6"></span><span id="page-163-5"></span><span id="page-163-4"></span><span id="page-163-3"></span><span id="page-163-2"></span><span id="page-163-1"></span>

| Abbreviation | Description                                     |
|--------------|-------------------------------------------------|
| BDB          | Biometric Data Block                            |
| BHT          | Biometric Header Template                       |
| CBEFF        | Common Biometric Exchange Formats Framework     |
| CIR          | Central Identity Register                       |
| CTF          | contrast transfer function                      |
| DET          | Detection Error Trade-Off                       |
| EES          | Entry-Exit System                               |
| FMR          | false-match-rate                                |
| FNIR         | false-negative-identification-rate              |
| FNMR         | false-non-match-rate                            |
| FPIR         | false-positive-identification-rate              |
| GID          | German Identity Document                        |
| GSAT3        | German Standard for AFIS Transactions Version 3 |
| GUI          | graphical user interface                        |
| IUT          | Implementation Under Test                       |
| PAD          | Presentation Attack Detection                   |
| PAI          | Presentation Attack Instrument                  |
| QA           | Quality Assessment                              |
| SIS          | Schengen Information System                     |
| SNR          | signal-to-noise ratio                           |
| SSS          | self-service system                             |
| WSQ          | Wavelet Scalar Quantisation                     |

# <span id="page-164-0"></span>Bibliography

<span id="page-164-2"></span>[EBTS/F] *FBI Electronic Biometric Transmission Specification Version 11, Appendix F, April 2021.*

- <span id="page-164-4"></span>[ICAO\_TR\_Portrait\_Quality] *ICAO Technical Report: Portrait Quality (Reference Facial Images for MRTD), ver sion 1.0, April 2018.*
- <span id="page-164-1"></span>[ISO\_FACE] *ISO/IEC 19794-5:2005 "Information technology - Biometric data interchange formats – Part 5: Face image data".*
- <span id="page-164-5"></span>[ISO\_FINGER] *ISO/IEC 19794-4:2005 "Information technology - Biometric data interchange formats – Part 4: Finger image data".*
- <span id="page-164-6"></span>[NFIQ2] *NIST Fingerprint Image Quality 2.*
- <span id="page-164-3"></span>[PIV] *Personal Identity Verification (PIV) Image Quality Specification for Single Finger Capture Devices, FBI/CJIS Biometric Specifications, 10 July 2006.*